import{c as od,g as sd,a as jn,t as ad,b as ca,s as cd,p as ld,d as ud,l as hd,e as la,f as dd,h as ua,i as ha,o as pd,j as fd,k as md,m as yd,n as gd}from"./citations-e0558ba9.js";/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.3
*/const da=Object.freeze({left:0,top:0,width:16,height:16}),lr=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Wn=Object.freeze({...da,...lr}),Jr=Object.freeze({...Wn,body:"",hidden:!1}),vd=Object.freeze({width:null,height:null}),pa=Object.freeze({...vd,...lr});function bd(h,d=0){const u=h.replace(/^-?[0-9.]*/,"");function m(a){for(;a<0;)a+=4;return a%4}if(u===""){const a=parseInt(h);return isNaN(a)?0:m(a)}else if(u!==h){let a=0;switch(u){case"%":a=25;break;case"deg":a=90}if(a){let f=parseFloat(h.slice(0,h.length-u.length));return isNaN(f)?0:(f=f/a,f%1===0?m(f):0)}}return d}const _d=/[\s,]+/;function wd(h,d){d.split(_d).forEach(u=>{switch(u.trim()){case"horizontal":h.hFlip=!0;break;case"vertical":h.vFlip=!0;break}})}const fa={...pa,preserveAspectRatio:""};function Is(h){const d={...fa},u=(m,a)=>h.getAttribute(m)||a;return d.width=u("width",null),d.height=u("height",null),d.rotate=bd(u("rotate","")),wd(d,u("flip","")),d.preserveAspectRatio=u("preserveAspectRatio",u("preserveaspectratio","")),d}function kd(h,d){for(const u in fa)if(h[u]!==d[u])return!0;return!1}const Vn=/^[a-z0-9]+(-[a-z0-9]+)*$/,Jn=(h,d,u,m="")=>{const a=h.split(":");if(h.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;m=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const g=a.pop(),v=a.pop(),_={provider:a.length>0?a[0]:m,prefix:v,name:g};return d&&!ar(_)?null:_}const f=a[0],y=f.split("-");if(y.length>1){const g={provider:m,prefix:y.shift(),name:y.join("-")};return d&&!ar(g)?null:g}if(u&&m===""){const g={provider:m,prefix:"",name:f};return d&&!ar(g,u)?null:g}return null},ar=(h,d)=>h?!!((h.provider===""||h.provider.match(Vn))&&(d&&h.prefix===""||h.prefix.match(Vn))&&h.name.match(Vn)):!1;function xd(h,d){const u={};!h.hFlip!=!d.hFlip&&(u.hFlip=!0),!h.vFlip!=!d.vFlip&&(u.vFlip=!0);const m=((h.rotate||0)+(d.rotate||0))%4;return m&&(u.rotate=m),u}function Bs(h,d){const u=xd(h,d);for(const m in Jr)m in lr?m in h&&!(m in u)&&(u[m]=lr[m]):m in d?u[m]=d[m]:m in h&&(u[m]=h[m]);return u}function jd(h,d){const u=h.icons,m=h.aliases||Object.create(null),a=Object.create(null);function f(y){if(u[y])return a[y]=[];if(!(y in a)){a[y]=null;const g=m[y]&&m[y].parent,v=g&&f(g);v&&(a[y]=[g].concat(v))}return a[y]}return(d||Object.keys(u).concat(Object.keys(m))).forEach(f),a}function Cd(h,d,u){const m=h.icons,a=h.aliases||Object.create(null);let f={};function y(g){f=Bs(m[g]||a[g],f)}return y(d),u.forEach(y),Bs(h,f)}function ma(h,d){const u=[];if(typeof h!="object"||typeof h.icons!="object")return u;h.not_found instanceof Array&&h.not_found.forEach(a=>{d(a,null),u.push(a)});const m=jd(h);for(const a in m){const f=m[a];f&&(d(a,Cd(h,a,f)),u.push(a))}return u}const Od={provider:"",aliases:{},not_found:{},...da};function Hr(h,d){for(const u in d)if(u in h&&typeof h[u]!=typeof d[u])return!1;return!0}function ya(h){if(typeof h!="object"||h===null)return null;const d=h;if(typeof d.prefix!="string"||!h.icons||typeof h.icons!="object"||!Hr(h,Od))return null;const u=d.icons;for(const a in u){const f=u[a];if(!a.match(Vn)||typeof f.body!="string"||!Hr(f,Jr))return null}const m=d.aliases||Object.create(null);for(const a in m){const f=m[a],y=f.parent;if(!a.match(Vn)||typeof y!="string"||!u[y]&&!m[y]||!Hr(f,Jr))return null}return d}const ur=Object.create(null);function Ed(h,d){return{provider:h,prefix:d,icons:Object.create(null),missing:new Set}}function Ve(h,d){const u=ur[h]||(ur[h]=Object.create(null));return u[d]||(u[d]=Ed(h,d))}function ai(h,d){return ya(d)?ma(d,(u,m)=>{m?h.icons[u]=m:h.missing.add(u)}):[]}function Sd(h,d,u){try{if(typeof u.body=="string")return h.icons[d]={...u},!0}catch{}return!1}function Pd(h,d){let u=[];return(typeof h=="string"?[h]:Object.keys(ur)).forEach(a=>{(typeof a=="string"&&typeof d=="string"?[d]:Object.keys(ur[a]||{})).forEach(y=>{const g=Ve(a,y);u=u.concat(Object.keys(g.icons).map(v=>(a!==""?"@"+a+":":"")+y+":"+v))})}),u}let Hn=!1;function ga(h){return typeof h=="boolean"&&(Hn=h),Hn}function zn(h){const d=typeof h=="string"?Jn(h,!0,Hn):h;if(d){const u=Ve(d.provider,d.prefix),m=d.name;return u.icons[m]||(u.missing.has(m)?null:void 0)}}function va(h,d){const u=Jn(h,!0,Hn);if(!u)return!1;const m=Ve(u.provider,u.prefix);return Sd(m,u.name,d)}function Ns(h,d){if(typeof h!="object")return!1;if(typeof d!="string"&&(d=h.provider||""),Hn&&!d&&!h.prefix){let a=!1;return ya(h)&&(h.prefix="",ma(h,(f,y)=>{y&&va(f,y)&&(a=!0)})),a}const u=h.prefix;if(!ar({provider:d,prefix:u,name:"a"}))return!1;const m=Ve(d,u);return!!ai(m,h)}function Td(h){return!!zn(h)}function Ld(h){const d=zn(h);return d?{...Wn,...d}:null}function Rd(h){const d={loaded:[],missing:[],pending:[]},u=Object.create(null);h.sort((a,f)=>a.provider!==f.provider?a.provider.localeCompare(f.provider):a.prefix!==f.prefix?a.prefix.localeCompare(f.prefix):a.name.localeCompare(f.name));let m={provider:"",prefix:"",name:""};return h.forEach(a=>{if(m.name===a.name&&m.prefix===a.prefix&&m.provider===a.provider)return;m=a;const f=a.provider,y=a.prefix,g=a.name,v=u[f]||(u[f]=Object.create(null)),_=v[y]||(v[y]=Ve(f,y));let w;g in _.icons?w=d.loaded:y===""||_.missing.has(g)?w=d.missing:w=d.pending;const x={provider:f,prefix:y,name:g};w.push(x)}),d}function ba(h,d){h.forEach(u=>{const m=u.loaderCallbacks;m&&(u.loaderCallbacks=m.filter(a=>a.id!==d))})}function Ad(h){h.pendingCallbacksFlag||(h.pendingCallbacksFlag=!0,setTimeout(()=>{h.pendingCallbacksFlag=!1;const d=h.loaderCallbacks?h.loaderCallbacks.slice(0):[];if(!d.length)return;let u=!1;const m=h.provider,a=h.prefix;d.forEach(f=>{const y=f.icons,g=y.pending.length;y.pending=y.pending.filter(v=>{if(v.prefix!==a)return!0;const _=v.name;if(h.icons[_])y.loaded.push({provider:m,prefix:a,name:_});else if(h.missing.has(_))y.missing.push({provider:m,prefix:a,name:_});else return u=!0,!0;return!1}),y.pending.length!==g&&(u||ba([h],f.id),f.callback(y.loaded.slice(0),y.missing.slice(0),y.pending.slice(0),f.abort))})}))}let Id=0;function Bd(h,d,u){const m=Id++,a=ba.bind(null,u,m);if(!d.pending.length)return a;const f={id:m,icons:d,callback:h,abort:a};return u.forEach(y=>{(y.loaderCallbacks||(y.loaderCallbacks=[])).push(f)}),a}const Qr=Object.create(null);function Fs(h,d){Qr[h]=d}function Yr(h){return Qr[h]||Qr[""]}function Nd(h,d=!0,u=!1){const m=[];return h.forEach(a=>{const f=typeof a=="string"?Jn(a,d,u):a;f&&m.push(f)}),m}var Fd={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Dd(h,d,u,m){const a=h.resources.length,f=h.random?Math.floor(Math.random()*a):h.index;let y;if(h.random){let I=h.resources.slice(0);for(y=[];I.length>1;){const F=Math.floor(Math.random()*I.length);y.push(I[F]),I=I.slice(0,F).concat(I.slice(F+1))}y=y.concat(I)}else y=h.resources.slice(f).concat(h.resources.slice(0,f));const g=Date.now();let v="pending",_=0,w,x=null,j=[],E=[];typeof m=="function"&&E.push(m);function T(){x&&(clearTimeout(x),x=null)}function L(){v==="pending"&&(v="aborted"),T(),j.forEach(I=>{I.status==="pending"&&(I.status="aborted")}),j=[]}function A(I,F){F&&(E=[]),typeof I=="function"&&E.push(I)}function S(){return{startTime:g,payload:d,status:v,queriesSent:_,queriesPending:j.length,subscribe:A,abort:L}}function C(){v="failed",E.forEach(I=>{I(void 0,w)})}function O(){j.forEach(I=>{I.status==="pending"&&(I.status="aborted")}),j=[]}function B(I,F,H){const D=F!=="success";switch(j=j.filter(Z=>Z!==I),v){case"pending":break;case"failed":if(D||!h.dataAfterTimeout)return;break;default:return}if(F==="abort"){w=H,C();return}if(D){w=H,j.length||(y.length?R():C());return}if(T(),O(),!h.random){const Z=h.resources.indexOf(I.resource);Z!==-1&&Z!==h.index&&(h.index=Z)}v="completed",E.forEach(Z=>{Z(H)})}function R(){if(v!=="pending")return;T();const I=y.shift();if(I===void 0){if(j.length){x=setTimeout(()=>{T(),v==="pending"&&(O(),C())},h.timeout);return}C();return}const F={status:"pending",resource:I,callback:(H,D)=>{B(F,H,D)}};j.push(F),_++,x=setTimeout(R,h.rotate),u(I,d,F.callback)}return setTimeout(R),S}function _a(h){const d={...Fd,...h};let u=[];function m(){u=u.filter(g=>g().status==="pending")}function a(g,v,_){const w=Dd(d,g,v,(x,j)=>{m(),_&&_(x,j)});return u.push(w),w}function f(g){return u.find(v=>g(v))||null}return{query:a,find:f,setIndex:g=>{d.index=g},getIndex:()=>d.index,cleanup:m}}function ci(h){let d;if(typeof h.resources=="string")d=[h.resources];else if(d=h.resources,!(d instanceof Array)||!d.length)return null;return{resources:d,path:h.path||"/",maxURL:h.maxURL||500,rotate:h.rotate||750,timeout:h.timeout||5e3,random:h.random===!0,index:h.index||0,dataAfterTimeout:h.dataAfterTimeout!==!1}}const mr=Object.create(null),Mn=["https://api.simplesvg.com","https://api.unisvg.com"],cr=[];for(;Mn.length>0;)Mn.length===1||Math.random()>.5?cr.push(Mn.shift()):cr.push(Mn.pop());mr[""]=ci({resources:["https://api.iconify.design"].concat(cr)});function Ds(h,d){const u=ci(d);return u===null?!1:(mr[h]=u,!0)}function yr(h){return mr[h]}function Md(){return Object.keys(mr)}function Ms(){}const zr=Object.create(null);function Vd(h){if(!zr[h]){const d=yr(h);if(!d)return;const u=_a(d),m={config:d,redundancy:u};zr[h]=m}return zr[h]}function wa(h,d,u){let m,a;if(typeof h=="string"){const f=Yr(h);if(!f)return u(void 0,424),Ms;a=f.send;const y=Vd(h);y&&(m=y.redundancy)}else{const f=ci(h);if(f){m=_a(f);const y=h.resources?h.resources[0]:"",g=Yr(y);g&&(a=g.send)}}return!m||!a?(u(void 0,424),Ms):m.query(d,a,u)().abort}const Vs="iconify2",$n="iconify",ka=$n+"-count",Hs=$n+"-version",xa=36e5,Hd=168;function Zr(h,d){try{return h.getItem(d)}catch{}}function li(h,d,u){try{return h.setItem(d,u),!0}catch{}}function zs(h,d){try{h.removeItem(d)}catch{}}function Xr(h,d){return li(h,ka,d.toString())}function Kr(h){return parseInt(Zr(h,ka))||0}const fn={local:!0,session:!0},ja={local:new Set,session:new Set};let ui=!1;function zd(h){ui=h}let sr=typeof window>"u"?{}:window;function Ca(h){const d=h+"Storage";try{if(sr&&sr[d]&&typeof sr[d].length=="number")return sr[d]}catch{}fn[h]=!1}function Oa(h,d){const u=Ca(h);if(!u)return;const m=Zr(u,Hs);if(m!==Vs){if(m){const g=Kr(u);for(let v=0;v<g;v++)zs(u,$n+v.toString())}li(u,Hs,Vs),Xr(u,0);return}const a=Math.floor(Date.now()/xa)-Hd,f=g=>{const v=$n+g.toString(),_=Zr(u,v);if(typeof _=="string"){try{const w=JSON.parse(_);if(typeof w=="object"&&typeof w.cached=="number"&&w.cached>a&&typeof w.provider=="string"&&typeof w.data=="object"&&typeof w.data.prefix=="string"&&d(w,g))return!0}catch{}zs(u,v)}};let y=Kr(u);for(let g=y-1;g>=0;g--)f(g)||(g===y-1?(y--,Xr(u,y)):ja[h].add(g))}function Ea(){if(!ui){zd(!0);for(const h in fn)Oa(h,d=>{const u=d.data,m=d.provider,a=u.prefix,f=Ve(m,a);if(!ai(f,u).length)return!1;const y=u.lastModified||-1;return f.lastModifiedCached=f.lastModifiedCached?Math.min(f.lastModifiedCached,y):y,!0})}}function $d(h,d){const u=h.lastModifiedCached;if(u&&u>=d)return u===d;if(h.lastModifiedCached=d,u)for(const m in fn)Oa(m,a=>{const f=a.data;return a.provider!==h.provider||f.prefix!==h.prefix||f.lastModified===d});return!0}function qd(h,d){ui||Ea();function u(m){let a;if(!fn[m]||!(a=Ca(m)))return;const f=ja[m];let y;if(f.size)f.delete(y=Array.from(f).shift());else if(y=Kr(a),!Xr(a,y+1))return;const g={cached:Math.floor(Date.now()/xa),provider:h.provider,data:d};return li(a,$n+y.toString(),JSON.stringify(g))}d.lastModified&&!$d(h,d.lastModified)||Object.keys(d.icons).length&&(d.not_found&&(d=Object.assign({},d),delete d.not_found),u("local")||u("session"))}function $s(){}function Ud(h){h.iconsLoaderFlag||(h.iconsLoaderFlag=!0,setTimeout(()=>{h.iconsLoaderFlag=!1,Ad(h)}))}function Gd(h,d){h.iconsToLoad?h.iconsToLoad=h.iconsToLoad.concat(d).sort():h.iconsToLoad=d,h.iconsQueueFlag||(h.iconsQueueFlag=!0,setTimeout(()=>{h.iconsQueueFlag=!1;const{provider:u,prefix:m}=h,a=h.iconsToLoad;delete h.iconsToLoad;let f;if(!a||!(f=Yr(u)))return;f.prepare(u,m,a).forEach(g=>{wa(u,g,v=>{if(typeof v!="object")g.icons.forEach(_=>{h.missing.add(_)});else try{const _=ai(h,v);if(!_.length)return;const w=h.pendingIcons;w&&_.forEach(x=>{w.delete(x)}),qd(h,v)}catch(_){console.error(_)}Ud(h)})})}))}const hi=(h,d)=>{const u=Nd(h,!0,ga()),m=Rd(u);if(!m.pending.length){let v=!0;return d&&setTimeout(()=>{v&&d(m.loaded,m.missing,m.pending,$s)}),()=>{v=!1}}const a=Object.create(null),f=[];let y,g;return m.pending.forEach(v=>{const{provider:_,prefix:w}=v;if(w===g&&_===y)return;y=_,g=w,f.push(Ve(_,w));const x=a[_]||(a[_]=Object.create(null));x[w]||(x[w]=[])}),m.pending.forEach(v=>{const{provider:_,prefix:w,name:x}=v,j=Ve(_,w),E=j.pendingIcons||(j.pendingIcons=new Set);E.has(x)||(E.add(x),a[_][w].push(x))}),f.forEach(v=>{const{provider:_,prefix:w}=v;a[_][w].length&&Gd(v,a[_][w])}),d?Bd(d,m,f):$s},Wd=h=>new Promise((d,u)=>{const m=typeof h=="string"?Jn(h,!0):h;if(!m){u(h);return}hi([m||h],a=>{if(a.length&&m){const f=zn(m);if(f){d({...Wn,...f});return}}u(h)})});function Jd(h){try{const d=typeof h=="string"?JSON.parse(h):h;if(typeof d.body=="string")return{...d}}catch{}}function Qd(h,d){const u=typeof h=="string"?Jn(h,!0,!0):null;if(!u){const f=Jd(h);return{value:h,data:f}}const m=zn(u);if(m!==void 0||!u.prefix)return{value:h,name:u,data:m};const a=hi([u],()=>d(h,u,zn(u)));return{value:h,name:u,loading:a}}function $r(h){return h.hasAttribute("inline")}let Sa=!1;try{Sa=navigator.vendor.indexOf("Apple")===0}catch{}function Yd(h,d){switch(d){case"svg":case"bg":case"mask":return d}return d!=="style"&&(Sa||h.indexOf("<a")===-1)?"svg":h.indexOf("currentColor")===-1?"bg":"mask"}const Zd=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Xd=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ti(h,d,u){if(d===1)return h;if(u=u||100,typeof h=="number")return Math.ceil(h*d*u)/u;if(typeof h!="string")return h;const m=h.split(Zd);if(m===null||!m.length)return h;const a=[];let f=m.shift(),y=Xd.test(f);for(;;){if(y){const g=parseFloat(f);isNaN(g)?a.push(f):a.push(Math.ceil(g*d*u)/u)}else a.push(f);if(f=m.shift(),f===void 0)return a.join("");y=!y}}const Kd=h=>h==="unset"||h==="undefined"||h==="none";function Pa(h,d){const u={...Wn,...h},m={...pa,...d},a={left:u.left,top:u.top,width:u.width,height:u.height};let f=u.body;[u,m].forEach(T=>{const L=[],A=T.hFlip,S=T.vFlip;let C=T.rotate;A?S?C+=2:(L.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),L.push("scale(-1 1)"),a.top=a.left=0):S&&(L.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),L.push("scale(1 -1)"),a.top=a.left=0);let O;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:O=a.height/2+a.top,L.unshift("rotate(90 "+O.toString()+" "+O.toString()+")");break;case 2:L.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:O=a.width/2+a.left,L.unshift("rotate(-90 "+O.toString()+" "+O.toString()+")");break}C%2===1&&(a.left!==a.top&&(O=a.left,a.left=a.top,a.top=O),a.width!==a.height&&(O=a.width,a.width=a.height,a.height=O)),L.length&&(f='<g transform="'+L.join(" ")+'">'+f+"</g>")});const y=m.width,g=m.height,v=a.width,_=a.height;let w,x;y===null?(x=g===null?"1em":g==="auto"?_:g,w=ti(x,v/_)):(w=y==="auto"?v:y,x=g===null?ti(w,_/v):g==="auto"?_:g);const j={},E=(T,L)=>{Kd(L)||(j[T]=L.toString())};return E("width",w),E("height",x),j.viewBox=a.left.toString()+" "+a.top.toString()+" "+v.toString()+" "+_.toString(),{attributes:j,body:f}}const tp=()=>{let h;try{if(h=fetch,typeof h=="function")return h}catch{}};let hr=tp();function ep(h){hr=h}function np(){return hr}function rp(h,d){const u=yr(h);if(!u)return 0;let m;if(!u.maxURL)m=0;else{let a=0;u.resources.forEach(y=>{a=Math.max(a,y.length)});const f=d+".json?icons=";m=u.maxURL-a-u.path.length-f.length}return m}function ip(h){return h===404}const op=(h,d,u)=>{const m=[],a=rp(h,d),f="icons";let y={type:f,provider:h,prefix:d,icons:[]},g=0;return u.forEach((v,_)=>{g+=v.length+1,g>=a&&_>0&&(m.push(y),y={type:f,provider:h,prefix:d,icons:[]},g=v.length),y.icons.push(v)}),m.push(y),m};function sp(h){if(typeof h=="string"){const d=yr(h);if(d)return d.path}return"/"}const ap=(h,d,u)=>{if(!hr){u("abort",424);return}let m=sp(d.provider);switch(d.type){case"icons":{const f=d.prefix,g=d.icons.join(","),v=new URLSearchParams({icons:g});m+=f+".json?"+v.toString();break}case"custom":{const f=d.uri;m+=f.slice(0,1)==="/"?f.slice(1):f;break}default:u("abort",400);return}let a=503;hr(h+m).then(f=>{const y=f.status;if(y!==200){setTimeout(()=>{u(ip(y)?"abort":"next",y)});return}return a=501,f.json()}).then(f=>{if(typeof f!="object"||f===null){setTimeout(()=>{f===404?u("abort",f):u("next",a)});return}setTimeout(()=>{u("success",f)})}).catch(()=>{u("next",a)})},cp={prepare:op,send:ap};function qs(h,d){switch(h){case"local":case"session":fn[h]=d;break;case"all":for(const u in fn)fn[u]=d;break}}const qr="data-style";let Ta="";function lp(h){Ta=h}function Us(h,d){let u=Array.from(h.childNodes).find(m=>m.hasAttribute&&m.hasAttribute(qr));u||(u=document.createElement("style"),u.setAttribute(qr,qr),h.appendChild(u)),u.textContent=":host{display:inline-block;vertical-align:"+(d?"-0.125em":"0")+"}span,svg{display:block}"+Ta}function La(){Fs("",cp),ga(!0);let h;try{h=window}catch{}if(h){if(Ea(),h.IconifyPreload!==void 0){const u=h.IconifyPreload,m="Invalid IconifyPreload syntax.";typeof u=="object"&&u!==null&&(u instanceof Array?u:[u]).forEach(a=>{try{(typeof a!="object"||a===null||a instanceof Array||typeof a.icons!="object"||typeof a.prefix!="string"||!Ns(a))&&console.error(m)}catch{console.error(m)}})}if(h.IconifyProviders!==void 0){const u=h.IconifyProviders;if(typeof u=="object"&&u!==null)for(const m in u){const a="IconifyProviders["+m+"] is invalid.";try{const f=u[m];if(typeof f!="object"||!f||f.resources===void 0)continue;Ds(m,f)||console.error(a)}catch{console.error(a)}}}}return{enableCache:u=>qs(u,!0),disableCache:u=>qs(u,!1),iconExists:Td,getIcon:Ld,listIcons:Pd,addIcon:va,addCollection:Ns,calculateSize:ti,buildIcon:Pa,loadIcons:hi,loadIcon:Wd,addAPIProvider:Ds,appendCustomStyle:lp,_api:{getAPIConfig:yr,setAPIModule:Fs,sendAPIQuery:wa,setFetch:ep,getFetch:np,listAPIProviders:Md}}}function Ra(h,d){let u=h.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const m in d)u+=" "+m+'="'+d[m]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+u+">"+h+"</svg>"}function up(h){return h.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function hp(h){return'url("data:image/svg+xml,'+up(h)+'")'}const ei={"background-color":"currentColor"},Aa={"background-color":"transparent"},Gs={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Ws={"-webkit-mask":ei,mask:ei,background:Aa};for(const h in Ws){const d=Ws[h];for(const u in Gs)d[h+"-"+u]=Gs[u]}function Js(h){return h+(h.match(/^[-0-9.]+$/)?"px":"")}function dp(h,d,u){const m=document.createElement("span");let a=h.body;a.indexOf("<a")!==-1&&(a+="<!-- "+Date.now()+" -->");const f=h.attributes,y=Ra(a,{...f,width:d.width+"",height:d.height+""}),g=hp(y),v=m.style,_={"--svg":g,width:Js(f.width),height:Js(f.height),...u?ei:Aa};for(const w in _)v.setProperty(w,_[w]);return m}function pp(h){const d=document.createElement("span");return d.innerHTML=Ra(h.body,h.attributes),d.firstChild}function Qs(h,d){const u=d.icon.data,m=d.customisations,a=Pa(u,m);m.preserveAspectRatio&&(a.attributes.preserveAspectRatio=m.preserveAspectRatio);const f=d.renderedMode;let y;switch(f){case"svg":y=pp(a);break;default:y=dp(a,{...Wn,...u},f==="mask")}const g=Array.from(h.childNodes).find(v=>{const _=v.tagName&&v.tagName.toUpperCase();return _==="SPAN"||_==="SVG"});g?y.tagName==="SPAN"&&g.tagName===y.tagName?g.setAttribute("style",y.getAttribute("style")):h.replaceChild(y,g):h.appendChild(y)}function Ys(h,d,u){const m=u&&(u.rendered?u:u.lastRender);return{rendered:!1,inline:d,icon:h,lastRender:m}}function fp(h="iconify-icon"){let d,u;try{d=window.customElements,u=window.HTMLElement}catch{return}if(!d||!u)return;const m=d.get(h);if(m)return m;const a=["icon","mode","inline","width","height","rotate","flip"],f=class extends u{_shadowRoot;_state;_checkQueued=!1;constructor(){super();const g=this._shadowRoot=this.attachShadow({mode:"open"}),v=$r(this);Us(g,v),this._state=Ys({value:""},v),this._queueCheck()}static get observedAttributes(){return a.slice(0)}attributeChangedCallback(g){if(g==="inline"){const v=$r(this),_=this._state;v!==_.inline&&(_.inline=v,Us(this._shadowRoot,v))}else this._queueCheck()}get icon(){const g=this.getAttribute("icon");if(g&&g.slice(0,1)==="{")try{return JSON.parse(g)}catch{}return g}set icon(g){typeof g=="object"&&(g=JSON.stringify(g)),this.setAttribute("icon",g)}get inline(){return $r(this)}set inline(g){this.setAttribute("inline",g?"true":null)}restartAnimation(){const g=this._state;if(g.rendered){const v=this._shadowRoot;if(g.renderedMode==="svg")try{v.lastChild.setCurrentTime(0);return}catch{}Qs(v,g)}}get status(){const g=this._state;return g.rendered?"rendered":g.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const g=this._state,v=this.getAttribute("icon");if(v!==g.icon.value){this._iconChanged(v);return}if(!g.rendered)return;const _=this.getAttribute("mode"),w=Is(this);(g.attrMode!==_||kd(g.customisations,w))&&this._renderIcon(g.icon,w,_)}_iconChanged(g){const v=Qd(g,(_,w,x)=>{const j=this._state;if(j.rendered||this.getAttribute("icon")!==_)return;const E={value:_,name:w,data:x};E.data?this._gotIconData(E):j.icon=E});v.data?this._gotIconData(v):this._state=Ys(v,this._state.inline,this._state)}_gotIconData(g){this._checkQueued=!1,this._renderIcon(g,Is(this),this.getAttribute("mode"))}_renderIcon(g,v,_){const w=Yd(g.data.body,_),x=this._state.inline;Qs(this._shadowRoot,this._state={rendered:!0,icon:g,inline:x,customisations:v,attrMode:_,renderedMode:w})}};a.forEach(g=>{g in f.prototype||Object.defineProperty(f.prototype,g,{get:function(){return this.getAttribute(g)},set:function(v){this.setAttribute(g,v)}})});const y=La();for(const g in y)f[g]=f.prototype[g]=y[g];return d.define(h,f),f}fp()||La();const Se=document,dr=window,Ia=Se.documentElement,mn=Se.createElement.bind(Se),Ba=mn("div"),Ur=mn("table"),mp=mn("tbody"),Zs=mn("tr"),{isArray:gr,prototype:Na}=Array,{concat:yp,filter:di,indexOf:Fa,map:Da,push:gp,slice:Ma,some:pi,splice:vp}=Na,bp=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,_p=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,wp=/<.+>/,kp=/^\w+$/;function fi(h,d){const u=xp(d);return!h||!u&&!On(d)&&!Dt(d)?[]:!u&&_p.test(h)?d.getElementsByClassName(h.slice(1).replace(/\\/g,"")):!u&&kp.test(h)?d.getElementsByTagName(h):d.querySelectorAll(h)}class vr{constructor(d,u){if(!d)return;if(ni(d))return d;let m=d;if(Ut(d)){const a=(ni(u)?u[0]:u)||Se;if(m=bp.test(d)&&"getElementById"in a?a.getElementById(d.slice(1).replace(/\\/g,"")):wp.test(d)?za(d):fi(d,a),!m)return}else if(yn(d))return this.ready(d);(m.nodeType||m===dr)&&(m=[m]),this.length=m.length;for(let a=0,f=this.length;a<f;a++)this[a]=m[a]}init(d,u){return new vr(d,u)}}const J=vr.prototype,rt=J.init;rt.fn=rt.prototype=J;J.length=0;J.splice=vp;typeof Symbol=="function"&&(J[Symbol.iterator]=Na[Symbol.iterator]);function ni(h){return h instanceof vr}function Cn(h){return!!h&&h===h.window}function On(h){return!!h&&h.nodeType===9}function xp(h){return!!h&&h.nodeType===11}function Dt(h){return!!h&&h.nodeType===1}function jp(h){return!!h&&h.nodeType===3}function Cp(h){return typeof h=="boolean"}function yn(h){return typeof h=="function"}function Ut(h){return typeof h=="string"}function Gt(h){return h===void 0}function qn(h){return h===null}function Va(h){return!isNaN(parseFloat(h))&&isFinite(h)}function mi(h){if(typeof h!="object"||h===null)return!1;const d=Object.getPrototypeOf(h);return d===null||d===Object.prototype}rt.isWindow=Cn;rt.isFunction=yn;rt.isArray=gr;rt.isNumeric=Va;rt.isPlainObject=mi;function Mt(h,d,u){if(u){let m=h.length;for(;m--;)if(d.call(h[m],m,h[m])===!1)return h}else if(mi(h)){const m=Object.keys(h);for(let a=0,f=m.length;a<f;a++){const y=m[a];if(d.call(h[y],y,h[y])===!1)return h}}else for(let m=0,a=h.length;m<a;m++)if(d.call(h[m],m,h[m])===!1)return h;return h}rt.each=Mt;J.each=function(h){return Mt(this,h)};J.empty=function(){return this.each((h,d)=>{for(;d.firstChild;)d.removeChild(d.firstChild)})};function pr(...h){const d=Cp(h[0])?h.shift():!1,u=h.shift(),m=h.length;if(!u)return{};if(!m)return pr(d,rt,u);for(let a=0;a<m;a++){const f=h[a];for(const y in f)d&&(gr(f[y])||mi(f[y]))?((!u[y]||u[y].constructor!==f[y].constructor)&&(u[y]=new f[y].constructor),pr(d,u[y],f[y])):u[y]=f[y]}return u}rt.extend=pr;J.extend=function(h){return pr(J,h)};const Op=/\S+/g;function br(h){return Ut(h)?h.match(Op)||[]:[]}J.toggleClass=function(h,d){const u=br(h),m=!Gt(d);return this.each((a,f)=>{Dt(f)&&Mt(u,(y,g)=>{m?d?f.classList.add(g):f.classList.remove(g):f.classList.toggle(g)})})};J.addClass=function(h){return this.toggleClass(h,!0)};J.removeAttr=function(h){const d=br(h);return this.each((u,m)=>{Dt(m)&&Mt(d,(a,f)=>{m.removeAttribute(f)})})};function Ep(h,d){if(h){if(Ut(h)){if(arguments.length<2){if(!this[0]||!Dt(this[0]))return;const u=this[0].getAttribute(h);return qn(u)?void 0:u}return Gt(d)?this:qn(d)?this.removeAttr(h):this.each((u,m)=>{Dt(m)&&m.setAttribute(h,d)})}for(const u in h)this.attr(u,h[u]);return this}}J.attr=Ep;J.removeClass=function(h){return arguments.length?this.toggleClass(h,!1):this.attr("class","")};J.hasClass=function(h){return!!h&&pi.call(this,d=>Dt(d)&&d.classList.contains(h))};J.get=function(h){return Gt(h)?Ma.call(this):(h=Number(h),this[h<0?h+this.length:h])};J.eq=function(h){return rt(this.get(h))};J.first=function(){return this.eq(0)};J.last=function(){return this.eq(-1)};function Sp(h){return Gt(h)?this.get().map(d=>Dt(d)||jp(d)?d.textContent:"").join(""):this.each((d,u)=>{Dt(u)&&(u.textContent=h)})}J.text=Sp;function Pe(h,d,u){if(!Dt(h))return;const m=dr.getComputedStyle(h,null);return u?m.getPropertyValue(d)||void 0:m[d]||h.style[d]}function pe(h,d){return parseInt(Pe(h,d),10)||0}function Xs(h,d){return pe(h,`border${d?"Left":"Top"}Width`)+pe(h,`padding${d?"Left":"Top"}`)+pe(h,`padding${d?"Right":"Bottom"}`)+pe(h,`border${d?"Right":"Bottom"}Width`)}const Gr={};function Pp(h){if(Gr[h])return Gr[h];const d=mn(h);Se.body.insertBefore(d,null);const u=Pe(d,"display");return Se.body.removeChild(d),Gr[h]=u!=="none"?u:"block"}function Ks(h){return Pe(h,"display")==="none"}function Ha(h,d){const u=h&&(h.matches||h.webkitMatchesSelector||h.msMatchesSelector);return!!u&&!!d&&u.call(h,d)}function _r(h){return Ut(h)?(d,u)=>Ha(u,h):yn(h)?h:ni(h)?(d,u)=>h.is(u):h?(d,u)=>u===h:()=>!1}J.filter=function(h){const d=_r(h);return rt(di.call(this,(u,m)=>d.call(u,m,u)))};function ze(h,d){return d?h.filter(d):h}J.detach=function(h){return ze(this,h).each((d,u)=>{u.parentNode&&u.parentNode.removeChild(u)}),this};const Tp=/^\s*<(\w+)[^>]*>/,Lp=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ta={"*":Ba,tr:mp,td:Zs,th:Zs,thead:Ur,tbody:Ur,tfoot:Ur};function za(h){if(!Ut(h))return[];if(Lp.test(h))return[mn(RegExp.$1)];const d=Tp.test(h)&&RegExp.$1,u=ta[d]||ta["*"];return u.innerHTML=h,rt(u.childNodes).detach().get()}rt.parseHTML=za;J.has=function(h){const d=Ut(h)?(u,m)=>fi(h,m).length:(u,m)=>m.contains(h);return this.filter(d)};J.not=function(h){const d=_r(h);return this.filter((u,m)=>(!Ut(h)||Dt(m))&&!d.call(m,u,m))};function Te(h,d,u,m){const a=[],f=yn(d),y=m&&_r(m);for(let g=0,v=h.length;g<v;g++)if(f){const _=d(h[g]);_.length&&gp.apply(a,_)}else{let _=h[g][d];for(;_!=null&&!(m&&y(-1,_));)a.push(_),_=u?_[d]:null}return a}function $a(h){return h.multiple&&h.options?Te(di.call(h.options,d=>d.selected&&!d.disabled&&!d.parentNode.disabled),"value"):h.value||""}function Rp(h){return arguments.length?this.each((d,u)=>{const m=u.multiple&&u.options;if(m||Za.test(u.type)){const a=gr(h)?Da.call(h,String):qn(h)?[]:[String(h)];m?Mt(u.options,(f,y)=>{y.selected=a.indexOf(y.value)>=0},!0):u.checked=a.indexOf(u.value)>=0}else u.value=Gt(h)||qn(h)?"":h}):this[0]&&$a(this[0])}J.val=Rp;J.is=function(h){const d=_r(h);return pi.call(this,(u,m)=>d.call(u,m,u))};rt.guid=1;function fe(h){return h.length>1?di.call(h,(d,u,m)=>Fa.call(m,d)===u):h}rt.unique=fe;J.add=function(h,d){return rt(fe(this.get().concat(rt(h,d).get())))};J.children=function(h){return ze(rt(fe(Te(this,d=>d.children))),h)};J.parent=function(h){return ze(rt(fe(Te(this,"parentNode"))),h)};J.index=function(h){const d=h?rt(h)[0]:this[0],u=h?this:rt(d).parent().children();return Fa.call(u,d)};J.closest=function(h){const d=this.filter(h);if(d.length)return d;const u=this.parent();return u.length?u.closest(h):d};J.siblings=function(h){return ze(rt(fe(Te(this,d=>rt(d).parent().children().not(d)))),h)};J.find=function(h){return rt(fe(Te(this,d=>fi(h,d))))};const Ap=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ip=/^$|^module$|\/(java|ecma)script/i,Bp=["type","src","nonce","noModule"];function Np(h,d){const u=rt(h);u.filter("script").add(u.find("script")).each((m,a)=>{if(Ip.test(a.type)&&Ia.contains(a)){const f=mn("script");f.text=a.textContent.replace(Ap,""),Mt(Bp,(y,g)=>{a[g]&&(f[g]=a[g])}),d.head.insertBefore(f,null),d.head.removeChild(f)}})}function Fp(h,d,u,m,a){m?h.insertBefore(d,u?h.firstChild:null):h.nodeName==="HTML"?h.parentNode.replaceChild(d,h):h.parentNode.insertBefore(d,u?h:h.nextSibling),a&&Np(d,h.ownerDocument)}function $e(h,d,u,m,a,f,y,g){return Mt(h,(v,_)=>{Mt(rt(_),(w,x)=>{Mt(rt(d),(j,E)=>{const T=u?x:E,L=u?E:x,A=u?w:j;Fp(T,A?L.cloneNode(!0):L,m,a,!A)},g)},y)},f),d}J.after=function(){return $e(arguments,this,!1,!1,!1,!0,!0)};J.append=function(){return $e(arguments,this,!1,!1,!0)};function Dp(h){if(!arguments.length)return this[0]&&this[0].innerHTML;if(Gt(h))return this;const d=/<script[\s>]/.test(h);return this.each((u,m)=>{Dt(m)&&(d?rt(m).empty().append(h):m.innerHTML=h)})}J.html=Dp;J.appendTo=function(h){return $e(arguments,this,!0,!1,!0)};J.wrapInner=function(h){return this.each((d,u)=>{const m=rt(u),a=m.contents();a.length?a.wrapAll(h):m.append(h)})};J.before=function(){return $e(arguments,this,!1,!0)};J.wrapAll=function(h){let d=rt(h),u=d[0];for(;u.children.length;)u=u.firstElementChild;return this.first().before(d),this.appendTo(u)};J.wrap=function(h){return this.each((d,u)=>{const m=rt(h)[0];rt(u).wrapAll(d?m.cloneNode(!0):m)})};J.insertAfter=function(h){return $e(arguments,this,!0,!1,!1,!1,!1,!0)};J.insertBefore=function(h){return $e(arguments,this,!0,!0)};J.prepend=function(){return $e(arguments,this,!1,!0,!0,!0,!0)};J.prependTo=function(h){return $e(arguments,this,!0,!0,!0,!1,!1,!0)};J.contents=function(){return rt(fe(Te(this,h=>h.tagName==="IFRAME"?[h.contentDocument]:h.tagName==="TEMPLATE"?h.content.childNodes:h.childNodes)))};J.next=function(h,d,u){return ze(rt(fe(Te(this,"nextElementSibling",d,u))),h)};J.nextAll=function(h){return this.next(h,!0)};J.nextUntil=function(h,d){return this.next(d,!0,h)};J.parents=function(h,d){return ze(rt(fe(Te(this,"parentElement",!0,d))),h)};J.parentsUntil=function(h,d){return this.parents(d,h)};J.prev=function(h,d,u){return ze(rt(fe(Te(this,"previousElementSibling",d,u))),h)};J.prevAll=function(h){return this.prev(h,!0)};J.prevUntil=function(h,d){return this.prev(d,!0,h)};J.map=function(h){return rt(yp.apply([],Da.call(this,(d,u)=>h.call(d,u,d))))};J.clone=function(){return this.map((h,d)=>d.cloneNode(!0))};J.offsetParent=function(){return this.map((h,d)=>{let u=d.offsetParent;for(;u&&Pe(u,"position")==="static";)u=u.offsetParent;return u||Ia})};J.slice=function(h,d){return rt(Ma.call(this,h,d))};const Mp=/-([a-z])/g;function yi(h){return h.replace(Mp,(d,u)=>u.toUpperCase())}J.ready=function(h){const d=()=>setTimeout(h,0,rt);return Se.readyState!=="loading"?d():Se.addEventListener("DOMContentLoaded",d),this};J.unwrap=function(){return this.parent().each((h,d)=>{if(d.tagName==="BODY")return;const u=rt(d);u.replaceWith(u.children())}),this};J.offset=function(){const h=this[0];if(!h)return;const d=h.getBoundingClientRect();return{top:d.top+dr.pageYOffset,left:d.left+dr.pageXOffset}};J.position=function(){const h=this[0];if(!h)return;const d=Pe(h,"position")==="fixed",u=d?h.getBoundingClientRect():this.offset();if(!d){const m=h.ownerDocument;let a=h.offsetParent||m.documentElement;for(;(a===m.body||a===m.documentElement)&&Pe(a,"position")==="static";)a=a.parentNode;if(a!==h&&Dt(a)){const f=rt(a).offset();u.top-=f.top+pe(a,"borderTopWidth"),u.left-=f.left+pe(a,"borderLeftWidth")}}return{top:u.top-pe(h,"marginTop"),left:u.left-pe(h,"marginLeft")}};const qa={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};J.prop=function(h,d){if(h){if(Ut(h))return h=qa[h]||h,arguments.length<2?this[0]&&this[0][h]:this.each((u,m)=>{m[h]=d});for(const u in h)this.prop(u,h[u]);return this}};J.removeProp=function(h){return this.each((d,u)=>{delete u[qa[h]||h]})};const Vp=/^--/;function gi(h){return Vp.test(h)}const Wr={},{style:Hp}=Ba,zp=["webkit","moz","ms"];function $p(h,d=gi(h)){if(d)return h;if(!Wr[h]){const u=yi(h),m=`${u[0].toUpperCase()}${u.slice(1)}`,a=`${u} ${zp.join(`${m} `)}${m}`.split(" ");Mt(a,(f,y)=>{if(y in Hp)return Wr[h]=y,!1})}return Wr[h]}const qp={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Ua(h,d,u=gi(h)){return!u&&!qp[h]&&Va(d)?`${d}px`:d}function Up(h,d){if(Ut(h)){const u=gi(h);return h=$p(h,u),arguments.length<2?this[0]&&Pe(this[0],h,u):h?(d=Ua(h,d,u),this.each((m,a)=>{Dt(a)&&(u?a.style.setProperty(h,d):a.style[h]=d)})):this}for(const u in h)this.css(u,h[u]);return this}J.css=Up;function Ga(h,d){try{return h(d)}catch{return d}}const Gp=/^\s+|\s+$/;function ea(h,d){const u=h.dataset[d]||h.dataset[yi(d)];return Gp.test(u)?u:Ga(JSON.parse,u)}function Wp(h,d,u){u=Ga(JSON.stringify,u),h.dataset[yi(d)]=u}function Jp(h,d){if(!h){if(!this[0])return;const u={};for(const m in this[0].dataset)u[m]=ea(this[0],m);return u}if(Ut(h))return arguments.length<2?this[0]&&ea(this[0],h):Gt(d)?this:this.each((u,m)=>{Wp(m,h,d)});for(const u in h)this.data(u,h[u]);return this}J.data=Jp;function Wa(h,d){const u=h.documentElement;return Math.max(h.body[`scroll${d}`],u[`scroll${d}`],h.body[`offset${d}`],u[`offset${d}`],u[`client${d}`])}Mt([!0,!1],(h,d)=>{Mt(["Width","Height"],(u,m)=>{const a=`${d?"outer":"inner"}${m}`;J[a]=function(f){if(this[0])return Cn(this[0])?d?this[0][`inner${m}`]:this[0].document.documentElement[`client${m}`]:On(this[0])?Wa(this[0],m):this[0][`${d?"offset":"client"}${m}`]+(f&&d?pe(this[0],`margin${u?"Top":"Left"}`)+pe(this[0],`margin${u?"Bottom":"Right"}`):0)}})});Mt(["Width","Height"],(h,d)=>{const u=d.toLowerCase();J[u]=function(m){if(!this[0])return Gt(m)?void 0:this;if(!arguments.length)return Cn(this[0])?this[0].document.documentElement[`client${d}`]:On(this[0])?Wa(this[0],d):this[0].getBoundingClientRect()[u]-Xs(this[0],!h);const a=parseInt(m,10);return this.each((f,y)=>{if(!Dt(y))return;const g=Pe(y,"boxSizing");y.style[u]=Ua(u,a+(g==="border-box"?Xs(y,!h):0))})}});const na="___cd";J.toggle=function(h){return this.each((d,u)=>{if(!Dt(u))return;(Gt(h)?Ks(u):h)?(u.style.display=u[na]||"",Ks(u)&&(u.style.display=Pp(u.tagName))):(u[na]=Pe(u,"display"),u.style.display="none")})};J.hide=function(){return this.toggle(!1)};J.show=function(){return this.toggle(!0)};const ra="___ce",vi=".",bi={focus:"focusin",blur:"focusout"},Ja={mouseenter:"mouseover",mouseleave:"mouseout"},Qp=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function _i(h){return Ja[h]||bi[h]||h}function wi(h){const d=h.split(vi);return[d[0],d.slice(1).sort()]}J.trigger=function(h,d){if(Ut(h)){const[m,a]=wi(h),f=_i(m);if(!f)return this;const y=Qp.test(f)?"MouseEvents":"HTMLEvents";h=Se.createEvent(y),h.initEvent(f,!0,!0),h.namespace=a.join(vi),h.___ot=m}h.___td=d;const u=h.___ot in bi;return this.each((m,a)=>{u&&yn(a[h.___ot])&&(a[`___i${h.type}`]=!0,a[h.___ot](),a[`___i${h.type}`]=!1),a.dispatchEvent(h)})};function Qa(h){return h[ra]=h[ra]||{}}function Yp(h,d,u,m,a){const f=Qa(h);f[d]=f[d]||[],f[d].push([u,m,a]),h.addEventListener(d,a)}function Ya(h,d){return!d||!pi.call(d,u=>h.indexOf(u)<0)}function fr(h,d,u,m,a){const f=Qa(h);if(d)f[d]&&(f[d]=f[d].filter(([y,g,v])=>{if(a&&v.guid!==a.guid||!Ya(y,u)||m&&m!==g)return!0;h.removeEventListener(d,v)}));else for(d in f)fr(h,d,u,m,a)}J.off=function(h,d,u){if(Gt(h))this.each((m,a)=>{!Dt(a)&&!On(a)&&!Cn(a)||fr(a)});else if(Ut(h))yn(d)&&(u=d,d=""),Mt(br(h),(m,a)=>{const[f,y]=wi(a),g=_i(f);this.each((v,_)=>{!Dt(_)&&!On(_)&&!Cn(_)||fr(_,g,y,d,u)})});else for(const m in h)this.off(m,h[m]);return this};J.remove=function(h){return ze(this,h).detach().off(),this};J.replaceWith=function(h){return this.before(h).remove()};J.replaceAll=function(h){return rt(h).replaceWith(this),this};function Zp(h,d,u,m,a){if(!Ut(h)){for(const f in h)this.on(f,d,u,h[f],a);return this}return Ut(d)||(Gt(d)||qn(d)?d="":Gt(u)?(u=d,d=""):(m=u,u=d,d="")),yn(m)||(m=u,u=void 0),m?(Mt(br(h),(f,y)=>{const[g,v]=wi(y),_=_i(g),w=g in Ja,x=g in bi;_&&this.each((j,E)=>{if(!Dt(E)&&!On(E)&&!Cn(E))return;const T=function(L){if(L.target[`___i${L.type}`])return L.stopImmediatePropagation();if(L.namespace&&!Ya(v,L.namespace.split(vi))||!d&&(x&&(L.target!==E||L.___ot===_)||w&&L.relatedTarget&&E.contains(L.relatedTarget)))return;let A=E;if(d){let C=L.target;for(;!Ha(C,d);)if(C===E||(C=C.parentNode,!C))return;A=C}Object.defineProperty(L,"currentTarget",{configurable:!0,get(){return A}}),Object.defineProperty(L,"delegateTarget",{configurable:!0,get(){return E}}),Object.defineProperty(L,"data",{configurable:!0,get(){return u}});const S=m.call(A,L,L.___td);a&&fr(E,_,v,d,T),S===!1&&(L.preventDefault(),L.stopPropagation())};T.guid=m.guid=m.guid||rt.guid++,Yp(E,_,v,d,T)})}),this):this}J.on=Zp;function Xp(h,d,u,m){return this.on(h,d,u,m,!0)}J.one=Xp;const Kp=/%20/g,tf=/\r?\n/g;function ef(h,d){return`&${encodeURIComponent(h)}=${encodeURIComponent(d.replace(tf,`\r
`)).replace(Kp,"+")}`}const nf=/file|reset|submit|button|image/i,Za=/radio|checkbox/i;J.serialize=function(){let h="";return this.each((d,u)=>{Mt(u.elements||[u],(m,a)=>{if(a.disabled||!a.name||a.tagName==="FIELDSET"||nf.test(a.type)||Za.test(a.type)&&!a.checked)return;const f=$a(a);if(!Gt(f)){const y=gr(f)?f:[f];Mt(y,(g,v)=>{h+=ef(a.name,v)})}})}),h.slice(1)};var ri={},rf={get exports(){return ri},set exports(h){ri=h}};(function(h){(function(d,u){h.exports=u()})(od,function(){var d=Object.prototype.toString;function u(x,j){return x==null?!1:Object.prototype.hasOwnProperty.call(x,j)}function m(x){if(!x||y(x)&&x.length===0)return!0;if(typeof x!="string"){for(var j in x)if(u(x,j))return!1;return!0}return!1}function a(x){return d.call(x)}function f(x){return typeof x=="object"&&a(x)==="[object Object]"}var y=Array.isArray||function(x){return d.call(x)==="[object Array]"};function g(x){return typeof x=="boolean"||a(x)==="[object Boolean]"}function v(x){var j=parseInt(x);return j.toString()===x?j:x}function _(x){x=x||{};var j=function(S){return Object.keys(j).reduce(function(C,O){return O==="create"||typeof j[O]=="function"&&(C[O]=j[O].bind(j,S)),C},{})},E;x.includeInheritedProps?E=function(){return!0}:E=function(S,C){return typeof C=="number"&&Array.isArray(S)||u(S,C)};function T(S,C){if(E(S,C))return S[C]}var L;x.includeInheritedProps?L=function(S,C){typeof C!="string"&&typeof C!="number"&&(C=String(C));var O=T(S,C);if(C==="__proto__"||C==="prototype"||C==="constructor"&&typeof O=="function")throw new Error("For security reasons, object's magic properties cannot be set");return O}:L=function(S,C){return T(S,C)};function A(S,C,O,B){if(typeof C=="number"&&(C=[C]),!C||C.length===0)return S;if(typeof C=="string")return A(S,C.split(".").map(v),O,B);var R=C[0],I=L(S,R);return C.length===1?((I===void 0||!B)&&(S[R]=O),I):(I===void 0&&(typeof C[1]=="number"?S[R]=[]:S[R]={}),A(S[R],C.slice(1),O,B))}return j.has=function(S,C){if(typeof C=="number"?C=[C]:typeof C=="string"&&(C=C.split(".")),!C||C.length===0)return!!S;for(var O=0;O<C.length;O++){var B=v(C[O]);if(typeof B=="number"&&y(S)&&B<S.length||(x.includeInheritedProps?B in Object(S):u(S,B)))S=S[B];else return!1}return!0},j.ensureExists=function(S,C,O){return A(S,C,O,!0)},j.set=function(S,C,O,B){return A(S,C,O,B)},j.insert=function(S,C,O,B){var R=j.get(S,C);B=~~B,y(R)||(R=[],j.set(S,C,R)),R.splice(B,0,O)},j.empty=function(S,C){if(!m(C)&&S!=null){var O,B;if(O=j.get(S,C)){if(typeof O=="string")return j.set(S,C,"");if(g(O))return j.set(S,C,!1);if(typeof O=="number")return j.set(S,C,0);if(y(O))O.length=0;else if(f(O))for(B in O)E(O,B)&&delete O[B];else return j.set(S,C,null)}}},j.push=function(S,C){var O=j.get(S,C);y(O)||(O=[],j.set(S,C,O)),O.push.apply(O,Array.prototype.slice.call(arguments,2))},j.coalesce=function(S,C,O){for(var B,R=0,I=C.length;R<I;R++)if((B=j.get(S,C[R]))!==void 0)return B;return O},j.get=function(S,C,O){if(typeof C=="number"&&(C=[C]),!C||C.length===0)return S;if(S==null)return O;if(typeof C=="string")return j.get(S,C.split("."),O);var B=v(C[0]),R=L(S,B);return R===void 0?O:C.length===1?R:j.get(S[B],C.slice(1),O)},j.del=function(C,O){if(typeof O=="number"&&(O=[O]),C==null||m(O))return C;if(typeof O=="string")return j.del(C,O.split("."));var B=v(O[0]);if(L(C,B),!E(C,B))return C;if(O.length===1)y(C)?C.splice(B,1):delete C[B];else return j.del(C[B],O.slice(1));return C},j}var w=_();return w.create=_,w.withInheritedProps=_({includeInheritedProps:!0}),w})})(rf);const of=ri;var Un={},sf={get exports(){return Un},set exports(h){Un=h}};/*!
 * /**
 * * @name JSON Editor
 * * @description JSON Schema Based Editor
 * * This library is the continuation of jdorn's great work (see also https://github.com/jdorn/json-editor/issues/800)
 * * @version "2.9.0-beta.1"
 * * @author Jeremy Dorn
 * * @see https://github.com/jdorn/json-editor/
 * * @see https://github.com/json-editor/json-editor
 * * @license MIT
 * * @example see README.md and docs/ for requirements, examples and usage info
 * * /
 */(function(h,d){(function(u,m){h.exports=m()})(window,function(){return function(u){var m={};function a(f){if(m[f])return m[f].exports;var y=m[f]={i:f,l:!1,exports:{}};return u[f].call(y.exports,y,y.exports,a),y.l=!0,y.exports}return a.m=u,a.c=m,a.d=function(f,y,g){a.o(f,y)||Object.defineProperty(f,y,{enumerable:!0,get:g})},a.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},a.t=function(f,y){if(1&y&&(f=a(f)),8&y||4&y&&typeof f=="object"&&f&&f.__esModule)return f;var g=Object.create(null);if(a.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:f}),2&y&&typeof f!="string")for(var v in f)a.d(g,v,function(_){return f[_]}.bind(null,v));return g},a.n=function(f){var y=f&&f.__esModule?function(){return f.default}:function(){return f};return a.d(y,"a",y),y},a.o=function(f,y){return Object.prototype.hasOwnProperty.call(f,y)},a.p="/dist/",a(a.s=186)}([function(u,m,a){var f=a(36),y=a(103),g=a(71),v=a(56),_=a(140),w=v.set,x=v.getterFor("Array Iterator");u.exports=_(Array,"Array",function(j,E){w(this,{type:"Array Iterator",target:f(j),index:0,kind:E})},function(){var j=x(this),E=j.target,T=j.kind,L=j.index++;return!E||L>=E.length?(j.target=void 0,{value:void 0,done:!0}):T=="keys"?{value:L,done:!1}:T=="values"?{value:E[L],done:!1}:{value:[L,E[L]],done:!1}},"values"),g.Arguments=g.Array,y("keys"),y("values"),y("entries")},function(u,m,a){var f=a(95),y=a(34),g=a(157);f||y(Object.prototype,"toString",g,{unsafe:!0})},function(u,m,a){var f=a(12),y=a(15),g=a(50),v=a(57),_=a(21),w=a(96),x=a(117),j=a(16),E=a(28),T=a(68),L=a(23),A=a(22),S=a(31),C=a(36),O=a(62),B=a(63),R=a(58),I=a(67),F=a(66),H=a(171),D=a(101),Z=a(45),Q=a(27),X=a(78),G=a(39),K=a(34),st=a(75),V=a(74),M=a(76),W=a(94),et=a(18),Y=a(138),mt=a(139),gt=a(84),_t=a(56),Et=a(54).forEach,ct=V("hidden"),Rt=et("toPrimitive"),wt=_t.set,vt=_t.getterFor("Symbol"),bt=Object.prototype,kt=y.Symbol,yt=g("JSON","stringify"),At=Z.f,It=Q.f,gn=H.f,En=X.f,Pt=st("symbols"),Kt=st("op-symbols"),te=st("string-to-symbol-registry"),qe=st("symbol-to-string-registry"),Vt=st("wks"),Wt=y.QObject,me=!Wt||!Wt.prototype||!Wt.prototype.findChild,Ue=_&&j(function(){return R(It({},"a",{get:function(){return It(this,"a",{value:7}).a}})).a!=7})?function($,tt,it){var lt=At(bt,tt);lt&&delete bt[tt],It($,tt,it),lt&&$!==bt&&It(bt,tt,lt)}:It,Le=function($,tt){var it=Pt[$]=R(kt.prototype);return wt(it,{type:"Symbol",tag:$,description:tt}),_||(it.description=tt),it},Jt=x?function($){return typeof $=="symbol"}:function($){return Object($)instanceof kt},qt=function($,tt,it){$===bt&&qt(Kt,tt,it),A($);var lt=O(tt,!0);return A(it),E(Pt,lt)?(it.enumerable?(E($,ct)&&$[ct][lt]&&($[ct][lt]=!1),it=R(it,{enumerable:B(0,!1)})):(E($,ct)||It($,ct,B(1,{})),$[ct][lt]=!0),Ue($,lt,it)):It($,lt,it)},ee=function($,tt){A($);var it=C(tt),lt=I(it).concat(ut(it));return Et(lt,function(jt){_&&!ye.call(it,jt)||qt($,jt,it[jt])}),$},ye=function($){var tt=O($,!0),it=En.call(this,tt);return!(this===bt&&E(Pt,tt)&&!E(Kt,tt))&&(!(it||!E(this,tt)||!E(Pt,tt)||E(this,ct)&&this[ct][tt])||it)},q=function($,tt){var it=C($),lt=O(tt,!0);if(it!==bt||!E(Pt,lt)||E(Kt,lt)){var jt=At(it,lt);return!jt||!E(Pt,lt)||E(it,ct)&&it[ct][lt]||(jt.enumerable=!0),jt}},ot=function($){var tt=gn(C($)),it=[];return Et(tt,function(lt){E(Pt,lt)||E(M,lt)||it.push(lt)}),it},ut=function($){var tt=$===bt,it=gn(tt?Kt:C($)),lt=[];return Et(it,function(jt){!E(Pt,jt)||tt&&!E(bt,jt)||lt.push(Pt[jt])}),lt};w||(K((kt=function(){if(this instanceof kt)throw TypeError("Symbol is not a constructor");var $=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,tt=W($),it=function(lt){this===bt&&it.call(Kt,lt),E(this,ct)&&E(this[ct],tt)&&(this[ct][tt]=!1),Ue(this,tt,B(1,lt))};return _&&me&&Ue(bt,tt,{configurable:!0,set:it}),Le(tt,$)}).prototype,"toString",function(){return vt(this).tag}),K(kt,"withoutSetter",function($){return Le(W($),$)}),X.f=ye,Q.f=qt,Z.f=q,F.f=H.f=ot,D.f=ut,Y.f=function($){return Le(et($),$)},_&&(It(kt.prototype,"description",{configurable:!0,get:function(){return vt(this).description}}),v||K(bt,"propertyIsEnumerable",ye,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!w,sham:!w},{Symbol:kt}),Et(I(Vt),function($){mt($)}),f({target:"Symbol",stat:!0,forced:!w},{for:function($){var tt=String($);if(E(te,tt))return te[tt];var it=kt(tt);return te[tt]=it,qe[it]=tt,it},keyFor:function($){if(!Jt($))throw TypeError($+" is not a symbol");if(E(qe,$))return qe[$]},useSetter:function(){me=!0},useSimple:function(){me=!1}}),f({target:"Object",stat:!0,forced:!w,sham:!_},{create:function($,tt){return tt===void 0?R($):ee(R($),tt)},defineProperty:qt,defineProperties:ee,getOwnPropertyDescriptor:q}),f({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:ot,getOwnPropertySymbols:ut}),f({target:"Object",stat:!0,forced:j(function(){D.f(1)})},{getOwnPropertySymbols:function($){return D.f(S($))}}),yt&&f({target:"JSON",stat:!0,forced:!w||j(function(){var $=kt();return yt([$])!="[null]"||yt({a:$})!="{}"||yt(Object($))!="{}"})},{stringify:function($,tt,it){for(var lt,jt=[$],ge=1;arguments.length>ge;)jt.push(arguments[ge++]);if(lt=tt,(L(tt)||$!==void 0)&&!Jt($))return T(tt)||(tt=function(St,Qt){if(typeof lt=="function"&&(Qt=lt.call(this,St,Qt)),!Jt(Qt))return Qt}),jt[1]=tt,yt.apply(null,jt)}}),kt.prototype[Rt]||G(kt.prototype,Rt,kt.prototype.valueOf),gt(kt,"Symbol"),M[ct]=!0},function(u,m,a){var f=a(12),y=a(21),g=a(15),v=a(28),_=a(23),w=a(27).f,x=a(119),j=g.Symbol;if(y&&typeof j=="function"&&(!("description"in j.prototype)||j().description!==void 0)){var E={},T=function(){var O=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),B=this instanceof T?new j(O):O===void 0?j():j(O);return O===""&&(E[B]=!0),B};x(T,j);var L=T.prototype=j.prototype;L.constructor=T;var A=L.toString,S=String(j("test"))=="Symbol(test)",C=/^Symbol\((.*)\)[^)]+$/;w(L,"description",{configurable:!0,get:function(){var O=_(this)?this.valueOf():this,B=A.call(O);if(v(E,O))return"";var R=S?B.slice(7,-1):B.replace(C,"$1");return R===""?void 0:R}}),f({global:!0,forced:!0},{Symbol:T})}},function(u,m,a){a(139)("iterator")},function(u,m,a){var f=a(143).charAt,y=a(56),g=a(140),v=y.set,_=y.getterFor("String Iterator");g(String,"String",function(w){v(this,{type:"String Iterator",string:String(w),index:0})},function(){var w,x=_(this),j=x.string,E=x.index;return E>=j.length?{value:void 0,done:!0}:(w=f(j,E),x.index+=w.length,{value:w,done:!1})})},function(u,m,a){var f=a(15),y=a(126),g=a(0),v=a(39),_=a(18),w=_("iterator"),x=_("toStringTag"),j=g.values;for(var E in y){var T=f[E],L=T&&T.prototype;if(L){if(L[w]!==j)try{v(L,w,j)}catch{L[w]=j}if(L[x]||v(L,x,E),y[E]){for(var A in g)if(L[A]!==g[A])try{v(L,A,g[A])}catch{L[A]=g[A]}}}}},function(u,m,a){a(12)({target:"Object",stat:!0},{setPrototypeOf:a(83)})},function(u,m,a){var f=a(12),y=a(16),g=a(31),v=a(85),_=a(142);f({target:"Object",stat:!0,forced:y(function(){v(1)}),sham:!_},{getPrototypeOf:function(w){return v(g(w))}})},function(u,m,a){var f=a(12),y=a(50),g=a(48),v=a(22),_=a(23),w=a(58),x=a(145),j=a(16),E=y("Reflect","construct"),T=j(function(){function S(){}return!(E(function(){},[],S)instanceof S)}),L=!j(function(){E(function(){})}),A=T||L;f({target:"Reflect",stat:!0,forced:A,sham:A},{construct:function(S,C){g(S),v(C);var O=arguments.length<3?S:g(arguments[2]);if(L&&!T)return E(S,C,O);if(S==O){switch(C.length){case 0:return new S;case 1:return new S(C[0]);case 2:return new S(C[0],C[1]);case 3:return new S(C[0],C[1],C[2]);case 4:return new S(C[0],C[1],C[2],C[3])}var B=[null];return B.push.apply(B,C),new(x.apply(S,B))}var R=O.prototype,I=w(_(R)?R:Object.prototype),F=Function.apply.call(S,I,C);return _(F)?F:I}})},function(u,m,a){a(12)({target:"Object",stat:!0,sham:!a(21)},{create:a(58)})},function(u,m,a){var f=a(12),y=a(21);f({target:"Object",stat:!0,forced:!y,sham:!y},{defineProperty:a(27).f})},function(u,m,a){var f=a(15),y=a(45).f,g=a(39),v=a(34),_=a(91),w=a(119),x=a(79);u.exports=function(j,E){var T,L,A,S,C,O=j.target,B=j.global,R=j.stat;if(T=B?f:R?f[O]||_(O,{}):(f[O]||{}).prototype)for(L in E){if(S=E[L],A=j.noTargetGet?(C=y(T,L))&&C.value:T[L],!x(B?L:O+(R?".":"#")+L,j.forced)&&A!==void 0){if(typeof S==typeof A)continue;w(S,A)}(j.sham||A&&A.sham)&&g(S,"sham",!0),v(T,L,S,j)}}},function(u,m,a){var f=a(12),y=a(16),g=a(36),v=a(45).f,_=a(21),w=y(function(){v(1)});f({target:"Object",stat:!0,forced:!_||w,sham:!_},{getOwnPropertyDescriptor:function(x,j){return v(g(x),j)}})},function(u,m,a){var f=a(12),y=a(23),g=a(22),v=a(28),_=a(45),w=a(85);f({target:"Reflect",stat:!0},{get:function x(j,E){var T,L,A=arguments.length<3?j:arguments[2];return g(j)===A?j[E]:(T=_.f(j,E))?v(T,"value")?T.value:T.get===void 0?void 0:T.get.call(A):y(L=w(j))?x(L,E,A):void 0}})},function(u,m,a){(function(f){var y=function(g){return g&&g.Math==Math&&g};u.exports=y(typeof globalThis=="object"&&globalThis)||y(typeof window=="object"&&window)||y(typeof self=="object"&&self)||y(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,a(155))},function(u,m){u.exports=function(a){try{return!!a()}catch{return!0}}},function(u,m,a){var f=a(12),y=a(16),g=a(68),v=a(23),_=a(31),w=a(32),x=a(69),j=a(102),E=a(70),T=a(18),L=a(64),A=T("isConcatSpreadable"),S=L>=51||!y(function(){var B=[];return B[A]=!1,B.concat()[0]!==B}),C=E("concat"),O=function(B){if(!v(B))return!1;var R=B[A];return R!==void 0?!!R:g(B)};f({target:"Array",proto:!0,forced:!S||!C},{concat:function(B){var R,I,F,H,D,Z=_(this),Q=j(Z,0),X=0;for(R=-1,F=arguments.length;R<F;R++)if(O(D=R===-1?Z:arguments[R])){if(X+(H=w(D.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(I=0;I<H;I++,X++)I in D&&x(Q,X,D[I])}else{if(X>=9007199254740991)throw TypeError("Maximum allowed index exceeded");x(Q,X++,D)}return Q.length=X,Q}})},function(u,m,a){var f=a(15),y=a(75),g=a(28),v=a(94),_=a(96),w=a(117),x=y("wks"),j=f.Symbol,E=w?j:j&&j.withoutSetter||v;u.exports=function(T){return g(x,T)&&(_||typeof x[T]=="string")||(_&&g(j,T)?x[T]=j[T]:x[T]=E("Symbol."+T)),x[T]}},function(u,m,a){var f=a(12),y=a(125);f({target:"Array",proto:!0,forced:[].forEach!=y},{forEach:y})},function(u,m,a){var f=a(15),y=a(126),g=a(125),v=a(39);for(var _ in y){var w=f[_],x=w&&w.prototype;if(x&&x.forEach!==g)try{v(x,"forEach",g)}catch{x.forEach=g}}},function(u,m,a){var f=a(16);u.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,m,a){var f=a(23);u.exports=function(y){if(!f(y))throw TypeError(String(y)+" is not an object");return y}},function(u,m){u.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},function(u,m,a){var f=a(12),y=a(86);f({target:"RegExp",proto:!0,forced:/./.exec!==y},{exec:y})},function(u,m,a){a(12)({target:"Array",stat:!0},{isArray:a(68)})},function(u,m,a){var f=a(12),y=a(98).includes,g=a(103);f({target:"Array",proto:!0},{includes:function(v){return y(this,v,arguments.length>1?arguments[1]:void 0)}}),g("includes")},function(u,m,a){var f=a(21),y=a(115),g=a(22),v=a(62),_=Object.defineProperty;m.f=f?_:function(w,x,j){if(g(w),x=v(x,!0),g(j),y)try{return _(w,x,j)}catch{}if("get"in j||"set"in j)throw TypeError("Accessors not supported");return"value"in j&&(w[x]=j.value),w}},function(u,m,a){var f=a(31),y={}.hasOwnProperty;u.exports=function(g,v){return y.call(f(g),v)}},function(u,m,a){var f=a(12),y=a(23),g=a(68),v=a(99),_=a(32),w=a(36),x=a(69),j=a(18),E=a(70)("slice"),T=j("species"),L=[].slice,A=Math.max;f({target:"Array",proto:!0,forced:!E},{slice:function(S,C){var O,B,R,I=w(this),F=_(I.length),H=v(S,F),D=v(C===void 0?F:C,F);if(g(I)&&(typeof(O=I.constructor)!="function"||O!==Array&&!g(O.prototype)?y(O)&&(O=O[T])===null&&(O=void 0):O=void 0,O===Array||O===void 0))return L.call(I,H,D);for(B=new(O===void 0?Array:O)(A(D-H,0)),R=0;H<D;H++,R++)H in I&&x(B,R,I[H]);return B.length=R,B}})},function(u,m,a){var f=a(21),y=a(27).f,g=Function.prototype,v=g.toString,_=/^\s*function ([^ (]*)/;f&&!("name"in g)&&y(g,"name",{configurable:!0,get:function(){try{return v.call(this).match(_)[1]}catch{return""}}})},function(u,m,a){var f=a(35);u.exports=function(y){return Object(f(y))}},function(u,m,a){var f=a(51),y=Math.min;u.exports=function(g){return g>0?y(f(g),9007199254740991):0}},function(u,m,a){var f=a(12),y=a(146),g=a(35);f({target:"String",proto:!0,forced:!a(147)("includes")},{includes:function(v){return!!~String(g(this)).indexOf(y(v),arguments.length>1?arguments[1]:void 0)}})},function(u,m,a){var f=a(15),y=a(39),g=a(28),v=a(91),_=a(92),w=a(56),x=w.get,j=w.enforce,E=String(String).split("String");(u.exports=function(T,L,A,S){var C,O=!!S&&!!S.unsafe,B=!!S&&!!S.enumerable,R=!!S&&!!S.noTargetGet;typeof A=="function"&&(typeof L!="string"||g(A,"name")||y(A,"name",L),(C=j(A)).source||(C.source=E.join(typeof L=="string"?L:""))),T!==f?(O?!R&&T[L]&&(B=!0):delete T[L],B?T[L]=A:y(T,L,A)):B?T[L]=A:v(L,A)})(Function.prototype,"toString",function(){return typeof this=="function"&&x(this).source||_(this)})},function(u,m){u.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},function(u,m,a){var f=a(65),y=a(35);u.exports=function(g){return f(y(g))}},function(u,m,a){var f=a(12),y=a(31),g=a(67);f({target:"Object",stat:!0,forced:a(16)(function(){g(1)})},{keys:function(v){return g(y(v))}})},function(u,m,a){var f=a(12),y=a(173);f({target:"Array",stat:!0,forced:!a(133)(function(g){Array.from(g)})},{from:y})},function(u,m,a){var f=a(21),y=a(27),g=a(63);u.exports=f?function(v,_,w){return y.f(v,_,g(1,w))}:function(v,_,w){return v[_]=w,v}},function(u,m,a){var f=a(12),y=a(158).left,g=a(52),v=a(64),_=a(80);f({target:"Array",proto:!0,forced:!g("reduce")||!_&&v>79&&v<83},{reduce:function(w){return y(this,w,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(u,m,a){var f=a(105),y=a(22),g=a(32),v=a(51),_=a(35),w=a(106),x=a(175),j=a(107),E=Math.max,T=Math.min;f("replace",2,function(L,A,S,C){var O=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,B=C.REPLACE_KEEPS_$0,R=O?"$":"$0";return[function(I,F){var H=_(this),D=I?.[L];return D!==void 0?D.call(I,H,F):A.call(String(H),I,F)},function(I,F){if(!O&&B||typeof F=="string"&&F.indexOf(R)===-1){var H=S(A,I,this,F);if(H.done)return H.value}var D=y(I),Z=String(this),Q=typeof F=="function";Q||(F=String(F));var X=D.global;if(X){var G=D.unicode;D.lastIndex=0}for(var K=[];;){var st=j(D,Z);if(st===null||(K.push(st),!X))break;String(st[0])===""&&(D.lastIndex=w(Z,g(D.lastIndex),G))}for(var V,M="",W=0,et=0;et<K.length;et++){st=K[et];for(var Y=String(st[0]),mt=E(T(v(st.index),Z.length),0),gt=[],_t=1;_t<st.length;_t++)gt.push((V=st[_t])===void 0?V:String(V));var Et=st.groups;if(Q){var ct=[Y].concat(gt,mt,Z);Et!==void 0&&ct.push(Et);var Rt=String(F.apply(void 0,ct))}else Rt=x(Y,Z,mt,gt,Et,F);mt>=W&&(M+=Z.slice(W,mt)+Rt,W=mt+Y.length)}return M+Z.slice(W)}]})},function(u,m,a){var f=a(12),y=a(54).map;f({target:"Array",proto:!0,forced:!a(70)("map")},{map:function(g){return y(this,g,arguments.length>1?arguments[1]:void 0)}})},function(u,m,a){var f=a(34),y=Date.prototype,g=y.toString,v=y.getTime;new Date(NaN)+""!="Invalid Date"&&f(y,"toString",function(){var _=v.call(this);return _==_?g.call(this):"Invalid Date"})},function(u,m,a){var f=a(34),y=a(22),g=a(16),v=a(97),_=RegExp.prototype,w=_.toString,x=g(function(){return w.call({source:"a",flags:"b"})!="/a/b"}),j=w.name!="toString";(x||j)&&f(RegExp.prototype,"toString",function(){var E=y(this),T=String(E.source),L=E.flags;return"/"+T+"/"+String(L===void 0&&E instanceof RegExp&&!("flags"in _)?v.call(E):L)},{unsafe:!0})},function(u,m,a){var f=a(21),y=a(78),g=a(63),v=a(36),_=a(62),w=a(28),x=a(115),j=Object.getOwnPropertyDescriptor;m.f=f?j:function(E,T){if(E=v(E),T=_(T,!0),x)try{return j(E,T)}catch{}if(w(E,T))return g(!y.f.call(E,T),E[T])}},function(u,m,a){var f=a(105),y=a(22),g=a(32),v=a(35),_=a(106),w=a(107);f("match",1,function(x,j,E){return[function(T){var L=v(this),A=T?.[x];return A!==void 0?A.call(T,L):new RegExp(T)[x](String(L))},function(T){var L=E(j,T,this);if(L.done)return L.value;var A=y(T),S=String(this);if(!A.global)return w(A,S);var C=A.unicode;A.lastIndex=0;for(var O,B=[],R=0;(O=w(A,S))!==null;){var I=String(O[0]);B[R]=I,I===""&&(A.lastIndex=_(S,g(A.lastIndex),C)),R++}return R===0?null:B}]})},function(u,m){var a={}.toString;u.exports=function(f){return a.call(f).slice(8,-1)}},function(u,m){u.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},function(u,m,a){var f=a(12),y=a(65),g=a(36),v=a(52),_=[].join,w=y!=Object,x=v("join",",");f({target:"Array",proto:!0,forced:w||!x},{join:function(j){return _.call(g(this),j===void 0?",":j)}})},function(u,m,a){var f=a(116),y=a(15),g=function(v){return typeof v=="function"?v:void 0};u.exports=function(v,_){return arguments.length<2?g(f[v])||g(y[v]):f[v]&&f[v][_]||y[v]&&y[v][_]}},function(u,m){var a=Math.ceil,f=Math.floor;u.exports=function(y){return isNaN(y=+y)?0:(y>0?f:a)(y)}},function(u,m,a){var f=a(16);u.exports=function(y,g){var v=[][y];return!!v&&f(function(){v.call(null,g||function(){throw 1},1)})}},function(u,m,a){var f=a(12),y=a(122).values;f({target:"Object",stat:!0},{values:function(g){return y(g)}})},function(u,m,a){var f=a(82),y=a(65),g=a(31),v=a(32),_=a(102),w=[].push,x=function(j){var E=j==1,T=j==2,L=j==3,A=j==4,S=j==6,C=j==7,O=j==5||S;return function(B,R,I,F){for(var H,D,Z=g(B),Q=y(Z),X=f(R,I,3),G=v(Q.length),K=0,st=F||_,V=E?st(B,G):T||C?st(B,0):void 0;G>K;K++)if((O||K in Q)&&(D=X(H=Q[K],K,Z),j))if(E)V[K]=D;else if(D)switch(j){case 3:return!0;case 5:return H;case 6:return K;case 2:w.call(V,H)}else switch(j){case 4:return!1;case 7:w.call(V,H)}return S?-1:L||A?A:V}};u.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterOut:x(7)}},function(u,m,a){var f=a(105),y=a(108),g=a(22),v=a(35),_=a(134),w=a(106),x=a(32),j=a(107),E=a(86),T=a(104).UNSUPPORTED_Y,L=[].push,A=Math.min;f("split",2,function(S,C,O){var B;return B="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(R,I){var F=String(v(this)),H=I===void 0?4294967295:I>>>0;if(H===0)return[];if(R===void 0)return[F];if(!y(R))return C.call(F,R,H);for(var D,Z,Q,X=[],G=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(R.sticky?"y":""),K=0,st=new RegExp(R.source,G+"g");(D=E.call(st,F))&&!((Z=st.lastIndex)>K&&(X.push(F.slice(K,D.index)),D.length>1&&D.index<F.length&&L.apply(X,D.slice(1)),Q=D[0].length,K=Z,X.length>=H));)st.lastIndex===D.index&&st.lastIndex++;return K===F.length?!Q&&st.test("")||X.push(""):X.push(F.slice(K)),X.length>H?X.slice(0,H):X}:"0".split(void 0,0).length?function(R,I){return R===void 0&&I===0?[]:C.call(this,R,I)}:C,[function(R,I){var F=v(this),H=R?.[S];return H!==void 0?H.call(R,F,I):B.call(String(F),R,I)},function(R,I){var F=O(B,R,this,I,B!==C);if(F.done)return F.value;var H=g(R),D=String(this),Z=_(H,RegExp),Q=H.unicode,X=(H.ignoreCase?"i":"")+(H.multiline?"m":"")+(H.unicode?"u":"")+(T?"g":"y"),G=new Z(T?"^(?:"+H.source+")":H,X),K=I===void 0?4294967295:I>>>0;if(K===0)return[];if(D.length===0)return j(G,D)===null?[D]:[];for(var st=0,V=0,M=[];V<D.length;){G.lastIndex=T?0:V;var W,et=j(G,T?D.slice(V):D);if(et===null||(W=A(x(G.lastIndex+(T?V:0)),D.length))===st)V=w(D,V,Q);else{if(M.push(D.slice(st,V)),M.length===K)return M;for(var Y=1;Y<=et.length-1;Y++)if(M.push(et[Y]),M.length===K)return M;V=st=W}}return M.push(D.slice(st)),M}]},T)},function(u,m,a){var f,y,g,v=a(156),_=a(15),w=a(23),x=a(39),j=a(28),E=a(93),T=a(74),L=a(76),A=_.WeakMap;if(v||E.state){var S=E.state||(E.state=new A),C=S.get,O=S.has,B=S.set;f=function(I,F){if(O.call(S,I))throw new TypeError("Object already initialized");return F.facade=I,B.call(S,I,F),F},y=function(I){return C.call(S,I)||{}},g=function(I){return O.call(S,I)}}else{var R=T("state");L[R]=!0,f=function(I,F){if(j(I,R))throw new TypeError("Object already initialized");return F.facade=I,x(I,R,F),F},y=function(I){return j(I,R)?I[R]:{}},g=function(I){return j(I,R)}}u.exports={set:f,get:y,has:g,enforce:function(I){return g(I)?y(I):f(I,{})},getterFor:function(I){return function(F){var H;if(!w(F)||(H=y(F)).type!==I)throw TypeError("Incompatible receiver, "+I+" required");return H}}}},function(u,m){u.exports=!1},function(u,m,a){var f,y=a(22),g=a(123),v=a(100),_=a(76),w=a(124),x=a(90),j=a(74),E=j("IE_PROTO"),T=function(){},L=function(S){return"<script>"+S+"<\/script>"},A=function(){try{f=document.domain&&new ActiveXObject("htmlfile")}catch{}var S,C;A=f?function(B){B.write(L("")),B.close();var R=B.parentWindow.Object;return B=null,R}(f):((C=x("iframe")).style.display="none",w.appendChild(C),C.src=String("javascript:"),(S=C.contentWindow.document).open(),S.write(L("document.F=Object")),S.close(),S.F);for(var O=v.length;O--;)delete A.prototype[v[O]];return A()};_[E]=!0,u.exports=Object.create||function(S,C){var O;return S!==null?(T.prototype=y(S),O=new T,T.prototype=null,O[E]=S):O=A(),C===void 0?O:g(O,C)}},function(u,m,a){var f=a(12),y=a(122).entries;f({target:"Object",stat:!0},{entries:function(g){return y(g)}})},function(u,m,a){var f=a(21),y=a(15),g=a(79),v=a(144),_=a(27).f,w=a(66).f,x=a(108),j=a(97),E=a(104),T=a(34),L=a(16),A=a(56).enforce,S=a(129),C=a(18)("match"),O=y.RegExp,B=O.prototype,R=/a/g,I=/a/g,F=new O(R)!==R,H=E.UNSUPPORTED_Y;if(f&&g("RegExp",!F||H||L(function(){return I[C]=!1,O(R)!=R||O(I)==I||O(R,"i")!="/a/i"}))){for(var D=function(G,K){var st,V=this instanceof D,M=x(G),W=K===void 0;if(!V&&M&&G.constructor===D&&W)return G;F?M&&!W&&(G=G.source):G instanceof D&&(W&&(K=j.call(G)),G=G.source),H&&(st=!!K&&K.indexOf("y")>-1)&&(K=K.replace(/y/g,""));var et=v(F?new O(G,K):O(G,K),V?this:B,D);return H&&st&&(A(et).sticky=!0),et},Z=function(G){G in D||_(D,G,{configurable:!0,get:function(){return O[G]},set:function(K){O[G]=K}})},Q=w(O),X=0;Q.length>X;)Z(Q[X++]);B.constructor=D,D.prototype=B,T(y,"RegExp",D)}S("RegExp")},function(u,m,a){var f=a(12),y=a(54).filter;f({target:"Array",proto:!0,forced:!a(70)("filter")},{filter:function(g){return y(this,g,arguments.length>1?arguments[1]:void 0)}})},function(u,m,a){var f=a(23);u.exports=function(y,g){if(!f(y))return y;var v,_;if(g&&typeof(v=y.toString)=="function"&&!f(_=v.call(y))||typeof(v=y.valueOf)=="function"&&!f(_=v.call(y))||!g&&typeof(v=y.toString)=="function"&&!f(_=v.call(y)))return _;throw TypeError("Can't convert object to primitive value")}},function(u,m){u.exports=function(a,f){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:f}}},function(u,m,a){var f,y,g=a(15),v=a(77),_=g.process,w=_&&_.versions,x=w&&w.v8;x?y=(f=x.split("."))[0]<4?1:f[0]+f[1]:v&&(!(f=v.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=v.match(/Chrome\/(\d+)/))&&(y=f[1]),u.exports=y&&+y},function(u,m,a){var f=a(16),y=a(47),g="".split;u.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(v){return y(v)=="String"?g.call(v,""):Object(v)}:Object},function(u,m,a){var f=a(121),y=a(100).concat("length","prototype");m.f=Object.getOwnPropertyNames||function(g){return f(g,y)}},function(u,m,a){var f=a(121),y=a(100);u.exports=Object.keys||function(g){return f(g,y)}},function(u,m,a){var f=a(47);u.exports=Array.isArray||function(y){return f(y)=="Array"}},function(u,m,a){var f=a(62),y=a(27),g=a(63);u.exports=function(v,_,w){var x=f(_);x in v?y.f(v,x,g(0,w)):v[x]=w}},function(u,m,a){var f=a(16),y=a(18),g=a(64),v=y("species");u.exports=function(_){return g>=51||!f(function(){var w=[];return(w.constructor={})[v]=function(){return{foo:1}},w[_](Boolean).foo!==1})}},function(u,m){u.exports={}},function(u,m,a){var f=a(12),y=a(177);f({global:!0,forced:parseInt!=y},{parseInt:y})},function(u,m,a){var f=a(12),y=a(98).indexOf,g=a(52),v=[].indexOf,_=!!v&&1/[1].indexOf(1,-0)<0,w=g("indexOf");f({target:"Array",proto:!0,forced:_||!w},{indexOf:function(x){return _?v.apply(this,arguments)||0:y(this,x,arguments.length>1?arguments[1]:void 0)}})},function(u,m,a){var f=a(75),y=a(94),g=f("keys");u.exports=function(v){return g[v]||(g[v]=y(v))}},function(u,m,a){var f=a(57),y=a(93);(u.exports=function(g,v){return y[g]||(y[g]=v!==void 0?v:{})})("versions",[]).push({version:"3.12.1",mode:f?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(u,m){u.exports={}},function(u,m,a){var f=a(50);u.exports=f("navigator","userAgent")||""},function(u,m,a){var f={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,g=y&&!f.call({1:2},1);m.f=g?function(v){var _=y(this,v);return!!_&&_.enumerable}:f},function(u,m,a){var f=a(16),y=/#|\.prototype\./,g=function(j,E){var T=_[v(j)];return T==x||T!=w&&(typeof E=="function"?f(E):!!E)},v=g.normalize=function(j){return String(j).replace(y,".").toLowerCase()},_=g.data={},w=g.NATIVE="N",x=g.POLYFILL="P";u.exports=g},function(u,m,a){var f=a(47),y=a(15);u.exports=f(y.process)=="process"},function(u,m,a){var f=a(12),y=a(54).find,g=a(103),v=!0;"find"in[]&&Array(1).find(function(){v=!1}),f({target:"Array",proto:!0,forced:v},{find:function(_){return y(this,_,arguments.length>1?arguments[1]:void 0)}}),g("find")},function(u,m,a){var f=a(48);u.exports=function(y,g,v){if(f(y),g===void 0)return y;switch(v){case 0:return function(){return y.call(g)};case 1:return function(_){return y.call(g,_)};case 2:return function(_,w){return y.call(g,_,w)};case 3:return function(_,w,x){return y.call(g,_,w,x)}}return function(){return y.apply(g,arguments)}}},function(u,m,a){var f=a(22),y=a(162);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,v=!1,_={};try{(g=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(_,[]),v=_ instanceof Array}catch{}return function(w,x){return f(w),y(x),v?g.call(w,x):w.__proto__=x,w}}():void 0)},function(u,m,a){var f=a(27).f,y=a(28),g=a(18)("toStringTag");u.exports=function(v,_,w){v&&!y(v=w?v:v.prototype,g)&&f(v,g,{configurable:!0,value:_})}},function(u,m,a){var f=a(28),y=a(31),g=a(74),v=a(142),_=g("IE_PROTO"),w=Object.prototype;u.exports=v?Object.getPrototypeOf:function(x){return x=y(x),f(x,_)?x[_]:typeof x.constructor=="function"&&x instanceof x.constructor?x.constructor.prototype:x instanceof Object?w:null}},function(u,m,a){var f,y,g=a(97),v=a(104),_=a(75),w=RegExp.prototype.exec,x=_("native-string-replace",String.prototype.replace),j=w,E=(f=/a/,y=/b*/g,w.call(f,"a"),w.call(y,"a"),f.lastIndex!==0||y.lastIndex!==0),T=v.UNSUPPORTED_Y||v.BROKEN_CARET,L=/()??/.exec("")[1]!==void 0;(E||L||T)&&(j=function(A){var S,C,O,B,R=this,I=T&&R.sticky,F=g.call(R),H=R.source,D=0,Z=A;return I&&((F=F.replace("y","")).indexOf("g")===-1&&(F+="g"),Z=String(A).slice(R.lastIndex),R.lastIndex>0&&(!R.multiline||R.multiline&&A[R.lastIndex-1]!==`
`)&&(H="(?: "+H+")",Z=" "+Z,D++),C=new RegExp("^(?:"+H+")",F)),L&&(C=new RegExp("^"+H+"$(?!\\s)",F)),E&&(S=R.lastIndex),O=w.call(I?C:R,Z),I?O?(O.input=O.input.slice(D),O[0]=O[0].slice(D),O.index=R.lastIndex,R.lastIndex+=O[0].length):R.lastIndex=0:E&&O&&(R.lastIndex=R.global?O.index+O[0].length:S),L&&O&&O.length>1&&x.call(O[0],C,function(){for(B=1;B<arguments.length-2;B++)arguments[B]===void 0&&(O[B]=void 0)}),O}),u.exports=j},function(u,m,a){var f=a(12),y=a(54).some;f({target:"Array",proto:!0,forced:!a(52)("some")},{some:function(g){return y(this,g,arguments.length>1?arguments[1]:void 0)}})},function(u,m,a){var f=a(35),y="["+a(89)+"]",g=RegExp("^"+y+y+"*"),v=RegExp(y+y+"*$"),_=function(w){return function(x){var j=String(f(x));return 1&w&&(j=j.replace(g,"")),2&w&&(j=j.replace(v,"")),j}};u.exports={start:_(1),end:_(2),trim:_(3)}},function(u,m){u.exports=`	
\v\f\r \u2028\u2029\uFEFF`},function(u,m,a){var f=a(15),y=a(23),g=f.document,v=y(g)&&y(g.createElement);u.exports=function(_){return v?g.createElement(_):{}}},function(u,m,a){var f=a(15),y=a(39);u.exports=function(g,v){try{y(f,g,v)}catch{f[g]=v}return v}},function(u,m,a){var f=a(93),y=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(g){return y.call(g)}),u.exports=f.inspectSource},function(u,m,a){var f=a(15),y=a(91),g=f["__core-js_shared__"]||y("__core-js_shared__",{});u.exports=g},function(u,m){var a=0,f=Math.random();u.exports=function(y){return"Symbol("+String(y===void 0?"":y)+")_"+(++a+f).toString(36)}},function(u,m,a){var f={};f[a(18)("toStringTag")]="z",u.exports=String(f)==="[object z]"},function(u,m,a){var f=a(64),y=a(16);u.exports=!!Object.getOwnPropertySymbols&&!y(function(){return!String(Symbol())||!Symbol.sham&&f&&f<41})},function(u,m,a){var f=a(22);u.exports=function(){var y=f(this),g="";return y.global&&(g+="g"),y.ignoreCase&&(g+="i"),y.multiline&&(g+="m"),y.dotAll&&(g+="s"),y.unicode&&(g+="u"),y.sticky&&(g+="y"),g}},function(u,m,a){var f=a(36),y=a(32),g=a(99),v=function(_){return function(w,x,j){var E,T=f(w),L=y(T.length),A=g(j,L);if(_&&x!=x){for(;L>A;)if((E=T[A++])!=E)return!0}else for(;L>A;A++)if((_||A in T)&&T[A]===x)return _||A||0;return!_&&-1}};u.exports={includes:v(!0),indexOf:v(!1)}},function(u,m,a){var f=a(51),y=Math.max,g=Math.min;u.exports=function(v,_){var w=f(v);return w<0?y(w+_,0):g(w,_)}},function(u,m){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,m){m.f=Object.getOwnPropertySymbols},function(u,m,a){var f=a(23),y=a(68),g=a(18)("species");u.exports=function(v,_){var w;return y(v)&&(typeof(w=v.constructor)!="function"||w!==Array&&!y(w.prototype)?f(w)&&(w=w[g])===null&&(w=void 0):w=void 0),new(w===void 0?Array:w)(_===0?0:_)}},function(u,m,a){var f=a(18),y=a(58),g=a(27),v=f("unscopables"),_=Array.prototype;_[v]==null&&g.f(_,v,{configurable:!0,value:y(null)}),u.exports=function(w){_[v][w]=!0}},function(u,m,a){var f=a(16);function y(g,v){return RegExp(g,v)}m.UNSUPPORTED_Y=f(function(){var g=y("a","y");return g.lastIndex=2,g.exec("abcd")!=null}),m.BROKEN_CARET=f(function(){var g=y("^r","gy");return g.lastIndex=2,g.exec("str")!=null})},function(u,m,a){a(24);var f=a(34),y=a(86),g=a(16),v=a(18),_=a(39),w=v("species"),x=RegExp.prototype,j=!g(function(){var S=/./;return S.exec=function(){var C=[];return C.groups={a:"7"},C},"".replace(S,"$<a>")!=="7"}),E="a".replace(/./,"$0")==="$0",T=v("replace"),L=!!/./[T]&&/./[T]("a","$0")==="",A=!g(function(){var S=/(?:)/,C=S.exec;S.exec=function(){return C.apply(this,arguments)};var O="ab".split(S);return O.length!==2||O[0]!=="a"||O[1]!=="b"});u.exports=function(S,C,O,B){var R=v(S),I=!g(function(){var X={};return X[R]=function(){return 7},""[S](X)!=7}),F=I&&!g(function(){var X=!1,G=/a/;return S==="split"&&((G={}).constructor={},G.constructor[w]=function(){return G},G.flags="",G[R]=/./[R]),G.exec=function(){return X=!0,null},G[R](""),!X});if(!I||!F||S==="replace"&&(!j||!E||L)||S==="split"&&!A){var H=/./[R],D=O(R,""[S],function(X,G,K,st,V){var M=G.exec;return M===y||M===x.exec?I&&!V?{done:!0,value:H.call(G,K,st)}:{done:!0,value:X.call(K,G,st)}:{done:!1}},{REPLACE_KEEPS_$0:E,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:L}),Z=D[0],Q=D[1];f(String.prototype,S,Z),f(x,R,C==2?function(X,G){return Q.call(X,this,G)}:function(X){return Q.call(X,this)})}B&&_(x[R],"sham",!0)}},function(u,m,a){var f=a(143).charAt;u.exports=function(y,g,v){return g+(v?f(y,g).length:1)}},function(u,m,a){var f=a(47),y=a(86);u.exports=function(g,v){var _=g.exec;if(typeof _=="function"){var w=_.call(g,v);if(typeof w!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return w}if(f(g)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return y.call(g,v)}},function(u,m,a){var f=a(23),y=a(47),g=a(18)("match");u.exports=function(v){var _;return f(v)&&((_=v[g])!==void 0?!!_:y(v)=="RegExp")}},function(u,m,a){var f,y=a(12),g=a(45).f,v=a(32),_=a(146),w=a(35),x=a(147),j=a(57),E="".startsWith,T=Math.min,L=x("startsWith");y({target:"String",proto:!0,forced:!!(j||L||(f=g(String.prototype,"startsWith"),!f||f.writable))&&!L},{startsWith:function(A){var S=String(w(this));_(A);var C=v(T(arguments.length>1?arguments[1]:void 0,S.length)),O=String(A);return E?E.call(S,O,C):S.slice(C,C+O.length)===O}})},function(u,m,a){a(12)({target:"Function",proto:!0},{bind:a(145)})},function(u,m,a){var f=a(12),y=a(176);f({global:!0,forced:parseFloat!=y},{parseFloat:y})},function(u,m,a){var f=a(12),y=a(51),g=a(180),v=a(152),_=a(16),w=1 .toFixed,x=Math.floor,j=function(A,S,C){return S===0?C:S%2==1?j(A,S-1,C*A):j(A*A,S/2,C)},E=function(A,S,C){for(var O=-1,B=C;++O<6;)B+=S*A[O],A[O]=B%1e7,B=x(B/1e7)},T=function(A,S){for(var C=6,O=0;--C>=0;)O+=A[C],A[C]=x(O/S),O=O%S*1e7},L=function(A){for(var S=6,C="";--S>=0;)if(C!==""||S===0||A[S]!==0){var O=String(A[S]);C=C===""?O:C+v.call("0",7-O.length)+O}return C};f({target:"Number",proto:!0,forced:w&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!_(function(){w.call({})})},{toFixed:function(A){var S,C,O,B,R=g(this),I=y(A),F=[0,0,0,0,0,0],H="",D="0";if(I<0||I>20)throw RangeError("Incorrect fraction digits");if(R!=R)return"NaN";if(R<=-1e21||R>=1e21)return String(R);if(R<0&&(H="-",R=-R),R>1e-21)if(C=(S=function(Z){for(var Q=0,X=Z;X>=4096;)Q+=12,X/=4096;for(;X>=2;)Q+=1,X/=2;return Q}(R*j(2,69,1))-69)<0?R*j(2,-S,1):R/j(2,S,1),C*=4503599627370496,(S=52-S)>0){for(E(F,0,C),O=I;O>=7;)E(F,1e7,0),O-=7;for(E(F,j(10,O,1),0),O=S-1;O>=23;)T(F,1<<23),O-=23;T(F,1<<O),E(F,1,1),T(F,2),D=L(F)}else E(F,0,C),E(F,1<<-S,0),D=L(F)+v.call("0",I);return D=I>0?H+((B=D.length)<=I?"0."+v.call("0",I-B)+D:D.slice(0,B-I)+"."+D.slice(B-I)):H+D}})},function(u,m,a){var f=a(21),y=a(15),g=a(79),v=a(34),_=a(28),w=a(47),x=a(144),j=a(62),E=a(16),T=a(58),L=a(66).f,A=a(45).f,S=a(27).f,C=a(88).trim,O=y.Number,B=O.prototype,R=w(T(B))=="Number",I=function(Q){var X,G,K,st,V,M,W,et,Y=j(Q,!1);if(typeof Y=="string"&&Y.length>2){if((X=(Y=C(Y)).charCodeAt(0))===43||X===45){if((G=Y.charCodeAt(2))===88||G===120)return NaN}else if(X===48){switch(Y.charCodeAt(1)){case 66:case 98:K=2,st=49;break;case 79:case 111:K=8,st=55;break;default:return+Y}for(M=(V=Y.slice(2)).length,W=0;W<M;W++)if((et=V.charCodeAt(W))<48||et>st)return NaN;return parseInt(V,K)}}return+Y};if(g("Number",!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var F,H=function(Q){var X=arguments.length<1?0:Q,G=this;return G instanceof H&&(R?E(function(){B.valueOf.call(G)}):w(G)!="Number")?x(new O(I(X)),G,H):I(X)},D=f?L(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Z=0;D.length>Z;Z++)_(O,F=D[Z])&&!_(H,F)&&S(H,F,A(O,F));H.prototype=B,B.constructor=H,v(y,"Number",H)}},function(u,m,a){var f=function(y){var g=Object.prototype,v=g.hasOwnProperty,_=typeof Symbol=="function"?Symbol:{},w=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",j=_.toStringTag||"@@toStringTag";function E(V,M,W){return Object.defineProperty(V,M,{value:W,enumerable:!0,configurable:!0,writable:!0}),V[M]}try{E({},"")}catch{E=function(M,W,et){return M[W]=et}}function T(V,M,W,et){var Y=M&&M.prototype instanceof S?M:S,mt=Object.create(Y.prototype),gt=new G(et||[]);return mt._invoke=function(_t,Et,ct){var Rt="suspendedStart";return function(wt,vt){if(Rt==="executing")throw new Error("Generator is already running");if(Rt==="completed"){if(wt==="throw")throw vt;return st()}for(ct.method=wt,ct.arg=vt;;){var bt=ct.delegate;if(bt){var kt=Z(bt,ct);if(kt){if(kt===A)continue;return kt}}if(ct.method==="next")ct.sent=ct._sent=ct.arg;else if(ct.method==="throw"){if(Rt==="suspendedStart")throw Rt="completed",ct.arg;ct.dispatchException(ct.arg)}else ct.method==="return"&&ct.abrupt("return",ct.arg);Rt="executing";var yt=L(_t,Et,ct);if(yt.type==="normal"){if(Rt=ct.done?"completed":"suspendedYield",yt.arg===A)continue;return{value:yt.arg,done:ct.done}}yt.type==="throw"&&(Rt="completed",ct.method="throw",ct.arg=yt.arg)}}}(V,W,gt),mt}function L(V,M,W){try{return{type:"normal",arg:V.call(M,W)}}catch(et){return{type:"throw",arg:et}}}y.wrap=T;var A={};function S(){}function C(){}function O(){}var B={};B[w]=function(){return this};var R=Object.getPrototypeOf,I=R&&R(R(K([])));I&&I!==g&&v.call(I,w)&&(B=I);var F=O.prototype=S.prototype=Object.create(B);function H(V){["next","throw","return"].forEach(function(M){E(V,M,function(W){return this._invoke(M,W)})})}function D(V,M){var W;this._invoke=function(et,Y){function mt(){return new M(function(gt,_t){(function Et(ct,Rt,wt,vt){var bt=L(V[ct],V,Rt);if(bt.type!=="throw"){var kt=bt.arg,yt=kt.value;return yt&&typeof yt=="object"&&v.call(yt,"__await")?M.resolve(yt.__await).then(function(At){Et("next",At,wt,vt)},function(At){Et("throw",At,wt,vt)}):M.resolve(yt).then(function(At){kt.value=At,wt(kt)},function(At){return Et("throw",At,wt,vt)})}vt(bt.arg)})(et,Y,gt,_t)})}return W=W?W.then(mt,mt):mt()}}function Z(V,M){var W=V.iterator[M.method];if(W===void 0){if(M.delegate=null,M.method==="throw"){if(V.iterator.return&&(M.method="return",M.arg=void 0,Z(V,M),M.method==="throw"))return A;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var et=L(W,V.iterator,M.arg);if(et.type==="throw")return M.method="throw",M.arg=et.arg,M.delegate=null,A;var Y=et.arg;return Y?Y.done?(M[V.resultName]=Y.value,M.next=V.nextLoc,M.method!=="return"&&(M.method="next",M.arg=void 0),M.delegate=null,A):Y:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,A)}function Q(V){var M={tryLoc:V[0]};1 in V&&(M.catchLoc=V[1]),2 in V&&(M.finallyLoc=V[2],M.afterLoc=V[3]),this.tryEntries.push(M)}function X(V){var M=V.completion||{};M.type="normal",delete M.arg,V.completion=M}function G(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(Q,this),this.reset(!0)}function K(V){if(V){var M=V[w];if(M)return M.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var W=-1,et=function Y(){for(;++W<V.length;)if(v.call(V,W))return Y.value=V[W],Y.done=!1,Y;return Y.value=void 0,Y.done=!0,Y};return et.next=et}}return{next:st}}function st(){return{value:void 0,done:!0}}return C.prototype=F.constructor=O,O.constructor=C,C.displayName=E(O,j,"GeneratorFunction"),y.isGeneratorFunction=function(V){var M=typeof V=="function"&&V.constructor;return!!M&&(M===C||(M.displayName||M.name)==="GeneratorFunction")},y.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,O):(V.__proto__=O,E(V,j,"GeneratorFunction")),V.prototype=Object.create(F),V},y.awrap=function(V){return{__await:V}},H(D.prototype),D.prototype[x]=function(){return this},y.AsyncIterator=D,y.async=function(V,M,W,et,Y){Y===void 0&&(Y=Promise);var mt=new D(T(V,M,W,et),Y);return y.isGeneratorFunction(M)?mt:mt.next().then(function(gt){return gt.done?gt.value:mt.next()})},H(F),E(F,j,"Generator"),F[w]=function(){return this},F.toString=function(){return"[object Generator]"},y.keys=function(V){var M=[];for(var W in V)M.push(W);return M.reverse(),function et(){for(;M.length;){var Y=M.pop();if(Y in V)return et.value=Y,et.done=!1,et}return et.done=!0,et}},y.values=K,G.prototype={constructor:G,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(X),!V)for(var M in this)M.charAt(0)==="t"&&v.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=void 0)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var M=this;function W(Et,ct){return mt.type="throw",mt.arg=V,M.next=Et,ct&&(M.method="next",M.arg=void 0),!!ct}for(var et=this.tryEntries.length-1;et>=0;--et){var Y=this.tryEntries[et],mt=Y.completion;if(Y.tryLoc==="root")return W("end");if(Y.tryLoc<=this.prev){var gt=v.call(Y,"catchLoc"),_t=v.call(Y,"finallyLoc");if(gt&&_t){if(this.prev<Y.catchLoc)return W(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return W(Y.finallyLoc)}else if(gt){if(this.prev<Y.catchLoc)return W(Y.catchLoc,!0)}else{if(!_t)throw new Error("try statement without catch or finally");if(this.prev<Y.finallyLoc)return W(Y.finallyLoc)}}}},abrupt:function(V,M){for(var W=this.tryEntries.length-1;W>=0;--W){var et=this.tryEntries[W];if(et.tryLoc<=this.prev&&v.call(et,"finallyLoc")&&this.prev<et.finallyLoc){var Y=et;break}}Y&&(V==="break"||V==="continue")&&Y.tryLoc<=M&&M<=Y.finallyLoc&&(Y=null);var mt=Y?Y.completion:{};return mt.type=V,mt.arg=M,Y?(this.method="next",this.next=Y.finallyLoc,A):this.complete(mt)},complete:function(V,M){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&M&&(this.next=M),A},finish:function(V){for(var M=this.tryEntries.length-1;M>=0;--M){var W=this.tryEntries[M];if(W.finallyLoc===V)return this.complete(W.completion,W.afterLoc),X(W),A}},catch:function(V){for(var M=this.tryEntries.length-1;M>=0;--M){var W=this.tryEntries[M];if(W.tryLoc===V){var et=W.completion;if(et.type==="throw"){var Y=et.arg;X(W)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(V,M,W){return this.delegate={iterator:K(V),resultName:M,nextLoc:W},this.method==="next"&&(this.arg=void 0),A}},y}(u.exports);try{regeneratorRuntime=f}catch{Function("r","regeneratorRuntime = r")(f)}},function(u,m,a){var f=a(21),y=a(16),g=a(90);u.exports=!f&&!y(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},function(u,m,a){var f=a(15);u.exports=f},function(u,m,a){var f=a(96);u.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,m,a){var f=a(95),y=a(47),g=a(18)("toStringTag"),v=y(function(){return arguments}())=="Arguments";u.exports=f?y:function(_){var w,x,j;return _===void 0?"Undefined":_===null?"Null":typeof(x=function(E,T){try{return E[T]}catch{}}(w=Object(_),g))=="string"?x:v?y(w):(j=y(w))=="Object"&&typeof w.callee=="function"?"Arguments":j}},function(u,m,a){var f=a(28),y=a(120),g=a(45),v=a(27);u.exports=function(_,w){for(var x=y(w),j=v.f,E=g.f,T=0;T<x.length;T++){var L=x[T];f(_,L)||j(_,L,E(w,L))}}},function(u,m,a){var f=a(50),y=a(66),g=a(101),v=a(22);u.exports=f("Reflect","ownKeys")||function(_){var w=y.f(v(_)),x=g.f;return x?w.concat(x(_)):w}},function(u,m,a){var f=a(28),y=a(36),g=a(98).indexOf,v=a(76);u.exports=function(_,w){var x,j=y(_),E=0,T=[];for(x in j)!f(v,x)&&f(j,x)&&T.push(x);for(;w.length>E;)f(j,x=w[E++])&&(~g(T,x)||T.push(x));return T}},function(u,m,a){var f=a(21),y=a(67),g=a(36),v=a(78).f,_=function(w){return function(x){for(var j,E=g(x),T=y(E),L=T.length,A=0,S=[];L>A;)j=T[A++],f&&!v.call(E,j)||S.push(w?[j,E[j]]:E[j]);return S}};u.exports={entries:_(!0),values:_(!1)}},function(u,m,a){var f=a(21),y=a(27),g=a(22),v=a(67);u.exports=f?Object.defineProperties:function(_,w){g(_);for(var x,j=v(w),E=j.length,T=0;E>T;)y.f(_,x=j[T++],w[x]);return _}},function(u,m,a){var f=a(50);u.exports=f("document","documentElement")},function(u,m,a){var f=a(54).forEach,y=a(52)("forEach");u.exports=y?[].forEach:function(g){return f(this,g,arguments.length>1?arguments[1]:void 0)}},function(u,m){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,m,a){var f=a(12),y=a(159);f({target:"Object",stat:!0,forced:Object.assign!==y},{assign:y})},function(u,m,a){var f,y,g,v,_=a(12),w=a(57),x=a(15),j=a(50),E=a(160),T=a(34),L=a(161),A=a(83),S=a(84),C=a(129),O=a(23),B=a(48),R=a(163),I=a(92),F=a(164),H=a(133),D=a(134),Z=a(135).set,Q=a(165),X=a(167),G=a(168),K=a(137),st=a(169),V=a(56),M=a(79),W=a(18),et=a(170),Y=a(80),mt=a(64),gt=W("species"),_t="Promise",Et=V.get,ct=V.set,Rt=V.getterFor(_t),wt=E&&E.prototype,vt=E,bt=wt,kt=x.TypeError,yt=x.document,At=x.process,It=K.f,gn=It,En=!!(yt&&yt.createEvent&&x.dispatchEvent),Pt=typeof PromiseRejectionEvent=="function",Kt=!1,te=M(_t,function(){var q=I(vt)!==String(vt);if(!q&&mt===66||w&&!bt.finally)return!0;if(mt>=51&&/native code/.test(vt))return!1;var ot=new vt(function($){$(1)}),ut=function($){$(function(){},function(){})};return(ot.constructor={})[gt]=ut,!(Kt=ot.then(function(){})instanceof ut)||!q&&et&&!Pt}),qe=te||!H(function(q){vt.all(q).catch(function(){})}),Vt=function(q){var ot;return!(!O(q)||typeof(ot=q.then)!="function")&&ot},Wt=function(q,ot){if(!q.notified){q.notified=!0;var ut=q.reactions;Q(function(){for(var $=q.value,tt=q.state==1,it=0;ut.length>it;){var lt,jt,ge,St=ut[it++],Qt=tt?St.ok:St.fail,Ge=St.resolve,ve=St.reject,re=St.domain;try{Qt?(tt||(q.rejection===2&&Jt(q),q.rejection=1),Qt===!0?lt=$:(re&&re.enter(),lt=Qt($),re&&(re.exit(),ge=!0)),lt===St.promise?ve(kt("Promise-chain cycle")):(jt=Vt(lt))?jt.call(lt,Ge,ve):Ge(lt)):ve($)}catch(Re){re&&!ge&&re.exit(),ve(Re)}}q.reactions=[],q.notified=!1,ot&&!q.rejection&&Ue(q)})}},me=function(q,ot,ut){var $,tt;En?(($=yt.createEvent("Event")).promise=ot,$.reason=ut,$.initEvent(q,!1,!0),x.dispatchEvent($)):$={promise:ot,reason:ut},!Pt&&(tt=x["on"+q])?tt($):q==="unhandledrejection"&&G("Unhandled promise rejection",ut)},Ue=function(q){Z.call(x,function(){var ot,ut=q.facade,$=q.value;if(Le(q)&&(ot=st(function(){Y?At.emit("unhandledRejection",$,ut):me("unhandledrejection",ut,$)}),q.rejection=Y||Le(q)?2:1,ot.error))throw ot.value})},Le=function(q){return q.rejection!==1&&!q.parent},Jt=function(q){Z.call(x,function(){var ot=q.facade;Y?At.emit("rejectionHandled",ot):me("rejectionhandled",ot,q.value)})},qt=function(q,ot,ut){return function($){q(ot,$,ut)}},ee=function(q,ot,ut){q.done||(q.done=!0,ut&&(q=ut),q.value=ot,q.state=2,Wt(q,!0))},ye=function(q,ot,ut){if(!q.done){q.done=!0,ut&&(q=ut);try{if(q.facade===ot)throw kt("Promise can't be resolved itself");var $=Vt(ot);$?Q(function(){var tt={done:!1};try{$.call(ot,qt(ye,tt,q),qt(ee,tt,q))}catch(it){ee(tt,it,q)}}):(q.value=ot,q.state=1,Wt(q,!1))}catch(tt){ee({done:!1},tt,q)}}};if(te&&(bt=(vt=function(q){R(this,vt,_t),B(q),f.call(this);var ot=Et(this);try{q(qt(ye,ot),qt(ee,ot))}catch(ut){ee(ot,ut)}}).prototype,(f=function(q){ct(this,{type:_t,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=L(bt,{then:function(q,ot){var ut=Rt(this),$=It(D(this,vt));return $.ok=typeof q!="function"||q,$.fail=typeof ot=="function"&&ot,$.domain=Y?At.domain:void 0,ut.parent=!0,ut.reactions.push($),ut.state!=0&&Wt(ut,!1),$.promise},catch:function(q){return this.then(void 0,q)}}),y=function(){var q=new f,ot=Et(q);this.promise=q,this.resolve=qt(ye,ot),this.reject=qt(ee,ot)},K.f=It=function(q){return q===vt||q===g?new y(q):gn(q)},!w&&typeof E=="function"&&wt!==Object.prototype)){v=wt.then,Kt||(T(wt,"then",function(q,ot){var ut=this;return new vt(function($,tt){v.call(ut,$,tt)}).then(q,ot)},{unsafe:!0}),T(wt,"catch",bt.catch,{unsafe:!0}));try{delete wt.constructor}catch{}A&&A(wt,bt)}_({global:!0,wrap:!0,forced:te},{Promise:vt}),S(vt,_t,!1,!0),C(_t),g=j(_t),_({target:_t,stat:!0,forced:te},{reject:function(q){var ot=It(this);return ot.reject.call(void 0,q),ot.promise}}),_({target:_t,stat:!0,forced:w||te},{resolve:function(q){return X(w&&this===g?vt:this,q)}}),_({target:_t,stat:!0,forced:qe},{all:function(q){var ot=this,ut=It(ot),$=ut.resolve,tt=ut.reject,it=st(function(){var lt=B(ot.resolve),jt=[],ge=0,St=1;F(q,function(Qt){var Ge=ge++,ve=!1;jt.push(void 0),St++,lt.call(ot,Qt).then(function(re){ve||(ve=!0,jt[Ge]=re,--St||$(jt))},tt)}),--St||$(jt)});return it.error&&tt(it.value),ut.promise},race:function(q){var ot=this,ut=It(ot),$=ut.reject,tt=st(function(){var it=B(ot.resolve);F(q,function(lt){it.call(ot,lt).then(ut.resolve,$)})});return tt.error&&$(tt.value),ut.promise}})},function(u,m,a){var f=a(50),y=a(27),g=a(18),v=a(21),_=g("species");u.exports=function(w){var x=f(w),j=y.f;v&&x&&!x[_]&&j(x,_,{configurable:!0,get:function(){return this}})}},function(u,m,a){var f=a(18),y=a(71),g=f("iterator"),v=Array.prototype;u.exports=function(_){return _!==void 0&&(y.Array===_||v[g]===_)}},function(u,m,a){var f=a(118),y=a(71),g=a(18)("iterator");u.exports=function(v){if(v!=null)return v[g]||v["@@iterator"]||y[f(v)]}},function(u,m,a){var f=a(22);u.exports=function(y){var g=y.return;if(g!==void 0)return f(g.call(y)).value}},function(u,m,a){var f=a(18)("iterator"),y=!1;try{var g=0,v={next:function(){return{done:!!g++}},return:function(){y=!0}};v[f]=function(){return this},Array.from(v,function(){throw 2})}catch{}u.exports=function(_,w){if(!w&&!y)return!1;var x=!1;try{var j={};j[f]=function(){return{next:function(){return{done:x=!0}}}},_(j)}catch{}return x}},function(u,m,a){var f=a(22),y=a(48),g=a(18)("species");u.exports=function(v,_){var w,x=f(v).constructor;return x===void 0||(w=f(x)[g])==null?_:y(w)}},function(u,m,a){var f,y,g,v=a(15),_=a(16),w=a(82),x=a(124),j=a(90),E=a(136),T=a(80),L=v.location,A=v.setImmediate,S=v.clearImmediate,C=v.process,O=v.MessageChannel,B=v.Dispatch,R=0,I={},F=function(Q){if(I.hasOwnProperty(Q)){var X=I[Q];delete I[Q],X()}},H=function(Q){return function(){F(Q)}},D=function(Q){F(Q.data)},Z=function(Q){v.postMessage(Q+"",L.protocol+"//"+L.host)};A&&S||(A=function(Q){for(var X=[],G=1;arguments.length>G;)X.push(arguments[G++]);return I[++R]=function(){(typeof Q=="function"?Q:Function(Q)).apply(void 0,X)},f(R),R},S=function(Q){delete I[Q]},T?f=function(Q){C.nextTick(H(Q))}:B&&B.now?f=function(Q){B.now(H(Q))}:O&&!E?(g=(y=new O).port2,y.port1.onmessage=D,f=w(g.postMessage,g,1)):v.addEventListener&&typeof postMessage=="function"&&!v.importScripts&&L&&L.protocol!=="file:"&&!_(Z)?(f=Z,v.addEventListener("message",D,!1)):f="onreadystatechange"in j("script")?function(Q){x.appendChild(j("script")).onreadystatechange=function(){x.removeChild(this),F(Q)}}:function(Q){setTimeout(H(Q),0)}),u.exports={set:A,clear:S}},function(u,m,a){var f=a(77);u.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(f)},function(u,m,a){var f=a(48),y=function(g){var v,_;this.promise=new g(function(w,x){if(v!==void 0||_!==void 0)throw TypeError("Bad Promise constructor");v=w,_=x}),this.resolve=f(v),this.reject=f(_)};u.exports.f=function(g){return new y(g)}},function(u,m,a){var f=a(18);m.f=f},function(u,m,a){var f=a(116),y=a(28),g=a(138),v=a(27).f;u.exports=function(_){var w=f.Symbol||(f.Symbol={});y(w,_)||v(w,_,{value:g.f(_)})}},function(u,m,a){var f=a(12),y=a(172),g=a(85),v=a(83),_=a(84),w=a(39),x=a(34),j=a(18),E=a(57),T=a(71),L=a(141),A=L.IteratorPrototype,S=L.BUGGY_SAFARI_ITERATORS,C=j("iterator"),O=function(){return this};u.exports=function(B,R,I,F,H,D,Z){y(I,R,F);var Q,X,G,K=function(mt){if(mt===H&&et)return et;if(!S&&mt in M)return M[mt];switch(mt){case"keys":case"values":case"entries":return function(){return new I(this,mt)}}return function(){return new I(this)}},st=R+" Iterator",V=!1,M=B.prototype,W=M[C]||M["@@iterator"]||H&&M[H],et=!S&&W||K(H),Y=R=="Array"&&M.entries||W;if(Y&&(Q=g(Y.call(new B)),A!==Object.prototype&&Q.next&&(E||g(Q)===A||(v?v(Q,A):typeof Q[C]!="function"&&w(Q,C,O)),_(Q,st,!0,!0),E&&(T[st]=O))),H=="values"&&W&&W.name!=="values"&&(V=!0,et=function(){return W.call(this)}),E&&!Z||M[C]===et||w(M,C,et),T[R]=et,H)if(X={values:K("values"),keys:D?et:K("keys"),entries:K("entries")},Z)for(G in X)(S||V||!(G in M))&&x(M,G,X[G]);else f({target:R,proto:!0,forced:S||V},X);return X}},function(u,m,a){var f,y,g,v=a(16),_=a(85),w=a(39),x=a(28),j=a(18),E=a(57),T=j("iterator"),L=!1;[].keys&&("next"in(g=[].keys())?(y=_(_(g)))!==Object.prototype&&(f=y):L=!0);var A=f==null||v(function(){var S={};return f[T].call(S)!==S});A&&(f={}),E&&!A||x(f,T)||w(f,T,function(){return this}),u.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:L}},function(u,m,a){var f=a(16);u.exports=!f(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},function(u,m,a){var f=a(51),y=a(35),g=function(v){return function(_,w){var x,j,E=String(y(_)),T=f(w),L=E.length;return T<0||T>=L?v?"":void 0:(x=E.charCodeAt(T))<55296||x>56319||T+1===L||(j=E.charCodeAt(T+1))<56320||j>57343?v?E.charAt(T):x:v?E.slice(T,T+2):j-56320+(x-55296<<10)+65536}};u.exports={codeAt:g(!1),charAt:g(!0)}},function(u,m,a){var f=a(23),y=a(83);u.exports=function(g,v,_){var w,x;return y&&typeof(w=v.constructor)=="function"&&w!==_&&f(x=w.prototype)&&x!==_.prototype&&y(g,x),g}},function(u,m,a){var f=a(48),y=a(23),g=[].slice,v={},_=function(w,x,j){if(!(x in v)){for(var E=[],T=0;T<x;T++)E[T]="a["+T+"]";v[x]=Function("C,a","return new C("+E.join(",")+")")}return v[x](w,j)};u.exports=Function.bind||function(w){var x=f(this),j=g.call(arguments,1),E=function(){var T=j.concat(g.call(arguments));return this instanceof E?_(x,T.length,T):x.apply(w,T)};return y(x.prototype)&&(E.prototype=x.prototype),E}},function(u,m,a){var f=a(108);u.exports=function(y){if(f(y))throw TypeError("The method doesn't accept regular expressions");return y}},function(u,m,a){var f=a(18)("match");u.exports=function(y){var g=/./;try{"/./"[y](g)}catch{try{return g[f]=!1,"/./"[y](g)}catch{}}return!1}},function(u,m,a){var f=a(12),y=a(99),g=a(51),v=a(32),_=a(31),w=a(102),x=a(69),j=a(70)("splice"),E=Math.max,T=Math.min;f({target:"Array",proto:!0,forced:!j},{splice:function(L,A){var S,C,O,B,R,I,F=_(this),H=v(F.length),D=y(L,H),Z=arguments.length;if(Z===0?S=C=0:Z===1?(S=0,C=H-D):(S=Z-2,C=T(E(g(A),0),H-D)),H+S-C>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(O=w(F,C),B=0;B<C;B++)(R=D+B)in F&&x(O,B,F[R]);if(O.length=C,S<C){for(B=D;B<H-C;B++)I=B+S,(R=B+C)in F?F[I]=F[R]:delete F[I];for(B=H;B>H-C+S;B--)delete F[B-1]}else if(S>C)for(B=H-C;B>D;B--)I=B+S-1,(R=B+C-1)in F?F[I]=F[R]:delete F[I];for(B=0;B<S;B++)F[B+D]=arguments[B+2];return F.length=H-C+S,O}})},function(u,m,a){var f=a(12),y=a(48),g=a(31),v=a(16),_=a(52),w=[],x=w.sort,j=v(function(){w.sort(void 0)}),E=v(function(){w.sort(null)}),T=_("sort");f({target:"Array",proto:!0,forced:j||!E||!T},{sort:function(L){return L===void 0?x.call(g(this)):x.call(g(this),y(L))}})},function(u,m,a){var f=a(12),y=a(21),g=a(120),v=a(36),_=a(45),w=a(69);f({target:"Object",stat:!0,sham:!y},{getOwnPropertyDescriptors:function(x){for(var j,E,T=v(x),L=_.f,A=g(T),S={},C=0;A.length>C;)(E=L(T,j=A[C++]))!==void 0&&w(S,j,E);return S}})},function(u,m,a){var f=a(12),y=a(21);f({target:"Object",stat:!0,forced:!y,sham:!y},{defineProperties:a(123)})},function(u,m,a){var f=a(51),y=a(35);u.exports=function(g){var v=String(y(this)),_="",w=f(g);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;w>0;(w>>>=1)&&(v+=v))1&w&&(_+=v);return _}},function(u,m,a){a(12)({target:"Date",stat:!0},{now:function(){return new Date().getTime()}})},function(u,m){},function(u,m){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}u.exports=a},function(u,m,a){var f=a(15),y=a(92),g=f.WeakMap;u.exports=typeof g=="function"&&/native code/.test(y(g))},function(u,m,a){var f=a(95),y=a(118);u.exports=f?{}.toString:function(){return"[object "+y(this)+"]"}},function(u,m,a){var f=a(48),y=a(31),g=a(65),v=a(32),_=function(w){return function(x,j,E,T){f(j);var L=y(x),A=g(L),S=v(L.length),C=w?S-1:0,O=w?-1:1;if(E<2)for(;;){if(C in A){T=A[C],C+=O;break}if(C+=O,w?C<0:S<=C)throw TypeError("Reduce of empty array with no initial value")}for(;w?C>=0:S>C;C+=O)C in A&&(T=j(T,A[C],C,L));return T}};u.exports={left:_(!1),right:_(!0)}},function(u,m,a){var f=a(21),y=a(16),g=a(67),v=a(101),_=a(78),w=a(31),x=a(65),j=Object.assign,E=Object.defineProperty;u.exports=!j||y(function(){if(f&&j({b:1},j(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var T={},L={},A=Symbol();return T[A]=7,"abcdefghijklmnopqrst".split("").forEach(function(S){L[S]=S}),j({},T)[A]!=7||g(j({},L)).join("")!="abcdefghijklmnopqrst"})?function(T,L){for(var A=w(T),S=arguments.length,C=1,O=v.f,B=_.f;S>C;)for(var R,I=x(arguments[C++]),F=O?g(I).concat(O(I)):g(I),H=F.length,D=0;H>D;)R=F[D++],f&&!B.call(I,R)||(A[R]=I[R]);return A}:j},function(u,m,a){var f=a(15);u.exports=f.Promise},function(u,m,a){var f=a(34);u.exports=function(y,g,v){for(var _ in g)f(y,_,g[_],v);return y}},function(u,m,a){var f=a(23);u.exports=function(y){if(!f(y)&&y!==null)throw TypeError("Can't set "+String(y)+" as a prototype");return y}},function(u,m){u.exports=function(a,f,y){if(!(a instanceof f))throw TypeError("Incorrect "+(y?y+" ":"")+"invocation");return a}},function(u,m,a){var f=a(22),y=a(130),g=a(32),v=a(82),_=a(131),w=a(132),x=function(j,E){this.stopped=j,this.result=E};u.exports=function(j,E,T){var L,A,S,C,O,B,R,I=T&&T.that,F=!(!T||!T.AS_ENTRIES),H=!(!T||!T.IS_ITERATOR),D=!(!T||!T.INTERRUPTED),Z=v(E,I,1+F+D),Q=function(G){return L&&w(L),new x(!0,G)},X=function(G){return F?(f(G),D?Z(G[0],G[1],Q):Z(G[0],G[1])):D?Z(G,Q):Z(G)};if(H)L=j;else{if(typeof(A=_(j))!="function")throw TypeError("Target is not iterable");if(y(A)){for(S=0,C=g(j.length);C>S;S++)if((O=X(j[S]))&&O instanceof x)return O;return new x(!1)}L=A.call(j)}for(B=L.next;!(R=B.call(L)).done;){try{O=X(R.value)}catch(G){throw w(L),G}if(typeof O=="object"&&O&&O instanceof x)return O}return new x(!1)}},function(u,m,a){var f,y,g,v,_,w,x,j,E=a(15),T=a(45).f,L=a(135).set,A=a(136),S=a(166),C=a(80),O=E.MutationObserver||E.WebKitMutationObserver,B=E.document,R=E.process,I=E.Promise,F=T(E,"queueMicrotask"),H=F&&F.value;H||(f=function(){var D,Z;for(C&&(D=R.domain)&&D.exit();y;){Z=y.fn,y=y.next;try{Z()}catch(Q){throw y?v():g=void 0,Q}}g=void 0,D&&D.enter()},A||C||S||!O||!B?I&&I.resolve?((x=I.resolve(void 0)).constructor=I,j=x.then,v=function(){j.call(x,f)}):v=C?function(){R.nextTick(f)}:function(){L.call(E,f)}:(_=!0,w=B.createTextNode(""),new O(f).observe(w,{characterData:!0}),v=function(){w.data=_=!_})),u.exports=H||function(D){var Z={fn:D,next:void 0};g&&(g.next=Z),y||(y=Z,v()),g=Z}},function(u,m,a){var f=a(77);u.exports=/web0s(?!.*chrome)/i.test(f)},function(u,m,a){var f=a(22),y=a(23),g=a(137);u.exports=function(v,_){if(f(v),y(_)&&_.constructor===v)return _;var w=g.f(v);return(0,w.resolve)(_),w.promise}},function(u,m,a){var f=a(15);u.exports=function(y,g){var v=f.console;v&&v.error&&(arguments.length===1?v.error(y):v.error(y,g))}},function(u,m){u.exports=function(a){try{return{error:!1,value:a()}}catch(f){return{error:!0,value:f}}}},function(u,m){u.exports=typeof window=="object"},function(u,m,a){var f=a(36),y=a(66).f,g={}.toString,v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(_){return v&&g.call(_)=="[object Window]"?function(w){try{return y(w)}catch{return v.slice()}}(_):y(f(_))}},function(u,m,a){var f=a(141).IteratorPrototype,y=a(58),g=a(63),v=a(84),_=a(71),w=function(){return this};u.exports=function(x,j,E){var T=j+" Iterator";return x.prototype=y(f,{next:g(1,E)}),v(x,T,!1,!0),_[T]=w,x}},function(u,m,a){var f=a(82),y=a(31),g=a(174),v=a(130),_=a(32),w=a(69),x=a(131);u.exports=function(j){var E,T,L,A,S,C,O=y(j),B=typeof this=="function"?this:Array,R=arguments.length,I=R>1?arguments[1]:void 0,F=I!==void 0,H=x(O),D=0;if(F&&(I=f(I,R>2?arguments[2]:void 0,2)),H==null||B==Array&&v(H))for(T=new B(E=_(O.length));E>D;D++)C=F?I(O[D],D):O[D],w(T,D,C);else for(S=(A=H.call(O)).next,T=new B;!(L=S.call(A)).done;D++)C=F?g(A,I,[L.value,D],!0):L.value,w(T,D,C);return T.length=D,T}},function(u,m,a){var f=a(22),y=a(132);u.exports=function(g,v,_,w){try{return w?v(f(_)[0],_[1]):v(_)}catch(x){throw y(g),x}}},function(u,m,a){var f=a(31),y=Math.floor,g="".replace,v=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,_=/\$([$&'`]|\d{1,2})/g;u.exports=function(w,x,j,E,T,L){var A=j+w.length,S=E.length,C=_;return T!==void 0&&(T=f(T),C=v),g.call(L,C,function(O,B){var R;switch(B.charAt(0)){case"$":return"$";case"&":return w;case"`":return x.slice(0,j);case"'":return x.slice(A);case"<":R=T[B.slice(1,-1)];break;default:var I=+B;if(I===0)return O;if(I>S){var F=y(I/10);return F===0?O:F<=S?E[F-1]===void 0?B.charAt(1):E[F-1]+B.charAt(1):O}R=E[I-1]}return R===void 0?"":R})}},function(u,m,a){var f=a(15),y=a(88).trim,g=a(89),v=f.parseFloat,_=1/v(g+"-0")!=-1/0;u.exports=_?function(w){var x=y(String(w)),j=v(x);return j===0&&x.charAt(0)=="-"?-0:j}:v},function(u,m,a){var f=a(15),y=a(88).trim,g=a(89),v=f.parseInt,_=/^[+-]?0[Xx]/,w=v(g+"08")!==8||v(g+"0x16")!==22;u.exports=w?function(x,j){var E=y(String(x));return v(E,j>>>0||(_.test(E)?16:10))}:v},function(u,m,a){var f=a(12),y=a(54).every;f({target:"Array",proto:!0,forced:!a(52)("every")},{every:function(g){return y(this,g,arguments.length>1?arguments[1]:void 0)}})},function(u,m,a){var f=a(12),y=a(15),g=a(77),v=[].slice,_=function(w){return function(x,j){var E=arguments.length>2,T=E?v.call(arguments,2):void 0;return w(E?function(){(typeof x=="function"?x:Function(x)).apply(this,T)}:x,j)}};f({global:!0,bind:!0,forced:/MSIE .\./.test(g)},{setTimeout:_(y.setTimeout),setInterval:_(y.setInterval)})},function(u,m,a){var f=a(47);u.exports=function(y){if(typeof y!="number"&&f(y)!="Number")throw TypeError("Incorrect invocation");return+y}},function(u,m,a){var f=a(12),y=a(182);f({target:"Date",proto:!0,forced:Date.prototype.toISOString!==y},{toISOString:y})},function(u,m,a){var f=a(16),y=a(183).start,g=Math.abs,v=Date.prototype,_=v.getTime,w=v.toISOString;u.exports=f(function(){return w.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!f(function(){w.call(new Date(NaN))})?function(){if(!isFinite(_.call(this)))throw RangeError("Invalid time value");var x=this.getUTCFullYear(),j=this.getUTCMilliseconds(),E=x<0?"-":x>9999?"+":"";return E+y(g(x),E?6:4,0)+"-"+y(this.getUTCMonth()+1,2,0)+"-"+y(this.getUTCDate(),2,0)+"T"+y(this.getUTCHours(),2,0)+":"+y(this.getUTCMinutes(),2,0)+":"+y(this.getUTCSeconds(),2,0)+"."+y(j,3,0)+"Z"}:w},function(u,m,a){var f=a(32),y=a(152),g=a(35),v=Math.ceil,_=function(w){return function(x,j,E){var T,L,A=String(g(x)),S=A.length,C=E===void 0?" ":String(E),O=f(j);return O<=S||C==""?A:(T=O-S,(L=y.call(C,v(T/C.length))).length>T&&(L=L.slice(0,T)),w?A+L:L+A)}};u.exports={start:_(!1),end:_(!0)}},function(u,m,a){var f=a(12),y=a(88).trim;f({target:"String",proto:!0,forced:a(185)("trim")},{trim:function(){return y(this)}})},function(u,m,a){var f=a(16),y=a(89);u.exports=function(g){return f(function(){return!!y[g]()||""[g]()!=""||y[g].name!==g})}},function(u,m,a){a.r(m),a.d(m,"JSONEditor",function(){return Ee}),a(114),a(43),a(1),a(44),a(40),a(53),a(81),a(19),a(20),a(37),a(17),a(127),a(11),a(128),a(25),a(2),a(3),a(4),a(0),a(5),a(6),a(38),a(29),a(30),a(59),a(24),a(41),a(60),a(26);var f=["actionscript","batchfile","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","sqlserver","stylus","svg","twig","vbscript","xml","yaml"],y=[function(o){return o.type==="string"&&o.format==="color"&&"colorpicker"},function(o){return o.type==="string"&&["ip","ipv4","ipv6","hostname"].includes(o.format)&&"ip"},function(o){return o.type==="string"&&f.includes(o.format)&&"ace"},function(o){return o.type==="string"&&["xhtml","bbcode"].includes(o.format)&&"sceditor"},function(o){return o.type==="string"&&o.format==="markdown"&&"simplemde"},function(o){return o.type==="string"&&o.format==="jodit"&&"jodit"},function(o){return o.type==="string"&&o.format==="autocomplete"&&"autocomplete"},function(o){return o.type==="string"&&o.format==="uuid"&&"uuid"},function(o){return o.format==="info"&&"info"},function(o){return o.format==="button"&&"button"},function(o){if((o.type==="integer"||o.type==="number")&&o.format==="stepper")return"stepper"},function(o){if(o.links){for(var n=0;n<o.links.length;n++)if(o.links[n].rel&&o.links[n].rel.toLowerCase()==="describedby")return"describedBy"}},function(o){return["string","integer"].includes(o.type)&&["starrating","rating"].includes(o.format)&&"starrating"},function(o){return["string","integer"].includes(o.type)&&["date","time","datetime-local"].includes(o.format)&&"datetime"},function(o){return(o.oneOf||o.anyOf)&&"multiple"},function(o){if(o.type==="array"&&o.items&&!Array.isArray(o.items)&&["string","number","integer"].includes(o.items.type)){if(o.format==="choices")return"arrayChoices";if(o.uniqueItems){if(o.format==="selectize")return"arraySelectize";if(o.format==="select2")return"arraySelect2";if(o.items.enum)return"multiselect"}}},function(o){if(o.enum){if(o.type==="array"||o.type==="object")return"enum";if(o.type==="number"||o.type==="integer"||o.type==="string")return o.format==="radio"?"radio":o.format==="select2"?"select2":o.format==="selectize"?"selectize":o.format==="choices"?"choices":"select"}},function(o){if(o.enumSource)return o.format==="radio"?"radio":o.format==="select2"?"select2":o.format==="selectize"?"selectize":o.format==="choices"?"choices":"select"},function(o){return o.type==="array"&&o.format==="table"&&"table"},function(o){return o.type==="string"&&o.format==="url"&&window.FileReader&&o.options&&o.options.upload===Object(o.options.upload)&&"upload"},function(o){return o.type==="string"&&o.media&&o.media.binaryEncoding==="base64"&&"base64"},function(o){return o.type==="any"&&"multiple"},function(o){if(o.type==="boolean")return o.format==="checkbox"||o.options&&o.options.checkbox?"checkbox":o.format==="select2"?"select2":o.format==="selectize"?"selectize":o.format==="choices"?"choices":"select"},function(o){return o.type==="string"&&o.format==="signature"&&"signature"},function(o){return typeof o.type=="string"&&o.type},function(o){return!o.type&&o.properties&&"object"},function(o){return typeof o.type!="string"&&"multiple"}];a(7),a(8),a(9),a(10),a(14),a(13),a(46),a(33),a(55),a(49),a(87),a(109),a(110),a(42),a(111),a(72);function g(o){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function v(o){return o!==null&&g(o)==="object"&&!o.nodeType&&o!==o.window&&!(o.constructor&&!E(o.constructor.prototype,"isPrototypeOf"))}function _(o){return v(o)?w({},o):Array.isArray(o)?o.map(_):o}function w(o){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.forEach(function(l){l&&Object.keys(l).forEach(function(t){l[t]&&v(l[t])?(E(o,t)||(o[t]={}),w(o[t],l[t])):Array.isArray(l[t])?o[t]=_(l[t]):o[t]=l[t]})}),o}function x(o,n){var s=document.createEvent("HTMLEvents");s.initEvent(n,!0,!0),o.dispatchEvent(s)}function j(o){return o&&(o.toString()==="[object ShadowRoot]"?o:j(o.parentNode))}function E(o,n){return o&&Object.prototype.hasOwnProperty.call(o,n)}var T=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,L=/^\s*(-|\+)?(\d+)\s*$/;function A(){var o=new Date().getTime();return typeof performance<"u"&&typeof performance.now=="function"&&(o+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var s=(o+16*Math.random())%16|0;return o=Math.floor(o/16),(n==="x"?s:3&s|8).toString(16)})}function S(o,n){return function(s){if(Array.isArray(s))return s}(o)||function(s,i){var l=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(l!=null){var t,e,r=[],c=!0,p=!1;try{for(l=l.call(s);!(c=(t=l.next()).done)&&(r.push(t.value),!i||r.length!==i);c=!0);}catch(b){p=!0,e=b}finally{try{c||l.return==null||l.return()}finally{if(p)throw e}}return r}}(o,n)||function(s,i){if(s){if(typeof s=="string")return C(s,i);var l=Object.prototype.toString.call(s).slice(8,-1);if(l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set")return Array.from(s);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return C(s,i)}}(o,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(o,n){(n==null||n>o.length)&&(n=o.length);for(var s=0,i=new Array(n);s<n;s++)i[s]=o[s];return i}function O(o){return(O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function B(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}var R=function(){function o(i,l){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),this.defaults=l,this.jsoneditor=i.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||this.defaults.translate,this.translateProperty=this.jsoneditor.translateProperty||this.defaults.translateProperty,this.original_schema=i.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.active=!0,this.options=w({},this.options||{},this.schema.options||{},i.schema.options||{},i),this.formname=this.jsoneditor.options.form_name_root||"root",i.path||this.schema.id||(this.schema.id=this.formname),this.path=i.path||this.formname,this.formname=i.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.parent=i.parent,this.key=this.parent!==void 0?this.path.split(".").slice(this.parent.path.split(".").length).join("."):this.path,this.link_watchers=[],this.watchLoop=!1,i.container&&this.setContainer(i.container),this.registerDependencies()}var n,s;return n=o,(s=[{key:"onChildEditorChange",value:function(i){this.onChange(!0)}},{key:"notify",value:function(){this.path&&this.jsoneditor.notifyWatchers(this.path)}},{key:"change",value:function(){this.parent?this.parent.onChildEditorChange(this):this.jsoneditor&&this.jsoneditor.onChange()}},{key:"onChange",value:function(i){this.notify(),this.watch_listener&&this.watch_listener(),i&&this.change()}},{key:"register",value:function(){this.jsoneditor.registerEditor(this),this.onChange()}},{key:"unregister",value:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)}},{key:"getNumColumns",value:function(){return 12}},{key:"isActive",value:function(){return this.active}},{key:"activate",value:function(){this.active=!0,this.optInCheckbox.checked=!0,this.enable(),this.change()}},{key:"deactivate",value:function(){this.isRequired()||(this.active=!1,this.optInCheckbox.checked=!1,this.disable(),this.change())}},{key:"registerDependencies",value:function(){var i=this;this.dependenciesFulfilled=!0;var l=this.options.dependencies;l&&Object.keys(l).forEach(function(t){var e=i.path.split(".");e[e.length-1]=t,e=e.join("."),i.jsoneditor.watch(e,function(){i.evaluateDependencies()})})}},{key:"evaluateDependencies",value:function(){var i=this,l=this.container||this.control;if(l&&this.jsoneditor!==null){var t=this.options.dependencies;if(t){var e=this.dependenciesFulfilled;this.dependenciesFulfilled=!0,Object.keys(t).forEach(function(c){var p=i.path.split(".");p[p.length-1]=c,p=p.join(".");var b=t[c];i.checkDependency(p,b)}),this.dependenciesFulfilled!==e&&this.notify();var r=this.dependenciesFulfilled?"block":"none";this.options.hidden&&(r="none"),l.tagName==="TD"?Object.keys(l.childNodes).forEach(function(c){return l.childNodes[c].style.display=r}):l.style.display=r}}}},{key:"checkDependency",value:function(i,l){var t=this;if(this.path!==i&&this.jsoneditor!==null){var e=this.jsoneditor.getEditor(i),r=e?e.getValue():void 0;e&&e.dependenciesFulfilled?Array.isArray(l)?this.dependenciesFulfilled=l.some(function(c){if(JSON.stringify(r)===JSON.stringify(c))return!0}):O(l)==="object"?O(r)!=="object"?this.dependenciesFulfilled=l===r:Object.keys(l).some(function(c){return!!E(l,c)&&(E(r,c)&&l[c]===r[c]?void 0:(t.dependenciesFulfilled=!1,!0))}):typeof l=="string"||typeof l=="number"?this.dependenciesFulfilled=this.dependenciesFulfilled&&r===l:typeof l=="boolean"&&(this.dependenciesFulfilled=l?this.dependenciesFulfilled&&(r||r.length>0):this.dependenciesFulfilled&&(!r||r.length===0)):this.dependenciesFulfilled=!1}}},{key:"setContainer",value:function(i){this.container=i,this.setContainerAttributes(),this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&typeof this.schema.type=="string"&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)}},{key:"setOptInCheckbox",value:function(i){var l=this;this.optInCheckbox=document.createElement("input"),this.optInCheckbox.setAttribute("type","checkbox"),this.optInCheckbox.setAttribute("style","margin: 0 10px 0 0;"),this.optInCheckbox.classList.add("json-editor-opt-in"),this.optInCheckbox.addEventListener("click",function(){l.isActive()?l.deactivate():l.activate()});var t=this.jsoneditor.options.show_opt_in,e=this.parent.options.show_opt_in!==void 0,r=e&&this.parent.options.show_opt_in===!0,c=e&&this.parent.options.show_opt_in===!1;(r||!c&&t||!e&&t)&&this.parent&&this.parent.schema.type==="object"&&!this.isRequired()&&this.header&&(this.header.appendChild(this.optInCheckbox),this.header.insertBefore(this.optInCheckbox,this.header.firstChild))}},{key:"preBuild",value:function(){}},{key:"build",value:function(){}},{key:"postBuild",value:function(){this.setupWatchListeners(),this.addLinks(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.register(),this.onWatchedFieldChange()}},{key:"setupWatchListeners",value:function(){var i=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){i.refreshWatchedFieldValues()&&i.onWatchedFieldChange()},E(this.schema,"watch")){var l,t,e,r,c,p=this.container.getAttribute("data-schemapath");Object.keys(this.schema.watch).forEach(function(b){if(l=i.schema.watch[b],Array.isArray(l)){if(l.length<2)return;t=[l[0]].concat(l[1].split("."))}else t=l.split("."),i.theme.closest(i.container,'[data-schemaid="'.concat(t[0],'"]'))||t.unshift("#");if((e=t.shift())==="#"&&(e=i.jsoneditor.schema.id||i.jsoneditor.root.formname),!(r=i.theme.closest(i.container,'[data-schemaid="'.concat(e,'"]'))))throw new Error("Could not find ancestor node with id ".concat(e));c="".concat(r.getAttribute("data-schemapath"),".").concat(t.join(".")),p.startsWith(c)&&(i.watchLoop=!0),i.jsoneditor.watch(c,i.watch_listener),i.watched[b]=c})}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))}},{key:"addLinks",value:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.description!==void 0?this.description.parentNode.insertBefore(this.link_holder,this.description):this.container.appendChild(this.link_holder),this.schema.links))for(var i=0;i<this.schema.links.length;i++)this.addLink(this.getLink(this.schema.links[i]))}},{key:"onMove",value:function(){}},{key:"getButton",value:function(i,l,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],r="json-editor-btn-".concat(l);l=this.iconlib?this.iconlib.getIcon(l):null,i=this.translate(i,e),t=this.translate(t,e),!l&&t&&(i=t,t=null);var c=this.theme.getButton(i,l,t);return c.classList.add(r),c}},{key:"setButtonText",value:function(i,l,t,e){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];return t=this.iconlib?this.iconlib.getIcon(t):null,l=this.translate(l,r),e=this.translate(e,r),!t&&e&&(l=e,e=null),this.theme.setButtonText(i,l,t,e)}},{key:"addLink",value:function(i){this.link_holder&&this.link_holder.appendChild(i)}},{key:"getLink",value:function(i){var l,t,e=(i.mediaType||"application/javascript").split("/")[0],r=this.jsoneditor.compileTemplate(i.href,this.template_engine),c=this.jsoneditor.compileTemplate(i.rel?i.rel:i.href,this.template_engine),p=null;if(i.download&&(p=i.download),p&&p!==!0&&(p=this.jsoneditor.compileTemplate(p,this.template_engine)),e==="image"){l=this.theme.getBlockLinkHolder(),(t=document.createElement("a")).setAttribute("target","_blank");var b=document.createElement("img");this.theme.createImageLink(l,t,b),this.link_watchers.push(function(P){var N=r(P),z=c(P);t.setAttribute("href",N),t.setAttribute("title",z||N),b.setAttribute("src",N)})}else if(["audio","video"].includes(e)){l=this.theme.getBlockLinkHolder(),(t=this.theme.getBlockLink()).setAttribute("target","_blank");var k=document.createElement(e);k.setAttribute("controls","controls"),this.theme.createMediaLink(l,t,k),this.link_watchers.push(function(P){var N=r(P),z=c(P);t.setAttribute("href",N),t.textContent=z||N,k.setAttribute("src",N)})}else t=l=this.theme.getBlockLink(),l.setAttribute("target","_blank"),l.textContent=i.rel,l.style.display="none",this.link_watchers.push(function(P){var N=r(P),z=c(P);N&&(l.style.display=""),l.setAttribute("href",N),l.textContent=z||N});return p&&t&&(p===!0?t.setAttribute("download",""):this.link_watchers.push(function(P){t.setAttribute("download",p(P))})),i.class&&t.classList.add(i.class),l}},{key:"refreshWatchedFieldValues",value:function(){var i=this;if(this.watched_values){var l={},t=!1;return this.watched&&Object.keys(this.watched).forEach(function(e){var r=i.jsoneditor.getEditor(i.watched[e]),c=r?r.getValue():null;i.watched_values[e]!==c&&(t=!0),l[e]=c}),l.self=this.getValue(),this.watched_values.self!==l.self&&(t=!0),this.watched_values=l,t}}},{key:"getWatchedFieldValues",value:function(){return this.watched_values}},{key:"updateHeaderText",value:function(){if(this.header){var i=this.getHeaderText();if(this.header.children.length){for(var l=0;l<this.header.childNodes.length;l++)if(this.header.childNodes[l].nodeType===3){this.header.childNodes[l].nodeValue=this.cleanText(i);break}}else window.DOMPurify?this.header.innerHTML=window.DOMPurify.sanitize(i):this.header.textContent=this.cleanText(i)}}},{key:"getHeaderText",value:function(i){return this.header_text?this.header_text:i?this.translateProperty(this.schema.title):this.getTitle()}},{key:"getPathDepth",value:function(){return this.path.split(".").length}},{key:"cleanText",value:function(i){var l=document.createElement("div");return l.innerHTML=i,l.textContent||l.innerText}},{key:"onWatchedFieldChange",value:function(){var i;if(this.header_template){i=w(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var l=this.header_template(i);l!==this.header_text&&(this.header_text=l,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){i=this.getWatchedFieldValues();for(var t=0;t<this.link_watchers.length;t++)this.link_watchers[t](i)}}},{key:"setValue",value:function(i){this.value=i}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.value}},{key:"refreshValue",value:function(){}},{key:"getChildEditors",value:function(){return!1}},{key:"destroy",value:function(){var i=this;this.unregister(this),this.watched&&Object.values(this.watched).forEach(function(l){return i.jsoneditor.unwatch(l,i.watch_listener)}),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null}},{key:"isDefaultRequired",value:function(){return this.isRequired()||!!this.jsoneditor.options.use_default_values}},{key:"getDefault",value:function(){if(this.schema.default!==void 0)return this.schema.default;if(this.schema.enum!==void 0)return this.schema.enum[0];var i=this.schema.type||this.schema.oneOf;if(i&&Array.isArray(i)&&(i=i[0]),i&&O(i)==="object"&&(i=i.type),i&&Array.isArray(i)&&(i=i[0]),typeof i=="string"){if(i==="number")return this.isDefaultRequired()?0:void 0;if(i==="boolean")return!this.isDefaultRequired()&&void 0;if(i==="integer")return this.isDefaultRequired()?0:void 0;if(i==="string")return this.isDefaultRequired()?"":void 0;if(i==="null")return null;if(i==="object")return{};if(i==="array")return[]}}},{key:"getTitle",value:function(){return this.translateProperty(this.schema.title||this.key)}},{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"isEnabled",value:function(){return!this.disabled}},{key:"isRequired",value:function(){return typeof this.schema.required=="boolean"?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.includes(this.key):!!this.jsoneditor.options.required_by_default}},{key:"getDisplayText",value:function(i){var l=[],t={};i.forEach(function(r){r.title&&(t[r.title]=t[r.title]||0,t[r.title]++),r.description&&(t[r.description]=t[r.description]||0,t[r.description]++),r.format&&(t[r.format]=t[r.format]||0,t[r.format]++),r.type&&(t[r.type]=t[r.type]||0,t[r.type]++)}),i.forEach(function(r){var c;c=typeof r=="string"?r:r.title&&t[r.title]<=1?r.title:r.format&&t[r.format]<=1?r.format:r.type&&t[r.type]<=1?r.type:r.description&&t[r.description]<=1?r.description:r.title?r.title:r.format?r.format:r.type?r.type:r.description?r.description:JSON.stringify(r).length<500?JSON.stringify(r):"type",l.push(c)});var e={};return l.forEach(function(r,c){e[r]=e[r]||0,e[r]++,t[r]>1&&(l[c]="".concat(r," ").concat(e[r]))}),l}},{key:"getValidId",value:function(i){return(i=i===void 0?"":i.toString()).replace(/\s+/g,"-")}},{key:"setInputAttributes",value:function(i){var l=this;if(this.schema.options&&this.schema.options.inputAttributes){var t=this.schema.options.inputAttributes,e=["name","type"].concat(i);Object.keys(t).forEach(function(r){e.includes(r.toLowerCase())||l.input.setAttribute(r,t[r])})}}},{key:"setContainerAttributes",value:function(){var i=this;if(this.schema.options&&this.schema.options.containerAttributes){var l=this.schema.options.containerAttributes,t=["data-schemapath","data-schematype","data-schemaid"];Object.keys(l).forEach(function(e){t.includes(e.toLowerCase())||i.container.setAttribute(e,l[e])})}}},{key:"expandCallbacks",value:function(i,l){var t=this,e=this.defaults.callbacks[i];return Object.entries(l).forEach(function(r){var c=S(r,2),p=c[0],b=c[1];b===Object(b)?l[p]=t.expandCallbacks(i,b):typeof b=="string"&&O(e)==="object"&&typeof e[b]=="function"&&(l[p]=e[b].bind(null,t))}),l}},{key:"showValidationErrors",value:function(i){}}])&&B(n.prototype,s),o}();function I(o){return(I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function F(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function H(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function D(o,n,s){return(D=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=G(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Z(o,n){return(Z=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Q(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=G(o);if(n){var l=G(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return X(this,s)}}function X(o,n){return!n||I(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function G(o){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var K=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)})(l,o);var n,s,i=Q(l);function l(){return F(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"register",value:function(){D(G(l.prototype),"register",this).call(this),this.input&&(this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname),this.input.setAttribute("aria-label",this.formname))}},{key:"unregister",value:function(){D(G(l.prototype),"unregister",this).call(this),this.input&&(this.input.removeAttribute("name"),this.input.removeAttribute("aria-label"))}},{key:"setValue",value:function(t,e,r){if((!this.template||r)&&(this.shouldBeUnset()||t!=null?I(t)==="object"?t=JSON.stringify(t):this.shouldBeUnset()||typeof t=="string"||(t="".concat(t)):t="",t!==this.serialized)){var c=this.sanitize(t);if(this.input.value!==c){if(this.setValueToInputField(c),this.format==="range"){var p=this.control.querySelector("output");p&&(p.value=c)}var b=r||this.getValue()!==t;return this.refreshValue(),e?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(b),{changed:b,value:c}}}}},{key:"setValueToInputField",value:function(t){this.input.value=t===void 0?"":t}},{key:"getNumColumns",value:function(){var t,e=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return t=this.input_type==="textarea"?6:["text","email"].includes(this.input_type)?4:2,Math.min(12,Math.max(e,t))}},{key:"build",value:function(){var t=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if(this.format==="textarea")this.input_type="textarea",this.input=this.theme.getTextareaInput();else if(this.format==="range"){this.input_type="range";var e=this.schema.minimum||0,r=this.schema.maximum||Math.max(100,e+1),c=1;this.schema.multipleOf&&(e%this.schema.multipleOf&&(e=Math.ceil(e/this.schema.multipleOf)*this.schema.multipleOf),r%this.schema.multipleOf&&(r=Math.floor(r/this.schema.multipleOf)*this.schema.multipleOf),c=this.schema.multipleOf),this.input=this.theme.getRangeInput(e,r,c)}else this.input_type="text",["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","reset","search","submit","tel","text","time","url","week"].includes(this.format)&&(this.input_type=this.format),this.input=this.theme.getFormInputField(this.input_type);else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);this.schema.maxLength!==void 0&&this.input.setAttribute("maxlength",this.schema.maxLength),this.schema.pattern!==void 0?this.input.setAttribute("pattern",this.schema.pattern):this.schema.minLength!==void 0&&this.input.setAttribute("pattern",".{".concat(this.schema.minLength,",}")),this.options.compact?this.container.classList.add("compact"):this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.disable(!0),this.input.setAttribute("readonly","true")),this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"]),this.input.addEventListener("change",function(k){if(k.preventDefault(),k.stopPropagation(),t.schema.template)k.currentTarget.value=t.value;else{var P=k.currentTarget.value,N=t.sanitize(P);P!==N&&(k.currentTarget.value=N),t.is_dirty=!0,t.refreshValue(),t.onChange(!0)}}),this.options.input_height&&(this.input.style.height=this.options.input_height),this.options.expand_height&&(this.adjust_height=function(k){if(k){var P,N=k.offsetHeight;if(k.offsetHeight<k.scrollHeight)for(P=0;k.offsetHeight<k.scrollHeight+3&&!(P>100);)P++,N++,k.style.height="".concat(N,"px");else{for(P=0;k.offsetHeight>=k.scrollHeight+3&&!(P>100);)P++,N--,k.style.height="".concat(N,"px");k.style.height="".concat(N+1,"px")}}},this.input.addEventListener("keyup",function(k){t.adjust_height(k.currentTarget)}),this.input.addEventListener("change",function(k){t.adjust_height(k.currentTarget)}),this.adjust_height()),this.format&&this.input.setAttribute("data-schemaformat",this.format);var p=this.input;if(this.format==="range"&&(p=this.theme.getRangeControl(this.input,this.theme.getRangeOutput(this.input,this.schema.default||Math.max(this.schema.minimum||0,0)))),this.control=this.theme.getFormControl(this.label,p,this.description,this.infoButton,this.formname),this.container.appendChild(this.control),window.requestAnimationFrame(function(){t.input.parentNode&&t.afterInputReady(),t.adjust_height&&t.adjust_height(t.input),t.format==="range"&&(t.control.querySelector("output").value=t.input.value)}),this.schema.template){var b=this.expandCallbacks("template",{template:this.schema.template});typeof b.template=="function"?this.template=b.template:this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()}else this.refreshValue()}},{key:"setupCleave",value:function(t){var e=this.expandCallbacks("cleave",w({},this.defaults.options.cleave||{},this.options.cleave||{}));I(e)==="object"&&Object.keys(e).length>0&&(this.cleave_instance=new window.Cleave(t,e))}},{key:"setupImask",value:function(t){var e=this.expandCallbacks("imask",w({},this.defaults.options.imask||{},this.options.imask||{}));I(e)==="object"&&Object.keys(e).length>0&&(this.imask_instance=window.IMask(t,this.ajustIMaskOptions(e)))}},{key:"ajustIMaskOptions",value:function(t){var e=this;return Object.keys(t).forEach(function(r){if(t[r]===Object(t[r]))t[r]=e.ajustIMaskOptions(t[r]);else if(r==="mask")if(t[r].substr(0,6)==="regex:"){var c=t[r].match(/^regex:\/(.*)\/([gimsuy]*)$/);if(c!==null)try{t[r]=new RegExp(c[1],c[2])}catch{}}else t[r]=e.getGlobalPropertyFromString(t[r])}),t}},{key:"getGlobalPropertyFromString",value:function(t){if(t.includes(".")){var e=t.split("."),r=e[0],c=e[1];if(window[r]!==void 0&&window[r][c]!==void 0)return window[r][c]}else if(window[t]!==void 0)return window[t];return t}},{key:"shouldBeUnset",value:function(){return!this.jsoneditor.options.use_default_values&&!this.is_dirty}},{key:"getValue",value:function(){var t=!(!this.input||!this.input.value);if(!this.shouldBeUnset()||t)return this.imask_instance&&this.dependenciesFulfilled&&this.options.imask.returnUnmasked?this.imask_instance.unmaskedValue:D(G(l.prototype),"getValue",this).call(this)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,D(G(l.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.input.disabled=!0,D(G(l.prototype),"disable",this).call(this)}},{key:"afterInputReady",value:function(){this.theme.afterInputReady(this.input),window.Cleave&&!this.cleave_instance?this.setupCleave(this.input):window.IMask&&!this.imask_instance&&this.setupImask(this.input)}},{key:"refreshValue",value:function(){this.value=this.input.value,typeof this.value=="string"||this.shouldBeUnset()||(this.value=""),this.serialized=this.value}},{key:"destroy",value:function(){this.cleave_instance&&this.cleave_instance.destroy(),this.imask_instance&&this.imask_instance.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),D(G(l.prototype),"destroy",this).call(this)}},{key:"sanitize",value:function(t){return t}},{key:"onWatchedFieldChange",value:function(){var t;this.template&&(t=this.getWatchedFieldValues(),this.setValue(this.template(t),!1,!0)),D(G(l.prototype),"onWatchedFieldChange",this).call(this)}},{key:"showValidationErrors",value:function(t){var e=this;if(this.jsoneditor.options.show_errors!=="always"){if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return}this.previous_error_setting=this.jsoneditor.options.show_errors;var r=t.reduce(function(c,p){return p.path===e.path&&c.push(p.message),c},[]);r.length?this.theme.addInputError(this.input,"".concat(r.join(". "),".")):this.theme.removeInputError(this.input)}}])&&H(n.prototype,s),l}(R);function st(o){return(st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function V(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function M(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function W(o,n,s){return(W=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=gt(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function et(o,n){return(et=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Y(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=gt(o);if(n){var l=gt(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return mt(this,s)}}function mt(o,n){return!n||st(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function gt(o){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var _t=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)})(l,o);var n,s,i=Y(l);function l(){return V(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e,r){var c=W(gt(l.prototype),"setValue",this).call(this,t,e,r);c!==void 0&&c.changed&&this.ace_editor_instance&&(this.ace_editor_instance.setValue(c.value),this.ace_editor_instance.session.getSelection().clearSelection(),this.ace_editor_instance.resize())}},{key:"build",value:function(){this.options.format="textarea",W(gt(l.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var t,e=this;if(window.ace){var r=this.input_type;r!=="cpp"&&r!=="c++"&&r!=="c"||(r="c_cpp"),t=this.expandCallbacks("ace",w({},{selectionStyle:"text",minLines:30,maxLines:30},this.defaults.options.ace||{},this.options.ace||{},{mode:"ace/mode/".concat(r)})),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor_instance=window.ace.edit(this.ace_container,t),this.ace_editor_instance.setValue(this.getValue()),this.ace_editor_instance.session.getSelection().clearSelection(),this.ace_editor_instance.resize(),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&this.ace_editor_instance.setReadOnly(!0),this.ace_editor_instance.on("change",function(){e.input.value=e.ace_editor_instance.getValue(),e.refreshValue(),e.is_dirty=!0,e.onChange(!0)}),this.theme.afterInputReady(this.input)}else W(gt(l.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.ace_editor_instance&&this.ace_editor_instance.setReadOnly(!1),W(gt(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.ace_editor_instance&&this.ace_editor_instance.setReadOnly(!0),W(gt(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.ace_editor_instance&&(this.ace_editor_instance.destroy(),this.ace_editor_instance=null),W(gt(l.prototype),"destroy",this).call(this)}}])&&M(n.prototype,s),l}(K);a(61);function Et(o){return(Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function ct(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Rt(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function wt(o,n,s){return(wt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=yt(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function vt(o,n){return(vt=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function bt(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=yt(o);if(n){var l=yt(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return kt(this,s)}}function kt(o,n){return!n||Et(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function yt(o){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var At=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)})(l,o);var n,s,i=bt(l);function l(){return ct(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"askConfirmation",value:function(){return this.jsoneditor.options.prompt_before_delete!==!0||window.confirm(this.translate("button_delete_node_warning"))!==!1}},{key:"getDefault",value:function(){return this.schema.default||[]}},{key:"register",value:function(){wt(yt(l.prototype),"register",this).call(this),this.rows&&this.rows.forEach(function(t){return t.register()})}},{key:"unregister",value:function(){wt(yt(l.prototype),"unregister",this).call(this),this.rows&&this.rows.forEach(function(t){return t.unregister()})}},{key:"getNumColumns",value:function(){var t=this.getItemInfo(0);return this.tabs_holder&&this.schema.format!=="tabs-top"?Math.max(Math.min(12,t.width+2),4):t.width}},{key:"enable",value:function(){var t=this;this.always_disabled||(this.setAvailability(this,!1),this.rows&&this.rows.forEach(function(e){e.enable(),t.setAvailability(e,!1)}),wt(yt(l.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){var e=this;t&&(this.always_disabled=!0),this.setAvailability(this,!0),this.rows&&this.rows.forEach(function(r){r.disable(t),e.setAvailability(r,!0)}),wt(yt(l.prototype),"disable",this).call(this)}},{key:"setAvailability",value:function(t,e){t.add_row_button&&(t.add_row_button.disabled=e),t.remove_all_rows_button&&(t.remove_all_rows_button.disabled=e),t.delete_last_row_button&&(t.delete_last_row_button.disabled=e),t.copy_button&&(t.copy_button.disabled=e),t.delete_button&&(t.delete_button.disabled=e),t.moveup_button&&(t.moveup_button.disabled=e),t.movedown_button&&(t.movedown_button.disabled=e)}},{key:"preBuild",value:function(){wt(yt(l.prototype),"preBuild",this).call(this),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows,this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add,this.show_copy_button=this.options.enable_array_copy||this.jsoneditor.options.enable_array_copy,this.array_controls_top=this.options.array_controls_top||this.jsoneditor.options.array_controls_top}},{key:"build",value:function(){this.options.compact?(this.title=this.theme.getHeader("",this.getPathDepth()),this.container.appendChild(this.title),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("label"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header,this.getPathDepth()),this.container.appendChild(this.title),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText)),this.container.appendChild(this.infoButton)),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.schema.format==="tabs-top"?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.getItemTitle())),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTopTabContentHolder(this.tabs_holder),this.active_tab=null):this.schema.format==="tabs"?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.getItemTitle())),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.array_controls_top?this.title.appendChild(this.controls):this.panel.appendChild(this.controls))),this.addControls()}},{key:"onChildEditorChange",value:function(t){this.refreshValue(),this.refreshTabs(!0),wt(yt(l.prototype),"onChildEditorChange",this).call(this,t)}},{key:"getItemTitle",value:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var t=this.jsoneditor.expandRefs(this.schema.items);this.item_title=this.translateProperty(t.title)||this.translate("default_array_item_title")}else this.item_title=this.translate("default_array_item_title");return this.cleanText(this.item_title)}},{key:"getItemSchema",value:function(t){return Array.isArray(this.schema.items)?t>=this.schema.items.length?this.schema.additionalItems===!0?{}:this.schema.additionalItems?w({},this.schema.additionalItems):void 0:w({},this.schema.items[t]):this.schema.items?w({},this.schema.items):{}}},{key:"getItemInfo",value:function(t){var e=this.getItemSchema(t);this.item_info=this.item_info||{};var r=JSON.stringify(e);return this.item_info[r]!==void 0||(e=this.jsoneditor.expandRefs(e),this.item_info[r]={title:this.translateProperty(e.title)||this.translate("default_array_item_title"),default:e.default,width:12,child_editors:e.properties||e.items}),this.item_info[r]}},{key:"getElementEditor",value:function(t){var e=this.getItemInfo(t),r=this.getItemSchema(t);(r=this.jsoneditor.expandRefs(r)).title="".concat(e.title," ").concat(t+1);var c,p=this.jsoneditor.getEditorClass(r);this.tabs_holder?(c=this.schema.format==="tabs-top"?this.theme.getTopTabContent():this.theme.getTabContent()).id="".concat(this.path,".").concat(t):c=e.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(c);var b=this.jsoneditor.createEditor(p,{jsoneditor:this.jsoneditor,schema:r,container:c,path:"".concat(this.path,".").concat(t),parent:this,required:!0});return b.preBuild(),b.build(),b.postBuild(),b.title_controls||(b.array_controls=this.theme.getButtonHolder(),c.appendChild(b.array_controls)),b}},{key:"checkParent",value:function(t){return t&&t.parentNode}},{key:"destroy",value:function(){this.empty(!0),this.checkParent(this.title)&&this.title.parentNode.removeChild(this.title),this.checkParent(this.description)&&this.description.parentNode.removeChild(this.description),this.checkParent(this.row_holder)&&this.row_holder.parentNode.removeChild(this.row_holder),this.checkParent(this.controls)&&this.controls.parentNode.removeChild(this.controls),this.checkParent(this.panel)&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,wt(yt(l.prototype),"destroy",this).call(this)}},{key:"empty",value:function(t){var e=this;this.rows&&(this.rows.forEach(function(r,c){t&&(e.checkParent(r.tab)&&r.tab.parentNode.removeChild(r.tab),e.destroyRow(r,!0),e.row_cache[c]=null),e.rows[c]=null}),this.rows=[],t&&(this.row_cache=[]))}},{key:"destroyRow",value:function(t,e){var r=t.container;e?(t.destroy(),r.parentNode&&r.parentNode.removeChild(r),this.checkParent(t.tab)&&t.tab.parentNode.removeChild(t.tab)):(t.tab&&(t.tab.style.display="none"),r.style.display="none",t.unregister())}},{key:"getMax",value:function(){return Array.isArray(this.schema.items)&&this.schema.additionalItems===!1?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0}},{key:"refreshTabs",value:function(t){var e=this;this.rows.forEach(function(r){r.tab&&(t?r.tab_text.textContent=r.getHeaderText():r.tab===e.active_tab?e.theme.markTabActive(r):e.theme.markTabInactive(r))})}},{key:"ensureArraySize",value:function(t){if(Array.isArray(t)||(t=[t]),this.schema.minItems)for(;t.length<this.schema.minItems;)t.push(this.getItemInfo(t.length).default);return this.getMax()&&t.length>this.getMax()&&(t=t.slice(0,this.getMax())),t}},{key:"setValue",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;e=this.ensureArraySize(e);var c=JSON.stringify(e);if(c!==this.serialized){e.forEach(function(P,N){if(t.rows[N])t.rows[N].setValue(P,r);else if(t.row_cache[N])t.rows[N]=t.row_cache[N],t.rows[N].setValue(P,r),t.rows[N].container.style.display="",t.rows[N].tab&&(t.rows[N].tab.style.display=""),t.rows[N].register(),t.jsoneditor.trigger("addRow",t.rows[N]);else{var z=t.addRow(P,r);t.jsoneditor.trigger("addRow",z)}});for(var p=e.length;p<this.rows.length;p++)this.destroyRow(this.rows[p]),this.rows[p]=null;this.rows=this.rows.slice(0,e.length);var b=this.rows.find(function(P){return P.tab===t.active_tab}),k=b!==void 0?b.tab:null;!k&&this.rows.length&&(k=this.rows[0].tab),this.active_tab=k,this.refreshValue(r),this.refreshTabs(!0),this.refreshTabs(),this.onChange()}}},{key:"setVisibility",value:function(t,e){t.style.display=e?"":"none"}},{key:"setupButtons",value:function(t){var e=[];if(this.value.length)if(this.value.length===1){this.remove_all_rows_button.style.display="none";var r=!(t||this.hide_delete_last_row_buttons);this.setVisibility(this.delete_last_row_button,r),e.push(r)}else{var c=!(t||this.hide_delete_last_row_buttons);this.setVisibility(this.delete_last_row_button,c),e.push(c);var p=!(t||this.hide_delete_all_rows_buttons);this.setVisibility(this.remove_all_rows_button,p),e.push(p)}else this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none";var b=!(this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button);return this.setVisibility(this.add_row_button,b),e.push(b),e.some(function(k){return k})}},{key:"refreshValue",value:function(t){var e=this,r=this.value?this.value.length:0;if(this.value=this.rows.map(function(p){return p.getValue()}),r!==this.value.length||t){var c=this.schema.minItems&&this.schema.minItems>=this.rows.length;this.rows.forEach(function(p,b){if(p.movedown_button){var k=b!==e.rows.length-1;e.setVisibility(p.movedown_button,k)}p.delete_button&&e.setVisibility(p.delete_button,!c),e.value[b]=p.getValue()}),!this.collapsed&&this.setupButtons(c)?this.controls.style.display="inline-block":this.controls.style.display="none"}this.serialized=JSON.stringify(this.value)}},{key:"addRow",value:function(t,e){var r=this,c=this.rows.length;this.rows[c]=this.getElementEditor(c),this.row_cache[c]=this.rows[c],this.tabs_holder&&(this.rows[c].tab_text=document.createElement("span"),this.rows[c].tab_text.textContent=this.rows[c].getHeaderText(),this.schema.format==="tabs-top"?(this.rows[c].tab=this.theme.getTopTab(this.rows[c].tab_text,this.getValidId(this.rows[c].path)),this.theme.addTopTab(this.tabs_holder,this.rows[c].tab)):(this.rows[c].tab=this.theme.getTab(this.rows[c].tab_text,this.getValidId(this.rows[c].path)),this.theme.addTab(this.tabs_holder,this.rows[c].tab)),this.rows[c].tab.addEventListener("click",function(b){r.active_tab=r.rows[c].tab,r.refreshTabs(),b.preventDefault(),b.stopPropagation()}));var p=this.rows[c].title_controls||this.rows[c].array_controls;return this.hide_delete_buttons||(this.rows[c].delete_button=this._createDeleteButton(c,p)),this.show_copy_button&&(this.rows[c].copy_button=this._createCopyButton(c,p)),c&&!this.hide_move_buttons&&(this.rows[c].moveup_button=this._createMoveUpButton(c,p)),this.hide_move_buttons||(this.rows[c].movedown_button=this._createMoveDownButton(c,p)),t!==void 0&&this.rows[c].setValue(t,e),this.refreshTabs(),this.rows[c]}},{key:"_createDeleteButton",value:function(t,e){var r=this,c=this.getButton(this.getItemTitle(),"delete","button_delete_row_title",[this.getItemTitle()]);return c.classList.add("delete","json-editor-btntype-delete"),c.setAttribute("data-i",t),c.addEventListener("click",function(p){if(p.preventDefault(),p.stopPropagation(),!r.askConfirmation())return!1;var b=1*p.currentTarget.getAttribute("data-i"),k=r.getValue().filter(function(z,U){return U!==b}),P=null,N=r.rows[b].getValue();r.setValue(k),r.rows[b]?P=r.rows[b].tab:r.rows[b-1]&&(P=r.rows[b-1].tab),P&&(r.active_tab=P,r.refreshTabs()),r.onChange(!0),r.jsoneditor.trigger("deleteRow",N)}),e&&e.appendChild(c),c}},{key:"_createCopyButton",value:function(t,e){var r=this,c=this.getButton(this.getItemTitle(),"copy","button_copy_row_title",[this.getItemTitle()]),p=this.schema;return c.classList.add("copy","json-editor-btntype-copy"),c.setAttribute("data-i",t),c.addEventListener("click",function(b){var k=r.getValue();b.preventDefault(),b.stopPropagation();var P=1*b.currentTarget.getAttribute("data-i");k.forEach(function(N,z){if(z===P){if(p.items.type==="string"&&p.items.format==="uuid")N=A();else if(p.items.type==="object"&&p.items.properties)for(var U=0,at=Object.keys(N);U<at.length;U++){var pt=at[U];p.items.properties&&p.items.properties[pt]&&p.items.properties[pt].format==="uuid"&&(N[pt]=A())}k.push(N)}}),r.setValue(k),r.refreshValue(!0),r.onChange(!0)}),e.appendChild(c),c}},{key:"_createMoveUpButton",value:function(t,e){var r=this,c=this.getButton("",this.schema.format==="tabs-top"?"moveleft":"moveup","button_move_up_title");return c.classList.add("moveup","json-editor-btntype-move"),c.setAttribute("data-i",t),c.addEventListener("click",function(p){p.preventDefault(),p.stopPropagation();var b=1*p.currentTarget.getAttribute("data-i");if(!(b<=0)){var k=r.getValue(),P=k[b-1];k[b-1]=k[b],k[b]=P,r.setValue(k),r.active_tab=r.rows[b-1].tab,r.refreshTabs(),r.onChange(!0),r.jsoneditor.trigger("moveRow",r.rows[b-1])}}),e&&e.appendChild(c),c}},{key:"_createMoveDownButton",value:function(t,e){var r=this,c=this.getButton("",this.schema.format==="tabs-top"?"moveright":"movedown","button_move_down_title");return c.classList.add("movedown","json-editor-btntype-move"),c.setAttribute("data-i",t),c.addEventListener("click",function(p){p.preventDefault(),p.stopPropagation();var b=1*p.currentTarget.getAttribute("data-i"),k=r.getValue();if(!(b>=k.length-1)){var P=k[b+1];k[b+1]=k[b],k[b]=P,r.setValue(k),r.active_tab=r.rows[b+1].tab,r.refreshTabs(),r.onChange(!0),r.jsoneditor.trigger("moveRow",r.rows[b+1])}}),e&&e.appendChild(c),c}},{key:"addControls",value:function(){this.collapsed=!1,this.toggle_button=this._createToggleButton(),this.options.collapsed&&x(this.toggle_button,"click"),this.schema.options&&this.schema.options.disable_collapse!==void 0?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this._createAddRowButton(),this.delete_last_row_button=this._createDeleteLastRowButton(),this.remove_all_rows_button=this._createRemoveAllRowsButton(),this.tabs&&(this.add_row_button.classList.add("je-array-control-btn"),this.delete_last_row_button.classList.add("je-array-control-btn"),this.remove_all_rows_button.classList.add("je-array-control-btn"))}},{key:"_createToggleButton",value:function(){var t=this,e=this.getButton("","collapse","button_collapse");e.classList.add("json-editor-btntype-toggle"),this.title.insertBefore(e,this.title.childNodes[0]);var r=this.row_holder.style.display,c=this.controls.style.display;return e.addEventListener("click",function(p){p.preventDefault(),p.stopPropagation(),t.panel&&t.setVisibility(t.panel,t.collapsed),t.tabs_holder&&t.setVisibility(t.tabs_holder,t.collapsed),t.collapsed?(t.collapsed=!1,t.row_holder.style.display=r,t.controls.style.display=c,t.setButtonText(p.currentTarget,"","collapse","button_collapse")):(t.collapsed=!0,t.row_holder.style.display="none",t.controls.style.display="none",t.setButtonText(p.currentTarget,"","expand","button_expand"))}),e}},{key:"_createAddRowButton",value:function(){var t=this,e=this.getButton(this.getItemTitle(),"add","button_add_row_title",[this.getItemTitle()]);return e.classList.add("json-editor-btntype-add"),e.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation();var c,p=t.rows.length;t.row_cache[p]?(c=t.rows[p]=t.row_cache[p],t.rows[p].setValue(t.rows[p].getDefault(),!0),t.rows[p].container.style.display="",t.rows[p].tab&&(t.rows[p].tab.style.display=""),t.rows[p].register()):c=t.addRow(),t.active_tab=t.rows[p].tab,t.refreshTabs(),t.refreshValue(),t.onChange(!0),t.jsoneditor.trigger("addRow",c)}),this.controls.appendChild(e),e}},{key:"_createDeleteLastRowButton",value:function(){var t=this,e=this.getButton("button_delete_last","subtract","button_delete_last_title",[this.getItemTitle()]);return e.classList.add("json-editor-btntype-deletelast"),e.addEventListener("click",function(r){if(r.preventDefault(),r.stopPropagation(),!t.askConfirmation())return!1;var c=t.getValue(),p=null,b=c.pop();t.setValue(c),t.rows[t.rows.length-1]&&(p=t.rows[t.rows.length-1].tab),p&&(t.active_tab=p,t.refreshTabs()),t.onChange(!0),t.jsoneditor.trigger("deleteRow",b)}),this.controls.appendChild(e),e}},{key:"_createRemoveAllRowsButton",value:function(){var t=this,e=this.getButton("button_delete_all","delete","button_delete_all_title");return e.classList.add("json-editor-btntype-deleteall"),e.addEventListener("click",function(r){if(r.preventDefault(),r.stopPropagation(),!t.askConfirmation())return!1;var c=t.getValue();t.empty(!0),t.setValue([]),t.onChange(!0),t.jsoneditor.trigger("deleteAllRows",c)}),this.controls.appendChild(e),e}},{key:"showValidationErrors",value:function(t){var e=this,r=[],c=[];t.forEach(function(p){p.path===e.path?r.push(p):c.push(p)}),this.error_holder&&(r.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",r.forEach(function(p){e.error_holder.appendChild(e.theme.getErrorMessage(p.message))})):this.error_holder.style.display="none"),this.rows.forEach(function(p){return p.showValidationErrors(c)})}}])&&Rt(n.prototype,s),l}(R);function It(o){return(It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function gn(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function En(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Pt(o,n,s){return(Pt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Vt(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Kt(o,n){return(Kt=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function te(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Vt(o);if(n){var l=Vt(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return qe(this,s)}}function qe(o,n){return!n||It(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Vt(o){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}At.rules={".json-editor-btntype-toggle":"margin:0%2010px%200%200",".je-array-control-btn":"width:100%25;text-align:left;margin-bottom:3px"};var Wt=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)})(l,o);var n,s,i=te(l);function l(){return gn(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"onInputChange",value:function(){this.value=this.input.value,this.onChange(!0)}},{key:"register",value:function(){Pt(Vt(l.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){Pt(Vt(l.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){var t=this,e=this.getTitle().length;return Object.keys(this.select_values).forEach(function(r){return e=Math.max(e,"".concat(t.select_values[r]).length+4)}),Math.min(12,Math.max(e/7,2))}},{key:"preBuild",value:function(){var t;Pt(Vt(l.prototype),"preBuild",this).call(this),this.select_options={},this.select_values={},this.option_titles=[],this.option_keys=[],this.option_enum=[];var e=this.jsoneditor.expandRefs(this.schema.items||{}),r=e.enum||[],c=e.options&&e.options.enum||[],p=e.options&&e.options.enum_titles||[];for(t=0;t<r.length;t++)if(this.sanitize(r[t])===r[t]){var b=c[t]||{};"title"in b||(b.title="".concat(p[t]||r[t])),this.option_keys.push("".concat(r[t])),this.option_enum.push(b),this.select_values["".concat(r[t])]=r[t]}}},{key:"build",value:function(){var t,e=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),!this.schema.format&&this.option_keys.length<8||this.schema.format==="checkbox"){for(this.input_type="checkboxes",this.inputs={},this.controls={},t=0;t<this.option_keys.length;t++){var r=this.formname+t.toString();this.inputs[this.option_keys[t]]=this.theme.getCheckbox(),this.inputs[this.option_keys[t]].id=r,this.select_options[this.option_keys[t]]=this.inputs[this.option_keys[t]];var c=this.theme.getCheckboxLabel(this.option_enum[t].title);if(c.htmlFor=r,this.option_enum[t].infoText){var p=this.theme.getInfoButton(this.translateProperty(this.option_enum[t].infoText));c.appendChild(p)}this.controls["_"+this.option_keys[t]]=this.theme.getFormControl(c,this.inputs[this.option_keys[t]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description,this.infoButton),this.inputs.controlgroup=this.inputs.controls=this.control}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys,!0),this.theme.setSelectOptions(this.input,this.option_keys,this.option_enum.map(function(b){return b.title})),this.input.setAttribute("multiple","multiple"),this.input.size=Math.min(10,this.option_keys.length),t=0;t<this.option_keys.length;t++)this.select_options[this.option_keys[t]]=this.input.children[t];this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton)}(this.schema.readOnly||this.schema.readonly)&&this.disable(!0),this.container.appendChild(this.control),this.multiselectChangeHandler=function(b){var k=[];for(t=0;t<e.option_keys.length;t++)e.select_options[e.option_keys[t]]&&(e.select_options[e.option_keys[t]].selected||e.select_options[e.option_keys[t]].checked)&&k.push(e.select_values[e.option_keys[t]]);e.updateValue(k),e.onChange(!0)},this.control.addEventListener("change",this.multiselectChangeHandler,!1),window.requestAnimationFrame(function(){e.afterInputReady()})}},{key:"postBuild",value:function(){Pt(Vt(l.prototype),"postBuild",this).call(this)}},{key:"afterInputReady",value:function(){this.theme.afterInputReady(this.input||this.inputs)}},{key:"setValue",value:function(t,e){var r=this;t=t||[],Array.isArray(t)||(t=[t]),t=t.map(function(c){return"".concat(c)}),Object.keys(this.select_options).forEach(function(c){r.select_options[c][r.input_type==="select"?"selected":"checked"]=t.includes(c)}),this.updateValue(t),this.onChange(!0)}},{key:"removeValue",value:function(t){t=[].concat(t),this.setValue(this.getValue().filter(function(e){return!t.includes(e)}))}},{key:"addValue",value:function(t){this.setValue(this.getValue().concat(t))}},{key:"updateValue",value:function(t){for(var e=!1,r=[],c=0;c<t.length;c++)if(this.select_options["".concat(t[c])]){var p=this.sanitize(this.select_values[t[c]]);r.push(p),p!==t[c]&&(e=!0)}else e=!0;return this.value=r,e}},{key:"sanitize",value:function(t){return this.schema.items.type==="boolean"?!!t:this.schema.items.type==="number"?1*t||0:this.schema.items.type==="integer"?Math.floor(1*t||0):"".concat(t)}},{key:"enable",value:function(){var t=this;this.always_disabled||(this.input?this.input.disabled=!1:this.inputs&&Object.keys(this.inputs).forEach(function(e){return t.inputs[e].disabled=!1}),Pt(Vt(l.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){var e=this;t&&(this.always_disabled=!0),this.input?this.input.disabled=!0:this.inputs&&Object.keys(this.inputs).forEach(function(r){return e.inputs[r].disabled=!0}),Pt(Vt(l.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){Pt(Vt(l.prototype),"destroy",this).call(this)}},{key:"escapeRegExp",value:function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"showValidationErrors",value:function(t){var e=new RegExp("^".concat(this.escapeRegExp(this.path),"(\\.\\d+)?$")),r=t.reduce(function(c,p){return p.path.match(e)&&c.push(p.message),c},[]);r.length?this.theme.addInputError(this.input||this.inputs,"".concat(r.join(". "),".")):this.theme.removeInputError(this.input||this.inputs)}}])&&En(n.prototype,s),l}(R);function me(o){return(me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Ue(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Le(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Jt(o,n,s){return(Jt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=q(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function qt(o,n){return(qt=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function ee(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=q(o);if(n){var l=q(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return ye(this,s)}}function ye(o,n){return!n||me(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function q(o){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var ot=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)})(l,o);var n,s,i=ee(l);function l(){return Ue(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e){this.choices_instance?(t=[].concat(t).map(function(r){return"".concat(r)}),this.updateValue(t),this.choices_instance.removeActiveItems(),this.choices_instance.setChoiceByValue(this.value),this.onChange(!0)):Jt(q(l.prototype),"setValue",this).call(this,t,e)}},{key:"afterInputReady",value:function(){var t=this;if(window.Choices&&!this.choices_instance){var e=this.expandCallbacks("choices",w({},{removeItems:!0,removeItemButton:!0},this.defaults.options.choices||{},this.options.choices||{},{addItems:!0,editItems:!1,duplicateItemsAllowed:!1}));this.newEnumAllowed=!1,this.choices_instance=new window.Choices(this.input,e),this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=function(r){var c=t.choices_instance.getValue(!0);t.updateValue(c),t.onChange(!0)},this.control.addEventListener("change",this.multiselectChangeHandler,!1)}Jt(q(l.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){t=[].concat(t);for(var e=!1,r=[],c=0;c<t.length;c++)if(!(!this.select_values["".concat(t[c])]&&(e=!0,!this.newEnumAllowed||!this.addNewOption(t[c])))){var p=this.sanitize(this.select_values[t[c]]);r.push(p),p!==t[c]&&(e=!0)}return this.value=r,e}},{key:"addNewOption",value:function(t){return this.option_keys.push("".concat(t)),this.option_titles.push("".concat(t)),this.select_values["".concat(t)]=t,this.schema.items.enum.push(t),this.choices_instance.setChoices([{value:"".concat(t),label:"".concat(t)}],"value","label",!1),!0}},{key:"enable",value:function(){!this.always_disabled&&this.choices_instance&&this.choices_instance.enable(),Jt(q(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.choices_instance&&this.choices_instance.disable(),Jt(q(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.choices_instance&&(this.choices_instance.destroy(),this.choices_instance=null),Jt(q(l.prototype),"destroy",this).call(this)}}])&&Le(n.prototype,s),l}(Wt);function ut(o){return(ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function $(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function tt(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function it(o,n,s){return(it=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=St(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function lt(o,n){return(lt=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function jt(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=St(o);if(n){var l=St(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return ge(this,s)}}function ge(o,n){return!n||ut(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function St(o){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Qt=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)})(l,o);var n,s,i=jt(l);function l(){return $(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e){this.select2_instance?(t=[].concat(t).map(function(r){return"".concat(r)}),this.updateValue(t),this.select2v4?this.select2_instance.val(this.value).change():this.select2_instance.select2("val",this.value),this.onChange(!0)):it(St(l.prototype),"setValue",this).call(this,t,e)}},{key:"afterInputReady",value:function(){var t,e=this;window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&!this.select2_instance&&(t=this.expandCallbacks("select2",w({},{tags:!0,width:"100%"},this.defaults.options.select2||{},this.options.select2||{})),this.newEnumAllowed=t.tags=!!t.tags&&this.schema.items&&this.schema.items.type==="string",this.select2_instance=window.jQuery(this.input).select2(t),this.select2v4=E(this.select2_instance.select2,"amd"),this.selectChangeHandler=function(){var r=e.select2v4?e.select2_instance.val():e.select2_instance.select2("val");e.updateValue(r),e.onChange(!0)},this.select2_instance.on("select2-blur",this.selectChangeHandler),this.select2_instance.on("change",this.selectChangeHandler)),it(St(l.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){t=[].concat(t);for(var e=!1,r=[],c=0;c<t.length;c++)if(!(!this.select_values["".concat(t[c])]&&(e=!0,!this.newEnumAllowed||!this.addNewOption(t[c])))){var p=this.sanitize(this.select_values[t[c]]);r.push(p),p!==t[c]&&(e=!0)}return this.value=r,e}},{key:"addNewOption",value:function(t){this.option_keys.push("".concat(t)),this.option_titles.push("".concat(t)),this.select_values["".concat(t)]=t,this.schema.items.enum.push(t);var e=this.input.querySelector('option[value="'.concat(t,'"]'));return e?e.removeAttribute("data-select2-tag"):this.input.appendChild(new Option(t,t,!1,!1)).trigger("change"),!0}},{key:"enable",value:function(){!this.always_disabled&&this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!1):this.select2_instance.select2("enable",!0)),it(St(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!0):this.select2_instance.select2("enable",!1)),it(St(l.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.select2_instance&&(this.select2_instance.select2("destroy"),this.select2_instance=null),it(St(l.prototype),"destroy",this).call(this)}}])&&tt(n.prototype,s),l}(Wt);function Ge(o){return(Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function ve(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function re(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Re(o,n,s){return(Re=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=be(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function xi(o,n){return(xi=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function rc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=be(o);if(n){var l=be(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return ic(this,s)}}function ic(o,n){return!n||Ge(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function be(o){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var oc=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xi(t,e)})(l,o);var n,s,i=rc(l);function l(){return ve(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e){this.selectize_instance?(t=[].concat(t).map(function(r){return"".concat(r)}),this.updateValue(t),this.selectize_instance.setValue(this.value),this.onChange(!0)):Re(be(l.prototype),"setValue",this).call(this,t,e)}},{key:"afterInputReady",value:function(){var t,e=this;window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&!this.selectize_instance&&(t=this.expandCallbacks("selectize",w({},{plugins:["remove_button"],delimiter:!1,createOnBlur:!0,create:!0},this.defaults.options.selectize||{},this.options.selectize||{})),this.newEnumAllowed=t.create=!!t.create&&this.schema.items&&this.schema.items.type==="string",this.selectize_instance=window.jQuery(this.input).selectize(t)[0].selectize,this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=function(r){var c=e.selectize_instance.getValue();e.updateValue(c),e.onChange(!0)},this.selectize_instance.on("change",this.multiselectChangeHandler)),Re(be(l.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){t=[].concat(t);for(var e=!1,r=[],c=0;c<t.length;c++)if(!(!this.select_values["".concat(t[c])]&&(e=!0,!this.newEnumAllowed||!this.addNewOption(t[c])))){var p=this.sanitize(this.select_values[t[c]]);r.push(p),p!==t[c]&&(e=!0)}return this.value=r,e}},{key:"addNewOption",value:function(t){return this.option_keys.push("".concat(t)),this.option_titles.push("".concat(t)),this.select_values["".concat(t)]=t,this.schema.items.enum.push(t),this.selectize_instance.addOption({text:t,value:t}),!0}},{key:"enable",value:function(){!this.always_disabled&&this.selectize_instance&&this.selectize_instance.unlock(),Re(be(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.selectize_instance&&this.selectize_instance.lock(),Re(be(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.selectize_instance&&(this.selectize_instance.destroy(),this.selectize_instance=null),Re(be(l.prototype),"destroy",this).call(this)}}])&&re(n.prototype,s),l}(Wt);function ji(o){return(ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function sc(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function ac(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Qn(o,n,s){return(Qn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=We(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Ci(o,n){return(Ci=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function cc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=We(o);if(n){var l=We(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return lc(this,s)}}function lc(o,n){return!n||ji(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function We(o){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var uc=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ci(t,e)})(l,o);var n,s,i=cc(l);function l(){return sc(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"postBuild",value:function(){window.Autocomplete&&(this.autocomplete_wrapper=document.createElement("div"),this.input.parentNode.insertBefore(this.autocomplete_wrapper,this.input.nextSibling),this.autocomplete_wrapper.appendChild(this.input),this.autocomplete_dropdown=document.createElement("ul"),this.input.parentNode.insertBefore(this.autocomplete_dropdown,this.input.nextSibling)),Qn(We(l.prototype),"postBuild",this).call(this)}},{key:"afterInputReady",value:function(){var t,e=this;window.Autocomplete&&!this.autocomplete_instance&&(t=this.expandCallbacks("autocomplete",w({},{search:function(r){return console.log('No "search" callback defined for autocomplete in property "'.concat(r.key,'"')),[]},onSubmit:function(){e.input.blur()},baseClass:"autocomplete"},this.defaults.options.autocomplete||{},this.options.autocomplete||{})),this.autocomplete_wrapper.classList.add(t.baseClass),this.autocomplete_dropdown.classList.add("".concat(t.baseClass,"-result-list")),this.autocomplete_instance=new window.Autocomplete(this.autocomplete_wrapper,t)),Qn(We(l.prototype),"afterInputReady",this).call(this)}},{key:"destroy",value:function(){this.autocomplete_instance&&(this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.autocomplete_dropdown&&this.autocomplete_dropdown.parentNode&&this.autocomplete_dropdown.parentNode.removeChild(this.autocomplete_dropdown),this.autocomplete_wrapper&&this.autocomplete_wrapper.parentNode&&this.autocomplete_wrapper.parentNode.removeChild(this.autocomplete_wrapper),this.autocomplete_instance=null),Qn(We(l.prototype),"destroy",this).call(this)}}])&&ac(n.prototype,s),l}(K);a(148);function Oi(o){return(Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function hc(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function dc(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Yn(o,n,s){return(Yn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Je(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Ei(o,n){return(Ei=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function pc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Je(o);if(n){var l=Je(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return fc(this,s)}}function fc(o,n){return!n||Oi(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Je(o){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var mc=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ei(t,e)})(l,o);var n,s,i=pc(l);function l(){return hc(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"getNumColumns",value:function(){return 4}},{key:"setFileReaderListener",value:function(t){var e=this;t.addEventListener("load",function(r){if(e.count===e.current_item_index)e.value[e.count][e.key]=r.target.result;else{var c={};for(var p in e.parent.schema.properties)c[p]="";c[e.key]=r.target.result,e.value.splice(e.count,0,c)}e.count+=1,e.count===e.total+e.current_item_index&&e.arrayEditor.setValue(e.value)})}},{key:"build",value:function(){var t=this;if(this.options.compact||(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw new Error("FileReader required for base64 editor");this.uploader=this.theme.getFormInputField("file"),this.schema.options&&this.schema.options.multiple&&this.schema.options.multiple===!0&&this.parent&&this.parent.schema.type==="object"&&this.parent.parent&&this.parent.parent.schema.type==="array"&&this.uploader.setAttribute("multiple",""),this.uploader.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),e.currentTarget.files&&e.currentTarget.files.length)if(e.currentTarget.files.length>1&&t.schema.options&&t.schema.options.multiple&&t.schema.options.multiple===!0&&t.parent&&t.parent.schema.type==="object"&&t.parent.parent&&t.parent.parent.schema.type==="array"){t.arrayEditor=t.jsoneditor.getEditor(t.parent.parent.path),t.value=t.arrayEditor.getValue(),t.total=e.currentTarget.files.length,t.current_item_index=parseInt(t.parent.key),t.count=t.current_item_index;for(var r=0;r<t.total;r++){var c=new FileReader;t.setFileReaderListener(c),c.readAsDataURL(e.currentTarget.files[r])}}else{var p=new FileReader;p.onload=function(b){t.value=b.target.result,t.refreshPreview(),t.onChange(!0),p=null},p.readAsDataURL(e.currentTarget.files[0])}})}this.preview=this.theme.getFormInputDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview,this.infoButton),this.container.appendChild(this.control)}},{key:"refreshPreview",value:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var t=this.value.match(/^data:([^;,]+)[;,]/);if(t&&(t=t[1]),t){if(this.preview.innerHTML="<strong>Type:</strong> ".concat(t,", <strong>Size:</strong> ").concat(Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)," bytes"),t.substr(0,5)==="image"){this.preview.innerHTML+="<br>";var e=document.createElement("img");e.style.maxWidth="100%",e.style.maxHeight="100px",e.src=this.value,this.preview.appendChild(e)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}}},{key:"enable",value:function(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),Yn(Je(l.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),Yn(Je(l.prototype),"disable",this).call(this)}},{key:"setValue",value:function(t){this.value!==t&&(this.schema.readOnly&&this.schema.enum&&!this.schema.enum.includes(t)?this.value=this.schema.enum[0]:this.value=t,this.input.value=this.value,this.refreshPreview(),this.onChange())}},{key:"destroy",value:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),Yn(Je(l.prototype),"destroy",this).call(this)}}])&&dc(n.prototype,s),l}(R);function Si(o){return(Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function yc(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Zn(o,n,s){return(Zn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Qe(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Pi(o,n){return(Pi=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function gc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Qe(o);if(n){var l=Qe(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return vc(this,s)}}function vc(o,n){return!n||Si(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Qe(o){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Ti=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pi(t,e)})(l,o);var n,s,i=gc(l);function l(t,e){var r;return function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),(r=i.call(this,t,e)).active=!1,r.parent&&r.parent.schema&&(Array.isArray(r.parent.schema.required)?r.parent.schema.required.includes(r.key)||r.parent.schema.required.push(r.key):r.parent.schema.required=[r.key]),r}return n=l,(s=[{key:"build",value:function(){var t=this;this.options.compact=!0;var e=this.translateProperty(this.schema.title)||this.key,r=this.expandCallbacks("button",w({},{icon:"",validated:!1,align:"left",action:function(c,p){window.alert('No button action defined for "'.concat(c.path,'"'))}},this.defaults.options.button||{},this.options.button||{}));this.input=this.getButton(e,r.icon,e),this.input.addEventListener("click",r.action,!1),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.disable(!0),this.input.setAttribute("readonly","true")),this.setInputAttributes(["readonly"]),this.control=this.theme.getFormButtonHolder(r.align),this.control.appendChild(this.input),this.container.appendChild(this.control),this.changeHandler=function(){t.jsoneditor.validate(t.jsoneditor.getValue()).length>0?t.disable():t.enable()},r.validated&&this.jsoneditor.on("change",this.changeHandler)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,Zn(Qe(l.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.input.disabled=!0,Zn(Qe(l.prototype),"disable",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"activate",value:function(){this.active=!1,this.enable()}},{key:"deactivate",value:function(){this.isRequired()||(this.active=!1,this.disable())}},{key:"destroy",value:function(){this.jsoneditor.off("change",this.changeHandler),this.changeHandler=null,Zn(Qe(l.prototype),"destroy",this).call(this)}}])&&yc(n.prototype,s),l}(R);function Li(o){return(Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function bc(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function _c(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function vn(o,n,s){return(vn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=_e(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Ri(o,n){return(Ri=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function wc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=_e(o);if(n){var l=_e(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return kc(this,s)}}function kc(o,n){return!n||Li(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function _e(o){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var xc=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ri(t,e)})(l,o);var n,s,i=wc(l);function l(){return bc(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e){t=!!t;var r=this.getValue()!==t;this.value=t,this.input.checked=this.value,this.onChange(r)}},{key:"register",value:function(){vn(_e(l.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){vn(_e(l.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))}},{key:"build",value:function(){var t=this;this.parent.options.table_row||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle(),this.isRequired()),this.label.htmlFor=this.formname),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&!this.options.compact&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getCheckbox(),this.input.id=this.formname,this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),this.input.disabled=!0),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),t.value=e.currentTarget.checked,t.onChange(!0)}),this.container.appendChild(this.control)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,vn(_e(l.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.input.disabled=!0,vn(_e(l.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),vn(_e(l.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(t){var e=this;this.previous_error_setting=this.jsoneditor.options.show_errors;var r=t.reduce(function(c,p){return p.path===e.path&&c.push(p.message),c},[]);this.input.controlgroup=this.control,r.length?this.theme.addInputError(this.input,"".concat(r.join(". "),".")):this.theme.removeInputError(this.input)}}])&&_c(n.prototype,s),l}(R);a(73),a(149);function Ai(o){return(Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function jc(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Cc(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Ye(o,n,s){return(Ye=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=ie(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Ii(o,n){return(Ii=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Oc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=ie(o);if(n){var l=ie(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Ec(this,s)}}function Ec(o,n){return!n||Ai(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function ie(o){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Sn=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ii(t,e)})(l,o);var n,s,i=Oc(l);function l(){return jc(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e){var r=this.typecast(t),c=!!this.jsoneditor.options.use_default_values||this.schema.default!==void 0;(this.enum_options.length>0&&!this.enum_values.includes(r)||e&&!this.isRequired()&&!c)&&(r=this.enum_values[0]),this.value!==r&&(e?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.input.value=this.enum_options[this.enum_values.indexOf(r)],this.value=r,this.onChange(),this.change())}},{key:"register",value:function(){Ye(ie(l.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){Ye(ie(l.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){if(!this.enum_options)return 3;for(var t=this.getTitle().length,e=0;e<this.enum_options.length;e++)t=Math.max(t,this.enum_options[e].length+4);return Math.min(12,Math.max(t/7,2))}},{key:"typecast",value:function(t){return this.schema.type==="boolean"?t==="undefined"||t===void 0?void 0:!!t:this.schema.type==="number"?1*t||0:this.schema.type==="integer"?Math.floor(1*t||0):this.schema.enum&&t===void 0?void 0:"".concat(t)}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.typecast(this.value)}},{key:"preBuild",value:function(){var t,e,r=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var c=this.schema.options&&this.schema.options.enum_titles||[];this.schema.enum.forEach(function(p,b){r.enum_options[b]="".concat(p),r.enum_display[b]="".concat(r.translateProperty(c[b])||p),r.enum_values[b]=r.typecast(p)}),this.isRequired()||(this.enum_display.unshift(" "),this.enum_options.unshift("undefined"),this.enum_values.unshift(void 0))}else if(this.schema.type==="boolean")this.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],this.enum_options=["1",""],this.enum_values=[!0,!1],this.isRequired()||(this.enum_display.unshift(" "),this.enum_options.unshift("undefined"),this.enum_values.unshift(void 0));else{if(!this.schema.enumSource)throw new Error("'select' editor requires the enum property to be set.");if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(t=0;t<this.schema.enumSource.length;t++)typeof this.schema.enumSource[t]=="string"?this.enumSource[t]={source:this.schema.enumSource[t]}:Array.isArray(this.schema.enumSource[t])?this.enumSource[t]=this.schema.enumSource[t]:this.enumSource[t]=w({},this.schema.enumSource[t]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(t=0;t<this.enumSource.length;t++)this.enumSource[t].value&&(typeof(e=this.expandCallbacks("template",{template:this.enumSource[t].value})).template=="function"?this.enumSource[t].value=e.template:this.enumSource[t].value=this.jsoneditor.compileTemplate(this.enumSource[t].value,this.template_engine)),this.enumSource[t].title&&(typeof(e=this.expandCallbacks("template",{template:this.enumSource[t].title})).template=="function"?this.enumSource[t].title=e.template:this.enumSource[t].title=this.jsoneditor.compileTemplate(this.enumSource[t].title,this.template_engine)),this.enumSource[t].filter&&this.enumSource[t].value&&(typeof(e=this.expandCallbacks("template",{template:this.enumSource[t].filter})).template=="function"?this.enumSource[t].filter=e.template:this.enumSource[t].filter=this.jsoneditor.compileTemplate(this.enumSource[t].filter,this.template_engine))}}},{key:"build",value:function(){var t=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getSelectInput(this.enum_options,!1),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),this.input.disabled=!0),this.setInputAttributes([]),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),t.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0],window.requestAnimationFrame(function(){t.input.parentNode&&t.afterInputReady()})}},{key:"afterInputReady",value:function(){this.theme.afterInputReady(this.input)}},{key:"onInputChange",value:function(){var t,e=this.typecast(this.input.value);(t=this.enum_values.includes(e)?this.enum_values[this.enum_values.indexOf(e)]:this.enum_values[0])!==this.value&&(this.is_dirty=!0,this.value=t,this.onChange(!0))}},{key:"onWatchedFieldChange",value:function(){var t,e,r=[],c=[];if(this.enumSource){t=this.getWatchedFieldValues();for(var p=0;p<this.enumSource.length;p++)if(Array.isArray(this.enumSource[p]))r=r.concat(this.enumSource[p]),c=c.concat(this.enumSource[p]);else{var b=[];if(b=Array.isArray(this.enumSource[p].source)?this.enumSource[p].source:t[this.enumSource[p].source]){if(this.enumSource[p].slice&&(b=Array.prototype.slice.apply(b,this.enumSource[p].slice)),this.enumSource[p].filter){var k=[];for(e=0;e<b.length;e++)this.enumSource[p].filter({i:e,item:b[e],watched:t})&&k.push(b[e]);b=k}var P=[],N=[];for(e=0;e<b.length;e++){var z=b[e];this.enumSource[p].value?N[e]=this.typecast(this.enumSource[p].value({i:e,item:z})):N[e]=b[e],this.enumSource[p].title?P[e]=this.enumSource[p].title({i:e,item:z}):P[e]=N[e]}this.enumSource[p].sort&&function(at,pt,Ct){at.map(function(ht,Tt){return{v:ht,t:pt[Tt]}}).sort(function(ht,Tt){return ht.v<Tt.v?-Ct:ht.v===Tt.v?0:Ct}).forEach(function(ht,Tt){at[Tt]=ht.v,pt[Tt]=ht.t})}.bind(null,N,P,this.enumSource[p].sort==="desc"?1:-1)(),r=r.concat(N),c=c.concat(P)}}var U=this.value;this.theme.setSelectOptions(this.input,r,c),this.enum_options=r,this.enum_display=c,this.enum_values=r,r.includes(U)||this.jsoneditor.options.enum_source_value_auto_select!==!1?(this.input.value=U,this.value=U):(this.input.value=r[0],this.value=this.typecast(r[0]||""),this.parent&&!this.watchLoop?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path))}Ye(ie(l.prototype),"onWatchedFieldChange",this).call(this)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,Ye(ie(l.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.input.disabled=!0,Ye(ie(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),Ye(ie(l.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(t){var e=this;this.previous_error_setting=this.jsoneditor.options.show_errors;var r=t.reduce(function(c,p){return p.path===e.path&&c.push(p.message),c},[]);r.length?this.theme.addInputError(this.input,"".concat(r.join(". "),".")):this.theme.removeInputError(this.input)}}])&&Cc(n.prototype,s),l}(R);function Bi(o){return(Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Sc(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Pc(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Ze(o,n,s){return(Ze=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=oe(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Ni(o,n){return(Ni=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Tc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=oe(o);if(n){var l=oe(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Lc(this,s)}}function Lc(o,n){return!n||Bi(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function oe(o){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Fi=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ni(t,e)})(l,o);var n,s,i=Tc(l);function l(){return Sc(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e){if(this.choices_instance){var r=this.typecast(t||"");if(this.enum_values.includes(r)||(r=this.enum_values[0]),this.value===r)return;e?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.input.value=this.enum_options[this.enum_values.indexOf(r)],this.choices_instance.setChoiceByValue(this.input.value),this.value=r,this.onChange()}else Ze(oe(l.prototype),"setValue",this).call(this,t,e)}},{key:"afterInputReady",value:function(){if(window.Choices&&!this.choices_instance){var t=this.expandCallbacks("choices",w({},this.defaults.options.choices||{},this.options.choices||{}));this.choices_instance=new window.Choices(this.input,t)}Ze(oe(l.prototype),"afterInputReady",this).call(this)}},{key:"onWatchedFieldChange",value:function(){var t=this;if(Ze(oe(l.prototype),"onWatchedFieldChange",this).call(this),this.choices_instance){var e=this.enum_options.map(function(r,c){return{value:r,label:t.enum_display[c]}});this.choices_instance.setChoices(e,"value","label",!0),this.choices_instance.setChoiceByValue("".concat(this.value))}}},{key:"enable",value:function(){!this.always_disabled&&this.choices_instance&&this.choices_instance.enable(),Ze(oe(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.choices_instance&&this.choices_instance.disable(),Ze(oe(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.choices_instance&&(this.choices_instance.destroy(),this.choices_instance=null),Ze(oe(l.prototype),"destroy",this).call(this)}}])&&Pc(n.prototype,s),l}(Sn);function wr(o){return(wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Rc(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Ac(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Xn(o,n,s){return(Xn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Xe(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Di(o,n){return(Di=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Ic(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Xe(o);if(n){var l=Xe(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Bc(this,s)}}function Bc(o,n){return!n||wr(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Xe(o){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}Fi.rules={".choices > *":"box-sizing:border-box"};var Nc=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Di(t,e)})(l,o);var n,s,i=Ic(l);function l(){return Rc(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"build",value:function(){if(Xn(Xe(l.prototype),"build",this).call(this),this.input&&(this.schema.max&&typeof this.schema.max=="string"&&this.input.setAttribute("max",this.schema.max),this.schema.min&&typeof this.schema.max=="string"&&this.input.setAttribute("min",this.schema.min),window.flatpickr&&wr(this.options.flatpickr)==="object")){this.options.flatpickr.enableTime=this.schema.format!=="date",this.options.flatpickr.noCalendar=this.schema.format==="time",this.schema.type==="integer"&&(this.options.flatpickr.mode="single"),this.input.setAttribute("data-input","");var t=this.input;if(this.options.flatpickr.wrap===!0){var e=[];if(this.options.flatpickr.showToggleButton!==!1){var r=this.getButton("",this.schema.format==="time"?"time":"calendar","flatpickr_toggle_button");r.setAttribute("data-toggle",""),e.push(r)}if(this.options.flatpickr.showClearButton!==!1){var c=this.getButton("","clear","flatpickr_clear_button");c.setAttribute("data-clear",""),e.push(c)}var p=this.input.parentNode,b=this.input.nextSibling,k=this.theme.getInputGroup(this.input,e);k!==void 0?(this.options.flatpickr.inline=!1,p.insertBefore(k,b),t=k):this.options.flatpickr.wrap=!1}this.flatpickr=window.flatpickr(t,this.options.flatpickr),this.options.flatpickr.inline===!0&&this.options.flatpickr.inlineHideInput===!0&&this.input.setAttribute("type","hidden")}}},{key:"getValue",value:function(){if(this.dependenciesFulfilled){if(this.schema.type==="string")return this.value;if(this.value!==""&&this.value!==void 0){var t=this.schema.format==="time"?"1970-01-01 ".concat(this.value):this.value;return parseInt(new Date(t).getTime()/1e3)}}}},{key:"setValue",value:function(t,e,r){if(this.schema.type==="string")Xn(Xe(l.prototype),"setValue",this).call(this,t,e,r),this.flatpickr&&this.flatpickr.setDate(t);else if(t>0){var c=new Date(1e3*t),p=c.getFullYear(),b=this.zeroPad(c.getMonth()+1),k=this.zeroPad(c.getDate()),P=this.zeroPad(c.getHours()),N=this.zeroPad(c.getMinutes()),z=this.zeroPad(c.getSeconds()),U=[p,b,k].join("-"),at=[P,N,z].join(":"),pt="".concat(U,"T").concat(at);this.schema.format==="date"?pt=U:this.schema.format==="time"&&(pt=at),this.input.value=pt,this.refreshValue(),this.flatpickr&&this.flatpickr.setDate(pt)}}},{key:"destroy",value:function(){this.flatpickr&&this.flatpickr.destroy(),this.flatpickr=null,Xn(Xe(l.prototype),"destroy",this).call(this)}},{key:"zeroPad",value:function(t){return"0".concat(t).slice(-2)}}])&&Ac(n.prototype,s),l}(K);function Mi(o){return(Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Fc(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Dc(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Ke(o,n,s){return(Ke=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=se(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Vi(o,n){return(Vi=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Mc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=se(o);if(n){var l=se(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Vc(this,s)}}function Vc(o,n){return!n||Mi(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function se(o){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Hc=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vi(t,e)})(l,o);var n,s,i=Mc(l);function l(){return Fc(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"register",value:function(){if(this.editors){for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister();this.editors[this.currentEditor]&&this.editors[this.currentEditor].register()}Ke(se(l.prototype),"register",this).call(this)}},{key:"unregister",value:function(){if(Ke(se(l.prototype),"unregister",this).call(this),this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister()}},{key:"getNumColumns",value:function(){return this.editors[this.currentEditor]?Math.max(this.editors[this.currentEditor].getNumColumns(),4):4}},{key:"enable",value:function(){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].enable();Ke(se(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].disable();Ke(se(l.prototype),"disable",this).call(this)}},{key:"switchEditor",value:function(){var t=this,e=this.getWatchedFieldValues();if(e){var r=document.location.origin+document.location.pathname+this.template(e);this.editors[this.refs[r]]||this.buildChildEditor(r),this.currentEditor=this.refs[r],this.register(),this.editors.forEach(function(c,p){c&&(t.currentEditor===p?c.container.style.display="":c.container.style.display="none")}),this.refreshValue(),this.onChange(!0)}}},{key:"buildChildEditor",value:function(t){this.refs[t]=this.editors.length;var e=this.theme.getChildEditorHolder();this.editor_holder.appendChild(e);var r=w({},this.schema,this.jsoneditor.refs[t]),c=this.jsoneditor.getEditorClass(r,this.jsoneditor),p=this.jsoneditor.createEditor(c,{jsoneditor:this.jsoneditor,schema:r,container:e,path:this.path,parent:this,required:!0});this.editors.push(p),p.preBuild(),p.build(),p.postBuild()}},{key:"preBuild",value:function(){var t;for(this.refs={},this.editors=[],this.currentEditor="",t=0;t<this.schema.links.length;t++)if(this.schema.links[t].rel.toLowerCase()==="describedby"){this.template=this.jsoneditor.compileTemplate(this.schema.links[t].href,this.template_engine);break}this.schema.links=this.schema.links.slice(0,t).concat(this.schema.links.slice(t+1)),this.schema.links.length===0&&delete this.schema.links,this.baseSchema=w({},this.schema)}},{key:"build",value:function(){this.editor_holder=document.createElement("div"),this.container.appendChild(this.editor_holder),this.switchEditor()}},{key:"onWatchedFieldChange",value:function(){this.switchEditor()}},{key:"onChildEditorChange",value:function(t){this.editors[this.currentEditor]&&this.refreshValue(),Ke(se(l.prototype),"onChildEditorChange",this).call(this,t)}},{key:"refreshValue",value:function(){this.editors[this.currentEditor]&&(this.value=this.editors[this.currentEditor].getValue())}},{key:"setValue",value:function(t,e){this.editors[this.currentEditor]&&(this.editors[this.currentEditor].setValue(t,e),this.refreshValue(),this.onChange())}},{key:"destroy",value:function(){this.editors.forEach(function(t){t&&t.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),Ke(se(l.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(t){this.editors.forEach(function(e){e&&e.showValidationErrors(t)})}}])&&Dc(n.prototype,s),l}(R);function kr(o){return(kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function zc(o,n){return function(s){if(Array.isArray(s))return s}(o)||function(s,i){var l=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(l!=null){var t,e,r=[],c=!0,p=!1;try{for(l=l.call(s);!(c=(t=l.next()).done)&&(r.push(t.value),!i||r.length!==i);c=!0);}catch(b){p=!0,e=b}finally{try{c||l.return==null||l.return()}finally{if(p)throw e}}return r}}(o,n)||function(s,i){if(s){if(typeof s=="string")return Hi(s,i);var l=Object.prototype.toString.call(s).slice(8,-1);if(l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set")return Array.from(s);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Hi(s,i)}}(o,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hi(o,n){(n==null||n>o.length)&&(n=o.length);for(var s=0,i=new Array(n);s<n;s++)i[s]=o[s];return i}function $c(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function qc(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Kn(o,n,s){return(Kn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=tn(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function zi(o,n){return(zi=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Uc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=tn(o);if(n){var l=tn(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Gc(this,s)}}function Gc(o,n){return!n||kr(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function tn(o){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Wc=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zi(t,e)})(l,o);var n,s,i=Uc(l);function l(){return $c(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"getNumColumns",value:function(){return 4}},{key:"build",value:function(){var t=this;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var e=0;e<this.enum.length;e++)this.select_options[e]=this.options.enum_titles[e]||"Value ".concat(e+1),this.html_values[e]=this.getHTML(this.enum[e]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.display_area=this.theme.getIndentedPanel(),this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",function(r){t.selected=t.select_options.indexOf(r.currentTarget.value),t.value=t.enum[t.selected],t.refreshValue(),t.onChange(!0)}),this.value=this.enum[0],this.refreshValue(),this.enum.length===1&&(this.switcher.style.display="none")}},{key:"refreshValue",value:function(){var t=this;this.selected=-1;var e=JSON.stringify(this.value);this.enum.forEach(function(r,c){if(e===JSON.stringify(r))return t.selected=c,!1}),this.selected<0?this.setValue(this.enum[0]):(this.switcher.value=this.select_options[this.selected],this.display_area.innerHTML=this.html_values[this.selected])}},{key:"enable",value:function(){this.always_disabled||(this.switcher.disabled=!1,Kn(tn(l.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.switcher.disabled=!0,Kn(tn(l.prototype),"disable",this).call(this)}},{key:"getHTML",value:function(t){var e=this;if(t===null)return"<em>null</em>";if(kr(t)==="object"){var r="";return function(c,p){Array.isArray(c)||typeof c.length=="number"&&c.length>0&&c.length-1 in c?Array.from(c).forEach(function(b,k){return p(k,b)}):Object.entries(c).forEach(function(b){var k=zc(b,2),P=k[0],N=k[1];return p(P,N)})}(t,function(c,p){var b=e.getHTML(p);Array.isArray(t)||(b="<div><em>".concat(c,"</em>: ").concat(b,"</div>")),r+="<li>".concat(b,"</li>")}),r=Array.isArray(t)?"<ol>".concat(r,"</ol>"):"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>".concat(r,"</ul>")}return typeof t=="boolean"?t?"true":"false":typeof t=="string"?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}},{key:"setValue",value:function(t){this.value!==t&&(this.value=t,this.refreshValue(),this.onChange())}},{key:"destroy",value:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),Kn(tn(l.prototype),"destroy",this).call(this)}}])&&qc(n.prototype,s),l}(R);function xr(o){return(xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Jc(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Qc(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function en(o,n,s){return(en=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=ae(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function $i(o,n){return($i=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Yc(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=ae(o);if(n){var l=ae(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Zc(this,s)}}function Zc(o,n){return!n||xr(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function ae(o){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Xc=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$i(t,e)})(l,o);var n,s,i=Yc(l);function l(){return Jc(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"register",value:function(){en(ae(l.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){en(ae(l.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"setValue",value:function(t,e,r){if((!this.template||r)&&(t==null?t="":xr(t)==="object"?t=JSON.stringify(t):typeof t!="string"&&(t="".concat(t)),t!==this.serialized)){var c=this.sanitize(t);if(this.input.value!==c){this.input.value=c;var p=r||this.getValue()!==t;this.refreshValue(),e?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(p)}}}},{key:"getNumColumns",value:function(){return 2}},{key:"enable",value:function(){en(ae(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(){en(ae(l.prototype),"disable",this).call(this)}},{key:"refreshValue",value:function(){this.value=this.input.value,typeof this.value!="string"&&(this.value=""),this.serialized=this.value}},{key:"destroy",value:function(){this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),en(ae(l.prototype),"destroy",this).call(this)}},{key:"sanitize",value:function(t){return t}},{key:"onWatchedFieldChange",value:function(){var t;this.template&&(t=this.getWatchedFieldValues(),this.setValue(this.template(t),!1,!0)),en(ae(l.prototype),"onWatchedFieldChange",this).call(this)}},{key:"build",value:function(){if(this.format=this.schema.format,!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.input_type="hidden",this.input=this.theme.getFormInputField(this.input_type),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.container.appendChild(this.input),this.schema.template){var t=this.expandCallbacks("template",{template:this.schema.template});typeof t.template=="function"?this.template=t.template:this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()}else this.refreshValue()}}])&&Qc(n.prototype,s),l}(R);function qi(o){return(qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Kc(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function tl(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Ui(o,n){return(Ui=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function el(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=jr(o);if(n){var l=jr(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return nl(this,s)}}function nl(o,n){return!n||qi(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function jr(o){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var rl=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ui(t,e)})(l,o);var n,s,i=el(l);function l(){return Kc(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"build",value:function(){this.options.compact=!1,this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.description=this.theme.getDescription(this.schema.description||""),this.control=this.theme.getFormControl(this.label,this.description,null),this.container.appendChild(this.control)}},{key:"getTitle",value:function(){return this.translateProperty(this.schema.title)}},{key:"getNumColumns",value:function(){return 12}}])&&tl(n.prototype,s),l}(Ti);function Gi(o){return(Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function il(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function ol(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Wi(o,n,s){return(Wi=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Pn(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Ji(o,n){return(Ji=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function sl(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Pn(o);if(n){var l=Pn(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return al(this,s)}}function al(o,n){return!n||Gi(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Pn(o){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Qi=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ji(t,e)})(l,o);var n,s,i=sl(l);function l(){return il(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"build",value:function(){if(Wi(Pn(l.prototype),"build",this).call(this),this.schema.minimum!==void 0){var t=this.schema.minimum;this.schema.exclusiveMinimum!==void 0&&(t+=1),this.input.setAttribute("min",t)}if(this.schema.maximum!==void 0){var e=this.schema.maximum;this.schema.exclusiveMaximum!==void 0&&(e-=1),this.input.setAttribute("max",e)}if(this.schema.step!==void 0){var r=this.schema.step||1;this.input.setAttribute("step",r)}this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"])}},{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){if(this.dependenciesFulfilled){var t=function(e){if(e==null)return!1;var r=e.match(T),c=parseFloat(e);return r!==null&&!isNaN(c)&&isFinite(c)}(this.value)?parseFloat(this.value):this.value;if(this.jsoneditor.options.use_default_values||t!=="")return t}}}])&&ol(n.prototype,s),l}(K);function Yi(o){return(Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function cl(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function ll(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Zi(o,n){return(Zi=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function ul(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Cr(o);if(n){var l=Cr(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return hl(this,s)}}function hl(o,n){return!n||Yi(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Cr(o){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Xi=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zi(t,e)})(l,o);var n,s,i=ul(l);function l(){return cl(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){if(this.dependenciesFulfilled){var t=function(e){if(e==null)return!1;var r=e.match(L),c=parseInt(e);return r!==null&&!isNaN(c)&&isFinite(c)}(this.value)?parseInt(this.value):this.value;if(this.jsoneditor.options.use_default_values||t!=="")return t}}}])&&ll(n.prototype,s),l}(Qi);function Ki(o){return(Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function dl(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function pl(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function to(o,n,s){return(to=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Tn(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function eo(o,n){return(eo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function fl(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Tn(o);if(n){var l=Tn(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return ml(this,s)}}function ml(o,n){return!n||Ki(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Tn(o){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var yl=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eo(t,e)})(l,o);var n,s,i=fl(l);function l(){return dl(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"preBuild",value:function(){if(to(Tn(l.prototype),"preBuild",this).call(this),this.schema.options||(this.schema.options={}),!this.schema.options.cleave)switch(this.format){case"ipv6":this.schema.options.cleave={delimiters:[":"],blocks:[4,4,4,4,4,4,4,4],uppercase:!0};break;case"ipv4":this.schema.options.cleave={delimiters:["."],blocks:[3,3,3,3],numericOnly:!0}}this.options=w(this.options,this.schema.options||{})}}])&&pl(n.prototype,s),l}(K);function no(o){return(no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function gl(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function vl(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function nn(o,n,s){return(nn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=ce(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function ro(o,n){return(ro=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function bl(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=ce(o);if(n){var l=ce(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return _l(this,s)}}function _l(o,n){return!n||no(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function ce(o){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var wl=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ro(t,e)})(l,o);var n,s,i=bl(l);function l(){return gl(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e,r){var c=nn(ce(l.prototype),"setValue",this).call(this,t,e,r);c!==void 0&&c.changed&&this.jodit_instance&&this.jodit_instance.setEditorValue(c.value)}},{key:"build",value:function(){this.options.format="textarea",nn(ce(l.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var t,e=this;window.Jodit?(t=this.expandCallbacks("jodit",w({},{height:300},this.defaults.options.jodit||{},this.options.jodit||{})),this.jodit_instance=new window.Jodit(this.input,t),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&this.jodit_instance.setReadOnly(!0),this.jodit_instance.events.on("change",function(){e.value=e.jodit_instance.getEditorValue(),e.is_dirty=!0,e.onChange(!0)}),this.theme.afterInputReady(this.input)):nn(ce(l.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.jodit_instance&&this.jodit_instance.setReadOnly(!1),nn(ce(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.jodit_instance&&this.jodit_instance.setReadOnly(!0),nn(ce(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.jodit_instance&&(this.jodit_instance.destruct(),this.jodit_instance=null),nn(ce(l.prototype),"destroy",this).call(this)}}])&&vl(n.prototype,s),l}(K);a(178),a(150),a(151);function kl(o,n,s,i){try{switch(o.format){case"ipv4":(function(l){var t=l.split(".");if(t.length!==4)throw new Error("error_ipv4");t.forEach(function(e){if(isNaN(+e)||+e<0||+e>255)throw new Error("error_ipv4")})})(n);break;case"ipv6":(function(l){if(!l.match("^(?:(?:(?:[a-fA-F0-9]{1,4}:){6}|(?=(?:[a-fA-F0-9]{0,4}:){2,6}(?:[0-9]{1,3}.){3}[0-9]{1,3}$)(([0-9a-fA-F]{1,4}:){1,5}|:)((:[0-9a-fA-F]{1,4}){1,5}:|:)|::(?:[a-fA-F0-9]{1,4}:){5})(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9]).){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])|(?:[a-fA-F0-9]{1,4}:){7}[a-fA-F0-9]{1,4}|(?=(?:[a-fA-F0-9]{0,4}:){0,7}[a-fA-F0-9]{0,4}$)(([0-9a-fA-F]{1,4}:){1,7}|:)((:[0-9a-fA-F]{1,4}){1,7}|:)|(?:[a-fA-F0-9]{1,4}:){7}:|:(:[a-fA-F0-9]{1,4}){7})$"))throw new Error("error_ipv6")})(n);break;case"hostname":(function(l){if(!l.match("(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9].)+[a-zA-Z]{2,63}$)"))throw new Error("error_hostname")})(n)}return[]}catch(l){return[{path:s,property:"format",message:i(l.message)}]}}function xl(o,n){var s=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!s){if(Array.isArray(o)||(s=Or(o))||n&&o&&typeof o.length=="number"){s&&(o=s);var i=0,l=function(){};return{s:l,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(c){throw c},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,e=!0,r=!1;return{s:function(){s=s.call(o)},n:function(){var c=s.next();return e=c.done,c},e:function(c){r=!0,t=c},f:function(){try{e||s.return==null||s.return()}finally{if(r)throw t}}}}function io(o,n){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable})),s.push.apply(s,i)}return s}function jl(o){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?io(Object(s),!0).forEach(function(i){Cl(o,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):io(Object(s)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(s,i))})}return o}function Cl(o,n,s){return n in o?Object.defineProperty(o,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[n]=s,o}function Ln(o,n){return function(s){if(Array.isArray(s))return s}(o)||function(s,i){var l=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(l!=null){var t,e,r=[],c=!0,p=!1;try{for(l=l.call(s);!(c=(t=l.next()).done)&&(r.push(t.value),!i||r.length!==i);c=!0);}catch(b){p=!0,e=b}finally{try{c||l.return==null||l.return()}finally{if(p)throw e}}return r}}(o,n)||Or(o,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ot(o){return function(n){if(Array.isArray(n))return Er(n)}(o)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(o)||Or(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Or(o,n){if(o){if(typeof o=="string")return Er(o,n);var s=Object.prototype.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Er(o,n):void 0}}function Er(o,n){(n==null||n>o.length)&&(n=o.length);for(var s=0,i=new Array(n);s<n;s++)i[s]=o[s];return i}function Ae(o){return(Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Ol(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}var oo=function(){function o(i,l,t,e){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.jsoneditor=i,this.schema=l||this.jsoneditor.schema,this.options=t||{},this.translate=this.jsoneditor.translate||e.translate,this.translateProperty=this.jsoneditor.translateProperty||e.translateProperty,this.defaults=e,this._validateSubSchema={const:function(r,c,p){return JSON.stringify(r.const)===JSON.stringify(c)&&!(Array.isArray(c)||Ae(c)==="object")?[]:[{path:p,property:"const",message:this.translate("error_const",null,r)}]},enum:function(r,c,p){var b=JSON.stringify(c);return r.enum.some(function(k){return b===JSON.stringify(k)})?[]:[{path:p,property:"enum",message:this.translate("error_enum",null,r)}]},extends:function(r,c,p){var b=this;return r.extends.reduce(function(k,P){return k.push.apply(k,Ot(b._validateSchema(P,c,p))),k},[])},allOf:function(r,c,p){var b=this;return r.allOf.reduce(function(k,P){return k.push.apply(k,Ot(b._validateSchema(P,c,p))),k},[])},anyOf:function(r,c,p){var b=this;return r.anyOf.some(function(k){return!b._validateSchema(k,c,p).length})?[]:[{path:p,property:"anyOf",message:this.translate("error_anyOf",null,r)}]},oneOf:function(r,c,p){var b=this,k=0,P=[];r.oneOf.forEach(function(z,U){var at=b._validateSchema(z,c,p);at.length||k++,at.forEach(function(pt){pt.path="".concat(p,".oneOf[").concat(U,"]").concat(pt.path.substr(p.length))}),P.push.apply(P,Ot(at))});var N=[];return k!==1&&(N.push({path:p,property:"oneOf",message:this.translate("error_oneOf",[k],r)}),N.push.apply(N,P)),N},not:function(r,c,p){return this._validateSchema(r.not,c,p).length?[]:[{path:p,property:"not",message:this.translate("error_not",null,r)}]},type:function(r,c,p){var b=this;if(Array.isArray(r.type)){if(!r.type.some(function(k){return b._checkType(k,c)}))return[{path:p,property:"type",message:this.translate("error_type_union",null,r)}]}else if(["date","time","datetime-local"].includes(r.format)&&r.type==="integer"){if(!this._checkType("string","".concat(c)))return[{path:p,property:"type",message:this.translate("error_type",[r.format],r)}]}else if(!this._checkType(r.type,c))return[{path:p,property:"type",message:this.translate("error_type",[r.type],r)}];return[]},disallow:function(r,c,p){var b=this;if(Array.isArray(r.disallow)){if(r.disallow.some(function(k){return b._checkType(k,c)}))return[{path:p,property:"disallow",message:this.translate("error_disallow_union",null,r)}]}else if(this._checkType(r.disallow,c))return[{path:p,property:"disallow",message:this.translate("error_disallow",[r.disallow],r)}];return[]}},this._validateNumberSubSchema={multipleOf:function(r,c,p){return this._validateNumberSubSchemaMultipleDivisible(r,c,p)},divisibleBy:function(r,c,p){return this._validateNumberSubSchemaMultipleDivisible(r,c,p)},maximum:function(r,c,p){var b=r.exclusiveMaximum?c<r.maximum:c<=r.maximum;return window.math?b=window.math[r.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(c),window.math.bignumber(r.maximum)):window.Decimal&&(b=new window.Decimal(c)[r.exclusiveMaximum?"lt":"lte"](new window.Decimal(r.maximum))),b?[]:[{path:p,property:"maximum",message:this.translate(r.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[r.maximum],r)}]},minimum:function(r,c,p){var b=r.exclusiveMinimum?c>r.minimum:c>=r.minimum;return window.math?b=window.math[r.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(c),window.math.bignumber(r.minimum)):window.Decimal&&(b=new window.Decimal(c)[r.exclusiveMinimum?"gt":"gte"](new window.Decimal(r.minimum))),b?[]:[{path:p,property:"minimum",message:this.translate(r.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[r.minimum],r)}]}},this._validateStringSubSchema={maxLength:function(r,c,p){var b=[];return"".concat(c).length>r.maxLength&&b.push({path:p,property:"maxLength",message:this.translate("error_maxLength",[r.maxLength],r)}),b},minLength:function(r,c,p){return"".concat(c).length<r.minLength?[{path:p,property:"minLength",message:this.translate(r.minLength===1?"error_notempty":"error_minLength",[r.minLength],r)}]:[]},pattern:function(r,c,p){return new RegExp(r.pattern).test(c)?[]:[{path:p,property:"pattern",message:r.options&&r.options.patternmessage?r.options.patternmessage:this.translate("error_pattern",[r.pattern],r)}]}},this._validateArraySubSchema={items:function(r,c,p){var b=this,k=[];if(Array.isArray(r.items))for(var P=0;P<c.length;P++)if(r.items[P])k.push.apply(k,Ot(this._validateSchema(r.items[P],c[P],"".concat(p,".").concat(P))));else{if(r.additionalItems===!0)break;if(!r.additionalItems){if(r.additionalItems===!1){k.push({path:p,property:"additionalItems",message:this.translate("error_additionalItems",null,r)});break}break}k.push.apply(k,Ot(this._validateSchema(r.additionalItems,c[P],"".concat(p,".").concat(P))))}else c.forEach(function(N,z){k.push.apply(k,Ot(b._validateSchema(r.items,N,"".concat(p,".").concat(z))))});return k},maxItems:function(r,c,p){return c.length>r.maxItems?[{path:p,property:"maxItems",message:this.translate("error_maxItems",[r.maxItems],r)}]:[]},minItems:function(r,c,p){return c.length<r.minItems?[{path:p,property:"minItems",message:this.translate("error_minItems",[r.minItems],r)}]:[]},uniqueItems:function(r,c,p){for(var b={},k=0;k<c.length;k++){var P=JSON.stringify(c[k]);if(b[P])return[{path:p,property:"uniqueItems",message:this.translate("error_uniqueItems",null,r)}];b[P]=!0}return[]}},this._validateObjectSubSchema={maxProperties:function(r,c,p){return Object.keys(c).length>r.maxProperties?[{path:p,property:"maxProperties",message:this.translate("error_maxProperties",[r.maxProperties],r)}]:[]},minProperties:function(r,c,p){return Object.keys(c).length<r.minProperties?[{path:p,property:"minProperties",message:this.translate("error_minProperties",[r.minProperties],r)}]:[]},required:function(r,c,p){var b=this,k=[];return Array.isArray(r.required)&&r.required.forEach(function(P){if(c[P]===void 0){var N=b.jsoneditor.getEditor("".concat(p,".").concat(P));N&&N.dependenciesFulfilled===!1||N&&["button","info"].includes(N.schema.format||N.schema.type)||k.push({path:p,property:"required",message:b.translate("error_required",[r&&r.properties&&r.properties[P]&&r.properties[P].title?r.properties[P].title:P],r)})}}),k},properties:function(r,c,p,b){var k=this,P=[];return Object.entries(r.properties).forEach(function(N){var z=Ln(N,2),U=z[0],at=z[1];b[U]=!0,P.push.apply(P,Ot(k._validateSchema(at,c[U],"".concat(p,".").concat(U))))}),P},patternProperties:function(r,c,p,b){var k=this,P=[];return Object.entries(r.patternProperties).forEach(function(N){var z=Ln(N,2),U=z[0],at=z[1],pt=new RegExp(U);Object.entries(c).forEach(function(Ct){var ht=Ln(Ct,2),Tt=ht[0],Lt=ht[1];pt.test(Tt)&&(b[Tt]=!0,P.push.apply(P,Ot(k._validateSchema(at,Lt,"".concat(p,".").concat(Tt)))))})}),P}},this._validateObjectSubSchema2={propertyNames:function(r,c,p,b){for(var k=this,P=[],N=Object.keys(c),z=null,U=function(Ct){var ht="";return z=N[Ct],typeof r.propertyNames=="boolean"?r.propertyNames===!0?"continue":(P.push({path:p,property:"propertyNames",message:k.translate("error_property_names_false",[z],r)}),"break"):Object.entries(r.propertyNames).every(function(Tt){var Lt=Ln(Tt,2),Ft=Lt[0],nt=Lt[1],dt=!1;switch(Ft){case"maxLength":if(typeof nt!="number"){ht="error_property_names_maxlength";break}if(z.length>nt){ht="error_property_names_exceeds_maxlength";break}return!0;case"const":if(nt!==z){ht="error_property_names_const_mismatch";break}return!0;case"enum":if(!Array.isArray(nt)){ht="error_property_names_enum";break}if(nt.forEach(function(xt){xt===z&&(dt=!0)}),!dt){ht="error_property_names_enum_mismatch";break}return!0;case"pattern":if(typeof nt!="string"){ht="error_property_names_pattern";break}if(!new RegExp(nt).test(z)){ht="error_property_names_pattern_mismatch";break}return!0;default:return P.push({path:p,property:"propertyNames",message:k.translate("error_property_names_unsupported",[Ft],r)}),!1}return P.push({path:p,property:"propertyNames",message:k.translate(ht,[z],r)}),!1})?void 0:"break"},at=0;at<N.length;at++){var pt=U(at);if(pt!=="continue"&&pt==="break")break}return P},additionalProperties:function(r,c,p,b){for(var k=[],P=Object.keys(c),N=0;N<P.length;N++){var z=P[N];if(!b[z]){if(!r.additionalProperties){k.push({path:p,property:"additionalProperties",message:this.translate("error_additional_properties",[z],r)});break}if(r.additionalProperties===!0)break;k.push.apply(k,Ot(this._validateSchema(r.additionalProperties,c[z],"".concat(p,".").concat(z))))}}return k},dependencies:function(r,c,p){var b=this,k=[];return Object.entries(r.dependencies).forEach(function(P){var N=Ln(P,2),z=N[0],U=N[1];c[z]!==void 0&&(Array.isArray(U)?U.forEach(function(at){c[at]===void 0&&k.push({path:p,property:"dependencies",message:b.translate("error_dependency",[at],r)})}):k.push.apply(k,Ot(b._validateSchema(U,c,p))))}),k}}}var n,s;return n=o,(s=[{key:"fitTest",value:function(i,l){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e7,e={match:0,extra:0};if(Ae(i)==="object"&&i!==null){var r=this._getSchema(l);if(r.anyOf){var c,p=jl({},e),b=xl(r.anyOf);try{for(b.s();!(c=b.n()).done;){var k=c.value,P=this.fitTest(i,k,t);(P.match>p.match||P.match===p.match&&P.extra<p.extra)&&(p=P)}}catch(at){b.e(at)}finally{b.f()}return p}var N=this._getSchema(l).properties;for(var z in N)if(E(N,z)){if(Ae(i[z])==="object"&&Ae(N[z])==="object"&&Ae(N[z].properties)==="object"){var U=this.fitTest(i[z],N[z],t/100);e.match+=U.match,e.extra+=U.extra}i[z]!==void 0&&(e.match+=t)}else e.extra+=t}return e}},{key:"_getSchema",value:function(i){return i===void 0?w({},this.jsoneditor.expandRefs(this.schema)):i}},{key:"validate",value:function(i){return this._validateSchema(this.schema,i)}},{key:"_validateSchema",value:function(i,l,t){var e=this,r=[];return t=t||this.jsoneditor.root.formname,i=w({},this.jsoneditor.expandRefs(i)),l===void 0?this._validateV3Required(i,l,t):(Object.keys(i).forEach(function(c){e._validateSubSchema[c]&&r.push.apply(r,Ot(e._validateSubSchema[c].call(e,i,l,t)))}),r.push.apply(r,Ot(this._validateByValueType(i,l,t))),i.links&&i.links.forEach(function(c,p){c.rel&&c.rel.toLowerCase()==="describedby"&&(i=e._expandSchemaLink(i,p),r.push.apply(r,Ot(e._validateSchema(i,l,t,e.translate))))}),["date","time","datetime-local"].includes(i.format)&&r.push.apply(r,Ot(this._validateDateTimeSubSchema(i,l,t))),["uuid"].includes(i.format)&&r.push.apply(r,Ot(this._validateUUIDSchema(i,l,t))),r.push.apply(r,Ot(this._validateCustomValidator(i,l,t))),this._removeDuplicateErrors(r))}},{key:"_expandSchemaLink",value:function(i,l){var t=i.links[l].href,e=this.jsoneditor.root.getValue(),r=this.jsoneditor.compileTemplate(t,this.jsoneditor.template),c=document.location.origin+document.location.pathname+r(e);return i.links=i.links.slice(0,l).concat(i.links.slice(l+1)),w({},i,this.jsoneditor.refs[c])}},{key:"_validateV3Required",value:function(i,l,t){return(i.required!==void 0&&i.required===!0||i.required===void 0&&this.jsoneditor.options.required_by_default===!0)&&i.type!=="info"?[{path:t,property:"required",message:this.translate("error_notset",null,i)}]:[]}},{key:"_validateByValueType",value:function(i,l,t){var e=this,r=[];if(l===null)return r;if(typeof l=="number")Object.keys(i).forEach(function(p){e._validateNumberSubSchema[p]&&r.push.apply(r,Ot(e._validateNumberSubSchema[p].call(e,i,l,t)))});else if(typeof l=="string")Object.keys(i).forEach(function(p){e._validateStringSubSchema[p]&&r.push.apply(r,Ot(e._validateStringSubSchema[p].call(e,i,l,t)))});else if(Array.isArray(l))Object.keys(i).forEach(function(p){e._validateArraySubSchema[p]&&r.push.apply(r,Ot(e._validateArraySubSchema[p].call(e,i,l,t)))});else if(Ae(l)==="object"){var c={};Object.keys(i).forEach(function(p){e._validateObjectSubSchema[p]&&r.push.apply(r,Ot(e._validateObjectSubSchema[p].call(e,i,l,t,c)))}),i.additionalProperties!==void 0||!this.jsoneditor.options.no_additional_properties||i.oneOf||i.anyOf||i.allOf||(i.additionalProperties=!1),Object.keys(i).forEach(function(p){e._validateObjectSubSchema2[p]!==void 0&&r.push.apply(r,Ot(e._validateObjectSubSchema2[p].call(e,i,l,t,c)))})}return r}},{key:"_validateUUIDSchema",value:function(i,l,t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(l)?[]:[{path:t,property:"format",message:this.translate("error_pattern",["^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"],i)}]}},{key:"_validateNumberSubSchemaMultipleDivisible",value:function(i,l,t){var e=i.multipleOf||i.divisibleBy,r=l/e===Math.floor(l/e);return window.math?r=window.math.mod(window.math.bignumber(l),window.math.bignumber(e)).equals(0):window.Decimal&&(r=new window.Decimal(l).mod(new window.Decimal(e)).equals(0)),r?[]:[{path:t,property:i.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[e],i)}]}},{key:"_validateDateTimeSubSchema",value:function(i,l,t){var e=this,r=this.jsoneditor.getEditor(t),c=r&&r.flatpickr?r.flatpickr.config.dateFormat:{date:'"YYYY-MM-DD"',time:'"HH:MM"',"datetime-local":'"YYYY-MM-DD HH:MM"'}[i.format];if(i.type==="integer")return function(p,b,k){return 1*b<1?[{path:k,property:"format",message:e.translate("error_invalid_epoch",null,p)}]:b!==Math.abs(parseInt(b))?[{path:k,property:"format",message:e.translate("error_".concat(p.format.replace(/-/g,"_")),[c],p)}]:[]}(i,l,t);if(r&&r.flatpickr){if(r)return function(p,b,k,P){if(b!==""){var N;if(P.flatpickr.config.mode!=="single"){var z=P.flatpickr.config.mode==="range"?P.flatpickr.l10n.rangeSeparator:", ";N=P.flatpickr.selectedDates.map(function(at){return P.flatpickr.formatDate(at,P.flatpickr.config.dateFormat)}).join(z)}try{if(N){if(N!==b)throw new Error("".concat(P.flatpickr.config.mode," mismatch"))}else if(P.flatpickr.formatDate(P.flatpickr.parseDate(b,P.flatpickr.config.dateFormat),P.flatpickr.config.dateFormat)!==b)throw new Error("mismatch")}catch{var U=P.flatpickr.config.errorDateFormat!==void 0?P.flatpickr.config.errorDateFormat:P.flatpickr.config.dateFormat;return[{path:k,property:"format",message:e.translate("error_".concat(P.format.replace(/-/g,"_")),[U],p)}]}}return[]}(i,l,t,r)}else if(!{date:/^(\d{4}\D\d{2}\D\d{2})?$/,time:/^(\d{2}:\d{2}(?::\d{2})?)?$/,"datetime-local":/^(\d{4}\D\d{2}\D\d{2}[ T]\d{2}:\d{2}(?::\d{2})?)?$/}[i.format].test(l))return[{path:t,property:"format",message:this.translate("error_".concat(i.format.replace(/-/g,"_")),[c],i)}];return[]}},{key:"_validateCustomValidator",value:function(i,l,t){var e=this,r=[];r.push.apply(r,Ot(kl.call(this,i,l,t,this.translate)));var c=function(p){r.push.apply(r,Ot(p.call(e,i,l,t)))};return this.defaults.custom_validators.forEach(c),this.options.custom_validators&&this.options.custom_validators.forEach(c),r}},{key:"_removeDuplicateErrors",value:function(i){return i.reduce(function(l,t){var e=!0;return l||(l=[]),l.forEach(function(r){r.message===t.message&&r.path===t.path&&r.property===t.property&&(r.errorcount++,e=!1)}),e&&(t.errorcount=1,l.push(t)),l},[])}},{key:"_checkType",value:function(i,l){var t={string:function(e){return typeof e=="string"},number:function(e){return typeof e=="number"},integer:function(e){return typeof e=="number"&&e===Math.floor(e)},boolean:function(e){return typeof e=="boolean"},array:function(e){return Array.isArray(e)},object:function(e){return e!==null&&!Array.isArray(e)&&Ae(e)==="object"},null:function(e){return e===null}};return typeof i=="string"?!t[i]||t[i](l):!this._validateSchema(i,l).length}}])&&Ol(n.prototype,s),o}();function Sr(o){return(Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function El(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Sl(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function rn(o,n,s){return(rn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=le(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function so(o,n){return(so=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Pl(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=le(o);if(n){var l=le(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Tl(this,s)}}function Tl(o,n){return!n||Sr(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function le(o){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Ll=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&so(t,e)})(l,o);var n,s,i=Pl(l);function l(){return El(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"register",value:function(){if(this.editors){for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister();this.editors[this.type]&&this.editors[this.type].register()}rn(le(l.prototype),"register",this).call(this)}},{key:"unregister",value:function(){if(rn(le(l.prototype),"unregister",this).call(this),this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister()}},{key:"getNumColumns",value:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4}},{key:"enable",value:function(){if(!this.always_disabled){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].enable();this.switcher.disabled=!1,rn(le(l.prototype),"enable",this).call(this)}}},{key:"disable",value:function(t){if(t&&(this.always_disabled=!0),this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].disable(t);this.switcher.disabled=!0,rn(le(l.prototype),"disable",this).call(this)}},{key:"switchEditor",value:function(t){var e=this;this.editors[t]||this.buildChildEditor(t);var r=this.getValue();this.type=t,this.register(),this.editors.forEach(function(c,p){c&&(e.type===p?(e.keep_values&&c.setValue(r,!0),c.container.style.display=""):c.container.style.display="none")}),this.refreshValue(),this.refreshHeaderText()}},{key:"buildChildEditor",value:function(t){var e,r=this,c=this.types[t],p=this.theme.getChildEditorHolder();this.editor_holder.appendChild(p),typeof c=="string"?(e=w({},this.schema)).type=c:(e=w({},this.schema,c),e=this.jsoneditor.expandRefs(e),c&&c.required&&Array.isArray(c.required)&&this.schema.required&&Array.isArray(this.schema.required)&&(e.required=this.schema.required.concat(c.required)));var b=this.jsoneditor.getEditorClass(e);this.editors[t]=this.jsoneditor.createEditor(b,{jsoneditor:this.jsoneditor,schema:e,container:p,path:this.path,parent:this,required:!0}),this.editors[t].preBuild(),this.editors[t].build(),this.editors[t].postBuild(),this.editors[t].header&&(this.editors[t].header.style.display="none"),this.editors[t].option=this.switcher_options[t],p.addEventListener("change_header_text",function(){r.refreshHeaderText()}),t!==this.type&&(p.style.display="none")}},{key:"preBuild",value:function(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.keep_values=!0,this.jsoneditor.options.keep_oneof_values!==void 0&&(this.keep_values=this.jsoneditor.options.keep_oneof_values),this.options.keep_oneof_values!==void 0&&(this.keep_values=this.options.keep_oneof_values),this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else{if(this.schema.type&&this.schema.type!=="any")Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];else if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var t=this.schema.disallow;Sr(t)==="object"&&Array.isArray(t)||(t=[t]);var e=[];this.types.forEach(function(r){t.includes(r)||e.push(r)}),this.types=e}delete this.schema.type}this.display_text=this.getDisplayText(this.types)}},{key:"build",value:function(){var t=this,e=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),e.appendChild(this.switcher),this.switcher.addEventListener("change",function(c){c.preventDefault(),c.stopPropagation(),t.switchEditor(t.display_text.indexOf(c.currentTarget.value)),t.onChange(!0)}),this.editor_holder=document.createElement("div"),e.appendChild(this.editor_holder);var r={};this.jsoneditor.options.custom_validators&&(r.custom_validators=this.jsoneditor.options.custom_validators),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),this.types.forEach(function(c,p){var b;t.editors[p]=!1,typeof c=="string"?(b=w({},t.schema)).type=c:(b=w({},t.schema,c),c.required&&Array.isArray(c.required)&&t.schema.required&&Array.isArray(t.schema.required)&&(b.required=t.schema.required.concat(c.required))),t.validators[p]=new oo(t.jsoneditor,b,r,t.defaults)}),this.switchEditor(0)}},{key:"onChildEditorChange",value:function(t){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText()),rn(le(l.prototype),"onChildEditorChange",this).call(this)}},{key:"refreshHeaderText",value:function(){var t=this.getDisplayText(this.types);Array.from(this.switcher_options).forEach(function(e,r){e.textContent=t[r]})}},{key:"refreshValue",value:function(){this.value=this.editors[this.type].getValue()}},{key:"setValue",value:function(t,e){var r=this,c=this.type,p={match:0,extra:0,i:this.type},b={match:0,i:null};this.validators.forEach(function(N,z){var U=null;r.anyOf!==void 0&&r.anyOf&&(U=N.fitTest(t),(p.match<U.match||p.match===U.match&&p.extra>U.extra)&&((p=U).i=z)),N.validate(t).length||b.i!==null?p=b:(b.i=z,U!==null&&(b.match=U.match))});var k=b.i;this.anyOf!==void 0&&this.anyOf&&b.match<p.match&&(k=p.i),k===null&&(k=this.type),this.type=k,this.switcher.value=this.display_text[k];var P=this.type!==c;P&&this.switchEditor(this.type),this.editors[this.type].setValue(t,e),this.refreshValue(),this.onChange(P)}},{key:"destroy",value:function(){this.editors.forEach(function(t){t&&t.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),rn(le(l.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(t){var e=this;if(this.oneOf||this.anyOf){var r=this.oneOf?"oneOf":"anyOf";this.editors.forEach(function(c,p){if(c){var b="".concat(e.path,".").concat(r,"[").concat(p,"]");c.showValidationErrors(t.reduce(function(k,P){if(P.path.startsWith(b)||P.path===b.substr(0,P.path.length)){var N=w({},P);P.path.startsWith(b)&&(N.path=e.path+N.path.substr(b.length)),k.push(N)}return k},[]))}})}else this.editors.forEach(function(c){c&&c.showValidationErrors(t)})}},{key:"addLinks",value:function(){}}])&&Sl(n.prototype,s),l}(R);function ao(o){return(ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Rl(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Al(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function co(o,n){return(co=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Il(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Pr(o);if(n){var l=Pr(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Bl(this,s)}}function Bl(o,n){return!n||ao(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Pr(o){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Nl=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&co(t,e)})(l,o);var n,s,i=Il(l);function l(){return Rl(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"getValue",value:function(){if(this.dependenciesFulfilled)return null}},{key:"setValue",value:function(){this.onChange()}},{key:"getNumColumns",value:function(){return 2}}])&&Al(n.prototype,s),l}(R);function lo(o,n){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable})),s.push.apply(s,i)}return s}function bn(o){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?lo(Object(s),!0).forEach(function(i){tr(o,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):lo(Object(s)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(s,i))})}return o}function tr(o,n,s){return n in o?Object.defineProperty(o,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[n]=s,o}function Rn(o,n){return function(s){if(Array.isArray(s))return s}(o)||function(s,i){var l=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(l!=null){var t,e,r=[],c=!0,p=!1;try{for(l=l.call(s);!(c=(t=l.next()).done)&&(r.push(t.value),!i||r.length!==i);c=!0);}catch(b){p=!0,e=b}finally{try{c||l.return==null||l.return()}finally{if(p)throw e}}return r}}(o,n)||function(s,i){if(s){if(typeof s=="string")return uo(s,i);var l=Object.prototype.toString.call(s).slice(8,-1);if(l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set")return Array.from(s);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return uo(s,i)}}(o,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function uo(o,n){(n==null||n>o.length)&&(n=o.length);for(var s=0,i=new Array(n);s<n;s++)i[s]=o[s];return i}function er(o){return(er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Fl(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function we(o,n,s){return(we=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Yt(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function ho(o,n){return(ho=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Dl(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Yt(o);if(n){var l=Yt(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Ml(this,s)}}function Ml(o,n){return!n||er(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Yt(o){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var po=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ho(t,e)})(l,o);var n,s,i=Dl(l);function l(t,e,r){var c;return function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}(this,l),(c=i.call(this,t,e)).currentDepth=r,c}return n=l,(s=[{key:"getDefault",value:function(){return w({},this.schema.default||{})}},{key:"getChildEditors",value:function(){return this.editors}},{key:"register",value:function(){we(Yt(l.prototype),"register",this).call(this),this.editors&&Object.values(this.editors).forEach(function(t){return t.register()})}},{key:"unregister",value:function(){we(Yt(l.prototype),"unregister",this).call(this),this.editors&&Object.values(this.editors).forEach(function(t){return t.unregister()})}},{key:"getNumColumns",value:function(){return Math.max(Math.min(12,this.maxwidth),3)}},{key:"enable",value:function(){this.always_disabled||(this.editjson_control&&(this.editjson_control.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),we(Yt(l.prototype),"enable",this).call(this),this.editors&&Object.values(this.editors).forEach(function(t){t.isActive()&&t.enable(),t.optInCheckbox.disabled=!1}))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.editjson_control&&(this.editjson_control.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),we(Yt(l.prototype),"disable",this).call(this),this.editors&&Object.values(this.editors).forEach(function(e){e.isActive()&&e.disable(t),e.optInCheckbox.disabled=!0})}},{key:"layoutEditors",value:function(){var t,e,r=this;if(this.row_container){var c;this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(Ft,nt){var dt=r.editors[Ft].schema.propertyOrder,xt=r.editors[nt].schema.propertyOrder;return typeof dt!="number"&&(dt=1e3),typeof xt!="number"&&(xt=1e3),dt-xt});var p,b=this.format==="categories",k=[],P=null,N=null;if(this.format==="grid-strict"){var z=0;if(p=[],this.property_order.forEach(function(Ft){var nt=r.editors[Ft];if(!nt.property_removed){var dt=nt.options.hidden?0:nt.options.grid_columns||nt.getNumColumns(),xt=nt.options.hidden?0:nt.options.grid_offset||0,$t=!nt.options.hidden&&(nt.options.grid_break||!1),ne={key:Ft,width:dt,offset:xt,height:nt.options.hidden?0:nt.container.offsetHeight};p.push(ne),k[z]=p,$t&&(z++,p=[])}}),this.layout===JSON.stringify(k))return!1;for(this.layout=JSON.stringify(k),c=document.createElement("div"),t=0;t<k.length;t++)for(p=this.theme.getGridRow(),c.appendChild(p),e=0;e<k[t].length;e++)P=k[t][e].key,(N=this.editors[P]).options.hidden?N.container.style.display="none":this.theme.setGridColumnSize(N.container,k[t][e].width,k[t][e].offset),p.appendChild(N.container)}else if(this.format==="grid"){for(this.property_order.forEach(function(Ft){var nt=r.editors[Ft];if(!nt.property_removed){for(var dt=!1,xt=nt.options.hidden?0:nt.options.grid_columns||nt.getNumColumns(),$t=nt.options.hidden?0:nt.container.offsetHeight,ne=0;ne<k.length;ne++)k[ne].width+xt<=12&&(!$t||.5*k[ne].minh<$t&&2*k[ne].maxh>$t)&&(dt=ne);dt===!1&&(k.push({width:0,minh:999999,maxh:0,editors:[]}),dt=k.length-1),k[dt].editors.push({key:Ft,width:xt,height:$t}),k[dt].width+=xt,k[dt].minh=Math.min(k[dt].minh,$t),k[dt].maxh=Math.max(k[dt].maxh,$t)}}),t=0;t<k.length;t++)if(k[t].width<12){var U=!1,at=0;for(e=0;e<k[t].editors.length;e++)(U===!1||k[t].editors[e].width>k[t].editors[U].width)&&(U=e),k[t].editors[e].width*=12/k[t].width,k[t].editors[e].width=Math.floor(k[t].editors[e].width),at+=k[t].editors[e].width;at<12&&(k[t].editors[U].width+=12-at),k[t].width=12}if(this.layout===JSON.stringify(k))return!1;for(this.layout=JSON.stringify(k),c=document.createElement("div"),t=0;t<k.length;t++)for(p=this.theme.getGridRow(),c.appendChild(p),e=0;e<k[t].editors.length;e++)P=k[t].editors[e].key,(N=this.editors[P]).options.hidden?N.container.style.display="none":this.theme.setGridColumnSize(N.container,k[t].editors[e].width),p.appendChild(N.container)}else{if(c=document.createElement("div"),b){var pt=document.createElement("div"),Ct=this.theme.getTopTabHolder(this.translateProperty(this.schema.title)),ht=this.theme.getTopTabContentHolder(Ct);for(this.property_order.forEach(function(Ft){var nt=r.editors[Ft];if(!nt.property_removed){var dt=r.theme.getTabContent(),xt=nt.schema&&(nt.schema.type==="object"||nt.schema.type==="array");dt.isObjOrArray=xt;var $t=r.theme.getGridRow();nt.tab||(r.basicPane===void 0?r.addRow(nt,Ct,dt):r.addRow(nt,Ct,r.basicPane)),dt.id=r.getValidId(nt.tab_text.textContent),xt?(dt.appendChild($t),ht.appendChild(dt),r.theme.addTopTab(Ct,nt.tab)):(pt.appendChild($t),ht.childElementCount>0?ht.firstChild.isObjOrArray&&(dt.appendChild(pt),ht.insertBefore(dt,ht.firstChild),r.theme.insertBasicTopTab(nt.tab,Ct),nt.basicPane=dt):(dt.appendChild(pt),ht.appendChild(dt),r.theme.addTopTab(Ct,nt.tab),nt.basicPane=dt)),nt.options.hidden?nt.container.style.display="none":r.theme.setGridColumnSize(nt.container,12),$t.appendChild(nt.container),nt.rowPane=dt}});this.tabPanesContainer.firstChild;)this.tabPanesContainer.removeChild(this.tabPanesContainer.firstChild);var Tt=this.tabs_holder.parentNode;Tt.removeChild(Tt.firstChild),Tt.appendChild(Ct),this.tabPanesContainer=ht,this.tabs_holder=Ct;var Lt=this.theme.getFirstTab(this.tabs_holder);return void(Lt&&x(Lt,"click"))}this.property_order.forEach(function(Ft){var nt=r.editors[Ft];nt.property_removed||(p=r.theme.getGridRow(),c.appendChild(p),nt.options.hidden?nt.container.style.display="none":r.theme.setGridColumnSize(nt.container,12),p.appendChild(nt.container))})}for(;this.row_container.firstChild;)this.row_container.removeChild(this.row_container.firstChild);this.row_container.appendChild(c)}}},{key:"getPropertySchema",value:function(t){var e=this,r=this.schema.properties[t]||{};r=w({},r);var c=!!this.schema.properties[t];return this.schema.patternProperties&&Object.keys(this.schema.patternProperties).forEach(function(p){new RegExp(p).test(t)&&(r.allOf=r.allOf||[],r.allOf.push(e.schema.patternProperties[p]),c=!0)}),!c&&this.schema.additionalProperties&&er(this.schema.additionalProperties)==="object"&&(r=w({},this.schema.additionalProperties)),r}},{key:"preBuild",value:function(){var t=this;if(we(Yt(l.prototype),"preBuild",this).call(this),this.editors={},this.cached_editors={},this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)Object.entries(this.schema.properties).forEach(function(e){var r=Rn(e,2),c=r[0],p=r[1],b=t.jsoneditor.getEditorClass(p);t.editors[c]=t.jsoneditor.createEditor(b,{jsoneditor:t.jsoneditor,schema:p,path:"".concat(t.path,".").concat(c),parent:t,compact:!0,required:!0},t.currentDepth+1),t.editors[c].preBuild();var k=t.editors[c].options.hidden?0:t.editors[c].options.grid_columns||t.editors[c].getNumColumns();t.minwidth+=k,t.maxwidth+=k}),this.no_link_holder=!0;else{if(this.options.table)throw new Error("Not supported yet");this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?this.schema.defaultProperties=Object.keys(this.schema.properties).filter(function(e){return t.isRequiredObject({key:e,schema:t.schema.properties[e]})}):this.schema.defaultProperties=Object.keys(this.schema.properties)),this.maxwidth+=1,Array.isArray(this.schema.defaultProperties)&&this.schema.defaultProperties.forEach(function(e){t.addObjectProperty(e,!0),t.editors[e]&&(t.minwidth=Math.max(t.minwidth,t.editors[e].options.grid_columns||t.editors[e].getNumColumns()),t.maxwidth+=t.editors[e].options.grid_columns||t.editors[e].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(e,r){var c=t.editors[e].schema.propertyOrder,p=t.editors[r].schema.propertyOrder;return typeof c!="number"&&(c=1e3),typeof p!="number"&&(p=1e3),c-p})}},{key:"addTab",value:function(t){var e=this,r=this.rows[t].schema&&(this.rows[t].schema.type==="object"||this.rows[t].schema.type==="array");this.tabs_holder&&(this.rows[t].tab_text=document.createElement("span"),this.rows[t].tab_text.textContent=r?this.rows[t].getHeaderText():this.schema.basicCategoryTitle===void 0?"Basic":this.schema.basicCategoryTitle,this.rows[t].tab=this.theme.getTopTab(this.rows[t].tab_text,this.getValidId(this.rows[t].tab_text.textContent)),this.rows[t].tab.addEventListener("click",function(c){e.active_tab=e.rows[t].tab,e.refreshTabs(),c.preventDefault(),c.stopPropagation()}))}},{key:"addRow",value:function(t,e,r){var c=this.rows.length,p=t.schema.type==="object"||t.schema.type==="array";this.rows[c]=t,this.rows[c].rowPane=r,p?(this.addTab(c),this.theme.addTopTab(e,this.rows[c].tab)):this.basicTab===void 0?(this.addTab(c),this.basicTab=c,this.basicPane=r,this.theme.addTopTab(e,this.rows[c].tab)):(this.rows[c].tab=this.rows[this.basicTab].tab,this.rows[c].tab_text=this.rows[this.basicTab].tab_text,this.rows[c].rowPane=this.rows[this.basicTab].rowPane)}},{key:"refreshTabs",value:function(t){var e=this,r=this.basicTab!==void 0,c=!1;this.rows.forEach(function(p){p.tab&&p.rowPane&&p.rowPane.parentNode&&(r&&p.tab===e.rows[e.basicTab].tab&&c||(t?p.tab_text.textContent=p.getHeaderText():(r&&p.tab===e.rows[e.basicTab].tab&&(c=!0),p.tab===e.active_tab?e.theme.markTabActive(p):e.theme.markTabInactive(p))))})}},{key:"build",value:function(){var t=this,e=this.format==="categories";if(this.rows=[],this.active_tab=null,this.options.table_row)this.editor_holder=this.container,Object.entries(this.editors).forEach(function(c){var p=Rn(c,2),b=p[0],k=p[1],P=t.theme.getTableCell();t.editor_holder.appendChild(P),k.setContainer(P),k.build(),k.postBuild(),k.setOptInCheckbox(k.header),k.setValue(k.getDefault(),!0),t.editors[b].options.hidden&&(P.style.display="none"),t.editors[b].options.input_width&&(P.style.width=t.editors[b].options.input_width)});else{if(this.options.table)throw new Error("Not supported yet");this.header="",this.options.compact||(this.header=document.createElement("label"),this.header.textContent=this.getTitle()),this.title=this.theme.getHeader(this.header,this.getPathDepth()),this.title.classList.add("je-object__title"),this.controls=this.theme.getButtonHolder(),this.controls.classList.add("je-object__controls"),this.container.appendChild(this.title),this.container.appendChild(this.controls),this.container.classList.add("je-object__container"),this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.classList.add("je-edit-json--textarea"),this.editjson_save=this.getButton("button_save","save","button_save"),this.editjson_save.classList.add("json-editor-btntype-save"),this.editjson_save.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),t.saveJSON()}),this.editjson_copy=this.getButton("button_copy","copy","button_copy"),this.editjson_copy.classList.add("json-editor-btntype-copy"),this.editjson_copy.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),t.copyJSON()}),this.editjson_cancel=this.getButton("button_cancel","cancel","button_cancel"),this.editjson_cancel.classList.add("json-editor-btntype-cancel"),this.editjson_cancel.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),t.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_copy),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.classList.add("property-selector"),this.addproperty_add=this.getButton("button_add","add","button_add"),this.addproperty_add.classList.add("json-editor-btntype-add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.classList.add("property-selector-input"),this.addproperty_add.addEventListener("click",function(c){if(c.preventDefault(),c.stopPropagation(),t.addproperty_input.value){if(t.editors[t.addproperty_input.value])return void window.alert("there is already a property with that name");t.addObjectProperty(t.addproperty_input.value),t.editors[t.addproperty_input.value]&&t.editors[t.addproperty_input.value].disable(),t.onChange(!0)}}),this.addproperty_input.addEventListener("input",function(c){c.target.previousSibling.childNodes.forEach(function(p){p.innerText.includes(c.target.value)?p.style.display="":p.style.display="none"})}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);var r=document.createElement("div");r.style.clear="both",this.addproperty_holder.appendChild(r),this.onOutsideModalClickListener=this.onOutsideModalClick.bind(this),document.addEventListener("click",this.onOutsideModalClickListener,!0),this.schema.description&&(this.description=this.theme.getDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),e?(this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.translateProperty(this.schema.title))),this.tabPanesContainer=this.theme.getTopTabContentHolder(this.tabs_holder),this.editor_holder.appendChild(this.tabs_holder)):(this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.translateProperty(this.schema.title))),this.tabPanesContainer=this.theme.getTabContentHolder(this.tabs_holder),this.editor_holder.appendChild(this.row_container)),Object.values(this.editors).forEach(function(c){var p=t.theme.getTabContent(),b=t.theme.getGridColumn(),k=!(!c.schema||c.schema.type!=="object"&&c.schema.type!=="array");if(p.isObjOrArray=k,e){if(k){var P=t.theme.getGridContainer();P.appendChild(b),p.appendChild(P),t.tabPanesContainer.appendChild(p),t.row_container=P}else t.row_container_basic===void 0&&(t.row_container_basic=t.theme.getGridContainer(),p.appendChild(t.row_container_basic),t.tabPanesContainer.childElementCount===0?t.tabPanesContainer.appendChild(p):t.tabPanesContainer.insertBefore(p,t.tabPanesContainer.childNodes[1])),t.row_container_basic.appendChild(b);t.addRow(c,t.tabs_holder,p),p.id=t.getValidId(c.schema.title)}else t.row_container.appendChild(b);c.setContainer(b),c.build(),c.postBuild(),c.setOptInCheckbox(c.header)}),this.rows[0]&&x(this.rows[0].tab,"click"),this.collapsed=!1,this.collapse_control=this.getButton("","collapse","button_collapse"),this.collapse_control.classList.add("json-editor-btntype-toggle"),this.title.insertBefore(this.collapse_control,this.title.childNodes[0]),this.collapse_control.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),t.collapsed?(t.editor_holder.style.display="",t.collapsed=!1,t.setButtonText(t.collapse_control,"","collapse","button_collapse")):(t.editor_holder.style.display="none",t.collapsed=!0,t.setButtonText(t.collapse_control,"","expand","button_expand"))}),this.options.collapsed&&x(this.collapse_control,"click"),this.schema.options&&this.schema.options.disable_collapse!==void 0?this.schema.options.disable_collapse&&(this.collapse_control.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.collapse_control.style.display="none"),this.editjson_control=this.getButton("JSON","edit","button_edit_json"),this.editjson_control.classList.add("json-editor-btntype-editjson"),this.editjson_control.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),t.toggleEditJSON()}),this.controls.appendChild(this.editjson_control),this.controls.insertBefore(this.editjson_holder,this.controls.childNodes[0]),this.schema.options&&this.schema.options.disable_edit_json!==void 0?this.schema.options.disable_edit_json&&(this.editjson_control.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_control.style.display="none"),this.addproperty_button=this.getButton("properties","edit_properties","button_object_properties"),this.addproperty_button.classList.add("json-editor-btntype-properties"),this.addproperty_button.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),t.toggleAddProperty()}),this.controls.appendChild(this.addproperty_button),this.controls.insertBefore(this.addproperty_holder,this.controls.childNodes[1]),this.refreshAddProperties(),this.deactivateNonRequiredProperties()}this.options.table_row?(this.editor_holder=this.container,this.property_order.forEach(function(c){t.editor_holder.appendChild(t.editors[c].container)})):(this.layoutEditors(),this.layoutEditors())}},{key:"deactivateNonRequiredProperties",value:function(){var t=this,e=this.jsoneditor.options.show_opt_in,r=this.options.show_opt_in!==void 0,c=r&&this.options.show_opt_in===!0,p=r&&this.options.show_opt_in===!1;(c||!p&&e||!r&&e)&&Object.entries(this.editors).forEach(function(b){var k=Rn(b,2),P=k[0],N=k[1];t.isRequiredObject(N)||t.editors[P].deactivate()})}},{key:"showEditJSON",value:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left="".concat(this.editjson_control.offsetLeft,"px"),this.editjson_holder.style.top="".concat(this.editjson_control.offsetTop+this.editjson_control.offsetHeight,"px"),this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_control.disabled=!1,this.editing_json=!0)}},{key:"hideEditJSON",value:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)}},{key:"copyJSON",value:function(){if(this.editjson_holder){var t=document.createElement("textarea");t.value=this.editjson_textarea.value,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}},{key:"saveJSON",value:function(){if(this.editjson_holder)try{var t=JSON.parse(this.editjson_textarea.value);this.setValue(t),this.hideEditJSON(),this.onChange(!0)}catch(e){throw window.alert("invalid JSON"),e}}},{key:"toggleEditJSON",value:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()}},{key:"insertPropertyControlUsingPropertyOrder",value:function(t,e,r){var c;this.schema.properties[t]&&(c=this.schema.properties[t].propertyOrder),typeof c!="number"&&(c=1e3),e.propertyOrder=c;for(var p=0;p<r.childNodes.length;p++){var b=r.childNodes[p];if(e.propertyOrder<b.propertyOrder){this.addproperty_list.insertBefore(e,b),e=null;break}}e&&this.addproperty_list.appendChild(e)}},{key:"addPropertyCheckbox",value:function(t){var e,r=this,c=this.theme.getCheckbox();c.style.width="auto",e=this.schema.properties[t]&&this.schema.properties[t].title?this.schema.properties[t].title:t;var p=this.theme.getCheckboxLabel(e),b=this.theme.getFormControl(p,c);return b.style.paddingBottom=b.style.marginBottom=b.style.paddingTop=b.style.marginTop=0,b.style.height="auto",this.insertPropertyControlUsingPropertyOrder(t,b,this.addproperty_list),c.checked=t in this.editors,c.addEventListener("change",function(){c.checked?r.addObjectProperty(t):r.removeObjectProperty(t),r.onChange(!0)}),this.addproperty_checkboxes[t]=c,c}},{key:"showAddProperty",value:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left="".concat(this.addproperty_button.offsetLeft,"px"),this.addproperty_holder.style.top="".concat(this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight,"px"),this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())}},{key:"hideAddProperty",value:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)}},{key:"toggleAddProperty",value:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()}},{key:"removeObjectProperty",value:function(t){this.editors[t]&&(this.editors[t].unregister(),delete this.editors[t],this.refreshValue(),this.layoutEditors())}},{key:"getSchemaOnMaxDepth",value:function(t){return Object.keys(t).reduce(function(e,r){switch(r){case"$ref":return e;case"properties":case"items":return bn(bn({},e),{},tr({},r,{}));case"additionalProperties":case"propertyNames":return bn(bn({},e),{},tr({},r,!0));default:return bn(bn({},e),{},tr({},r,t[r]))}},{})}},{key:"addObjectProperty",value:function(t,e){if(!this.editors[t]){if(this.cached_editors[t]){if(this.editors[t]=this.cached_editors[t],e)return;this.editors[t].register()}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[t]||this.schema.patternProperties&&Object.keys(this.schema.patternProperties).find(function(k){return new RegExp(k).test(t)})))return;var r=this.getPropertySchema(t);typeof r.propertyOrder!="number"&&(r.propertyOrder=Object.keys(this.editors).length+1e3);var c=this.jsoneditor.getEditorClass(r),p=this.jsoneditor.options.max_depth;if(this.editors[t]=this.jsoneditor.createEditor(c,{jsoneditor:this.jsoneditor,schema:p&&this.currentDepth>=p?this.getSchemaOnMaxDepth(r):r,path:"".concat(this.path,".").concat(t),parent:this},this.currentDepth+1),this.editors[t].preBuild(),!e){var b=this.theme.getChildEditorHolder();this.editor_holder.appendChild(b),this.editors[t].setContainer(b),this.editors[t].build(),this.editors[t].postBuild(),this.editors[t].setOptInCheckbox(c.header),this.editors[t].activate()}this.cached_editors[t]=this.editors[t]}e||(this.refreshValue(),this.layoutEditors())}}},{key:"onOutsideModalClick",value:function(t){var e=t.path||t.composedPath&&t.composedPath();this.addproperty_holder&&!this.addproperty_holder.contains(e[0])&&this.adding_property&&(t.preventDefault(),t.stopPropagation(),this.toggleAddProperty())}},{key:"onChildEditorChange",value:function(t){this.refreshValue(),we(Yt(l.prototype),"onChildEditorChange",this).call(this,t)}},{key:"canHaveAdditionalProperties",value:function(){return typeof this.schema.additionalProperties=="boolean"?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties}},{key:"destroy",value:function(){Object.values(this.cached_editors).forEach(function(t){return t.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,document.removeEventListener("click",this.onOutsideModalClickListener,!0),we(Yt(l.prototype),"destroy",this).call(this)}},{key:"getValue",value:function(){if(this.dependenciesFulfilled){var t=we(Yt(l.prototype),"getValue",this).call(this);return t&&(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)&&Object.keys(t).forEach(function(e){var r;((r=t[e])===void 0||r===""||r===Object(r)&&Object.keys(r).length===0&&r.constructor===Object)&&delete t[e]}),t}}},{key:"refreshValue",value:function(){var t=this;this.value={},this.editors&&(Object.keys(this.editors).forEach(function(e){t.editors[e].isActive()&&(t.value[e]=t.editors[e].getValue())}),this.adding_property&&this.refreshAddProperties())}},{key:"refreshAddProperties",value:function(){var t=this;if(this.options.disable_properties||this.options.disable_properties!==!1&&this.jsoneditor.options.disable_properties)this.addproperty_button.style.display="none";else{var e,r=0,c=!1;Object.keys(this.editors).forEach(function(p){return r++}),e=this.canHaveAdditionalProperties()&&!(this.schema.maxProperties!==void 0&&r>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={},Object.keys(this.cached_editors).forEach(function(p){t.addPropertyCheckbox(p),t.isRequiredObject(t.cached_editors[p])&&p in t.editors&&(t.addproperty_checkboxes[p].disabled=!0),t.schema.minProperties!==void 0&&r<=t.schema.minProperties?(t.addproperty_checkboxes[p].disabled=t.addproperty_checkboxes[p].checked,t.addproperty_checkboxes[p].checked||(c=!0)):p in t.editors?c=!0:e||E(t.schema.properties,p)?(t.addproperty_checkboxes[p].disabled=!1,c=!0):t.addproperty_checkboxes[p].disabled=!0}),this.canHaveAdditionalProperties()&&(c=!0),Object.keys(this.schema.properties).forEach(function(p){t.cached_editors[p]||(c=!0,t.addPropertyCheckbox(p))}),c?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=!e:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_button.style.display="none")}}},{key:"isRequiredObject",value:function(t){if(t)return typeof t.schema.required=="boolean"?t.schema.required:Array.isArray(this.schema.required)?this.schema.required.includes(t.key):!!this.jsoneditor.options.required_by_default}},{key:"setValue",value:function(t,e){var r=this;(er(t=t||{})!=="object"||Array.isArray(t))&&(t={}),Object.entries(this.cached_editors).forEach(function(c){var p=Rn(c,2),b=p[0],k=p[1];t[b]!==void 0?(r.addObjectProperty(b),k.setValue(t[b],e),k.activate()):e||r.isRequiredObject(k)?k.setValue(k.getDefault(),e):r.jsoneditor.options.show_opt_in||r.options.show_opt_in?k.deactivate():r.removeObjectProperty(b)}),Object.entries(t).forEach(function(c){var p=Rn(c,2),b=p[0],k=p[1];r.cached_editors[b]||(r.addObjectProperty(b),r.editors[b]&&r.editors[b].setValue(k,e,!!r.editors[b].template))}),this.refreshValue(),this.layoutEditors(),this.onChange()}},{key:"showValidationErrors",value:function(t){var e=this,r=[],c=[];t.forEach(function(p){p.path===e.path?r.push(p):c.push(p)}),this.error_holder&&(r.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",r.forEach(function(p){p.errorcount&&p.errorcount>1&&(p.message+=" (".concat(p.errorcount," errors)")),e.error_holder.appendChild(e.theme.getErrorMessage(p.message))})):this.error_holder.style.display="none"),this.options.table_row&&(r.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),Object.values(this.editors).forEach(function(p){p.showValidationErrors(c)})}}])&&Fl(n.prototype,s),l}(R);function fo(o){return(fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Vl(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Hl(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function An(o,n,s){return(An=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Ie(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function mo(o,n){return(mo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function zl(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Ie(o);if(n){var l=Ie(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return $l(this,s)}}function $l(o,n){return!n||fo(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Ie(o){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}po.rules={".je-object__title":"display:inline-block",".je-object__controls":"margin:0%200%200%2010px",".je-object__container":"position:relative",".je-object__property-checkbox":"margin:0;height:auto",".property-selector":"width:295px;max-height:160px;padding:5px%200;overflow-y:auto;overflow-x:hidden;padding-left:5px",".property-selector-input":"width:220px;margin-bottom:0;display:inline-block",".json-editor-btntype-toggle":"margin:0%2010px%200%200",".je-edit-json--textarea":"height:170px;width:300px;display:block"};var ql=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mo(t,e)})(l,o);var n,s,i=zl(l);function l(){return Vl(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"preBuild",value:function(){An(Ie(l.prototype),"preBuild",this).call(this)}},{key:"build",value:function(){var t=this;this.label="",this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.radioContainer=document.createElement("div"),this.radioGroup=[];var e=function(N){t.setValue(N.currentTarget.value),t.onChange(!0)};this.isRequired()||(this.enum_display.shift(),this.enum_options.shift(),this.enum_values.shift());for(var r=0;r<this.enum_values.length;r++){var c={id:"".concat(this.formname,"[").concat(r,"]"),value:this.enum_values[r]};this.jsoneditor.options.use_name_attributes&&(c.name=this.formname),this.input=this.theme.getFormRadio(c),this.setInputAttributes(["id","value","name"]),this.input.addEventListener("change",e,!1),this.radioGroup.push(this.input);var p=this.theme.getFormRadioLabel(this.enum_display[r]);p.htmlFor=this.input.id;var b=this.theme.getFormRadioControl(p,this.input,!(this.options.layout!=="horizontal"&&!this.options.compact));this.radioContainer.appendChild(b)}if(this.schema.readOnly||this.schema.readonly){this.disable(!0);for(var k=0;k<this.radioGroup.length;k++)this.radioGroup[k].disabled=!0;this.radioContainer.classList.add("readonly")}var P=this.theme.getContainer();P.appendChild(this.radioContainer),P.dataset.containerFor="radio",this.input=P,this.control=this.theme.getFormControl(this.label,P,this.description,this.infoButton),this.container.appendChild(this.control),window.requestAnimationFrame(function(){t.input.parentNode&&t.afterInputReady()})}},{key:"enable",value:function(){if(!this.always_disabled){for(var t=0;t<this.radioGroup.length;t++)this.radioGroup[t].disabled=!1;this.radioContainer.classList.remove("readonly"),An(Ie(l.prototype),"enable",this).call(this)}}},{key:"disable",value:function(t){t&&(this.always_disabled=!0);for(var e=0;e<this.radioGroup.length;e++)this.radioGroup[e].disabled=!0;this.radioContainer.classList.add("readonly"),An(Ie(l.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.radioContainer.parentNode&&this.radioContainer.parentNode.parentNode&&this.radioContainer.parentNode.parentNode.removeChild(this.radioContainer.parentNode),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),An(Ie(l.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"setValue",value:function(t){for(var e=0;e<this.radioGroup.length;e++)if(this.radioGroup[e].value===t){this.radioGroup[e].checked=!0,this.value=t,this.onChange();break}}}])&&Hl(n.prototype,s),l}(Sn);function yo(o){return(yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Ul(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Gl(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function on(o,n,s){return(on=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=ue(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function go(o,n){return(go=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Wl(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=ue(o);if(n){var l=ue(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Jl(this,s)}}function Jl(o,n){return!n||yo(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function ue(o){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Ql=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&go(t,e)})(l,o);var n,s,i=Wl(l);function l(){return Ul(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e,r){var c=on(ue(l.prototype),"setValue",this).call(this,t,e,r);c!==void 0&&c.changed&&this.sceditor_instance&&this.sceditor_instance.val(c.value)}},{key:"build",value:function(){this.options.format="textarea",on(ue(l.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var t=this;if(window.sceditor){var e=this.expandCallbacks("sceditor",w({},{format:this.input_type,emoticonsEnabled:!1,width:"100%",height:300,readOnly:this.schema.readOnly||this.schema.readonly||this.schema.template},this.defaults.options.sceditor||{},this.options.sceditor||{},{element:this.input})),r=window.sceditor.instance(this.input);r===void 0&&window.sceditor.create(this.input,e),this.sceditor_instance=r||window.sceditor.instance(this.input),this.sceditor_instance.blur(function(){t.value=t.sceditor_instance.val(),t.sceditor_instance.updateOriginal(),t.is_dirty=!0,t.onChange(!0)}),this.theme.afterInputReady(this.input)}else on(ue(l.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.sceditor_instance&&this.sceditor_instance.readOnly(!1),on(ue(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.sceditor_instance&&this.sceditor_instance.readOnly(!0),on(ue(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.sceditor_instance&&(this.sceditor_instance.destroy(),this.sceditor_instance=null),on(ue(l.prototype),"destroy",this).call(this)}}])&&Gl(n.prototype,s),l}(K);function vo(o){return(vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Yl(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Zl(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function _n(o,n,s){return(_n=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=ke(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function bo(o,n){return(bo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Xl(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=ke(o);if(n){var l=ke(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Kl(this,s)}}function Kl(o,n){return!n||vo(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function ke(o){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var tu=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bo(t,e)})(l,o);var n,s,i=Xl(l);function l(){return Yl(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e){if(this.select2_instance){e?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0);var r=this.updateValue(t);this.input.value=r,this.select2v4?this.select2_instance.val(r).trigger("change"):this.select2_instance.select2("val",r),this.onChange(!0)}else _n(ke(l.prototype),"setValue",this).call(this,t,e)}},{key:"afterInputReady",value:function(){var t=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&!this.select2_instance){var e=this.expandCallbacks("select2",w({},this.defaults.options.select2||{},this.options.select2||{}));this.newEnumAllowed=e.tags=!!e.tags&&this.schema.type==="string",this.select2_instance=window.jQuery(this.input).select2(e),this.select2v4=E(this.select2_instance.select2,"amd"),this.selectChangeHandler=function(){var r=t.select2v4?t.select2_instance.val():t.select2_instance.select2("val");t.updateValue(r),t.onChange(!0)},this.select2_instance.on("change",this.selectChangeHandler),this.select2_instance.on("select2-blur",this.selectChangeHandler)}_n(ke(l.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){var e=this.enum_values[0];return t=this.typecast(t||""),this.enum_values.includes(t)?e=t:this.newEnumAllowed&&(e=this.addNewOption(t)?t:e),this.value=e,e}},{key:"addNewOption",value:function(t){var e,r=this.typecast(t),c=!1;return this.enum_values.includes(r)||r===""||(this.enum_options.push("".concat(r)),this.enum_display.push("".concat(r)),this.enum_values.push(r),this.schema.enum.push(r),(e=this.input.querySelector('option[value="'.concat(r,'"]')))?e.removeAttribute("data-select2-tag"):this.input.appendChild(new Option(r,r,!1,!1)).trigger("change"),c=!0),c}},{key:"enable",value:function(){this.always_disabled||this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!1):this.select2_instance.select2("enable",!0)),_n(ke(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!0):this.select2_instance.select2("enable",!1)),_n(ke(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.select2_instance&&(this.select2_instance.select2("destroy"),this.select2_instance=null),_n(ke(l.prototype),"destroy",this).call(this)}}])&&Zl(n.prototype,s),l}(Sn);function _o(o){return(_o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function eu(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function nu(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function sn(o,n,s){return(sn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=he(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function wo(o,n){return(wo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function ru(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=he(o);if(n){var l=he(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return iu(this,s)}}function iu(o,n){return!n||_o(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function he(o){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var ou=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)})(l,o);var n,s,i=ru(l);function l(){return eu(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e){if(this.selectize_instance){e?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0);var r=this.updateValue(t);this.input.value=r,this.selectize_instance.clear(!0),this.selectize_instance.setValue(r),this.onChange(!0)}else sn(he(l.prototype),"setValue",this).call(this,t,e)}},{key:"afterInputReady",value:function(){var t=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&!this.selectize_instance){var e=this.expandCallbacks("selectize",w({},this.defaults.options.selectize||{},this.options.selectize||{}));this.newEnumAllowed=e.create=!!e.create&&this.schema.type==="string",this.selectize_instance=window.jQuery(this.input).selectize(e)[0].selectize,this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=function(r){t.updateValue(r),t.onChange(!0)},this.selectize_instance.on("change",this.multiselectChangeHandler)}sn(he(l.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){var e=this.enum_values[0];return t=this.typecast(t||""),this.enum_values.includes(t)?e=t:this.newEnumAllowed&&(e=this.addNewOption(t)?t:e),this.value=e,e}},{key:"addNewOption",value:function(t){var e=this.typecast(t),r=!1;return this.enum_values.includes(e)||e===""||(this.enum_options.push("".concat(e)),this.enum_display.push("".concat(e)),this.enum_values.push(e),this.schema.enum.push(e),this.selectize_instance.addItem(e),this.selectize_instance.refreshOptions(!1),r=!0),r}},{key:"onWatchedFieldChange",value:function(){var t=this;sn(he(l.prototype),"onWatchedFieldChange",this).call(this),this.selectize_instance&&(this.selectize_instance.clear(!0),this.selectize_instance.clearOptions(!0),this.enum_options.forEach(function(e,r){t.selectize_instance.addOption({value:e,text:t.enum_display[r]})}),this.selectize_instance.addItem("".concat(this.value),!0))}},{key:"enable",value:function(){!this.always_disabled&&this.selectize_instance&&this.selectize_instance.unlock(),sn(he(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.selectize_instance&&this.selectize_instance.lock(),sn(he(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.selectize_instance&&(this.selectize_instance.destroy(),this.selectize_instance=null),sn(he(l.prototype),"destroy",this).call(this)}}])&&nu(n.prototype,s),l}(Sn);function ko(o){return(ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function su(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function au(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function xo(o,n){return(xo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function cu(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Tr(o);if(n){var l=Tr(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return lu(this,s)}}function lu(o,n){return!n||ko(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Tr(o){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var uu=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xo(t,e)})(l,o);var n,s,i=cu(l);function l(){return su(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"build",value:function(){var t=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description)));var e=this.formname.replace(/\W/g,"");if(typeof SignaturePad=="function"){this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input);var r=document.createElement("div");r.classList.add("signature-container");var c=document.createElement("canvas");this.jsoneditor.options.use_name_attributes&&c.setAttribute("name",e),c.classList.add("signature"),r.appendChild(c),this.signaturePad=new window.SignaturePad(c,{onEnd:function(){this.signaturePad.isEmpty()?this.input.value="":this.input.value=this.signaturePad.toDataURL(),this.is_dirty=!0,this.refreshValue(),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path),this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange()}});var p=document.createElement("div"),b=document.createElement("button");b.classList.add("tiny","button"),b.innerHTML="Clear signature",p.appendChild(b),r.appendChild(p),this.options.compact&&this.container.setAttribute("class","".concat(this.container.getAttribute("class")," compact")),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),Array.from(this.inputs).forEach(function(P){c.setAttribute("readOnly","readOnly"),P.disabled=!0})),b.addEventListener("click",function(P){P.preventDefault(),P.stopPropagation(),t.signaturePad.clear(),t.signaturePad.strokeEnd()}),this.control=this.theme.getFormControl(this.label,r,this.description),this.container.appendChild(this.control),this.refreshValue(),c.width=r.offsetWidth,this.options&&this.options.canvas_height?c.height=this.options.canvas_height:c.height="300"}else{var k=document.createElement("p");k.innerHTML="Signature pad is not available, please include SignaturePad from https://github.com/szimek/signature_pad",this.container.appendChild(k)}}},{key:"setValue",value:function(t){if(typeof SignaturePad=="function"){var e=this.sanitize(t);return this.value===e?void 0:(this.value=e,this.input.value=this.value,this.signaturePad.clear(),t&&t!==""&&this.signaturePad.fromDataURL(t),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path),!1)}}},{key:"destroy",value:function(){this.signaturePad.off(),delete this.signaturePad}}])&&au(n.prototype,s),l}(K);a(179);function jo(o){return(jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function hu(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function du(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function an(o,n,s){return(an=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=de(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Co(o,n){return(Co=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function pu(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=de(o);if(n){var l=de(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return fu(this,s)}}function fu(o,n){return!n||jo(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function de(o){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var mu=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)})(l,o);var n,s,i=pu(l);function l(){return hu(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"setValue",value:function(t,e,r){var c=an(de(l.prototype),"setValue",this).call(this,t,e,r);c!==void 0&&c.changed&&this.simplemde_instance&&this.simplemde_instance.value(c.value)}},{key:"build",value:function(){this.options.format="textarea",an(de(l.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var t,e=this;window.SimpleMDE?(t=this.expandCallbacks("simplemde",w({},{height:300},this.defaults.options.simplemde||{},this.options.simplemde||{},{element:this.input})),this.simplemde_instance=new window.SimpleMDE(t),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.simplemde_instance.codemirror.options.readOnly=!0),this.simplemde_instance.codemirror.on("change",function(){e.value=e.simplemde_instance.value(),e.is_dirty=!0,e.onChange(!0)}),t.autorefresh&&this.startListening(this.simplemde_instance.codemirror,this.simplemde_instance.codemirror.state.autoRefresh={delay:250}),this.theme.afterInputReady(this.input)):an(de(l.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.simplemde_instance&&(this.simplemde_instance.codemirror.options.readOnly=!1),an(de(l.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.simplemde_instance&&(this.simplemde_instance.codemirror.options.readOnly=!0),an(de(l.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.simplemde_instance&&(this.simplemde_instance.toTextArea(),this.simplemde_instance=null),an(de(l.prototype),"destroy",this).call(this)}},{key:"startListening",value:function(t,e){function r(){t.display.wrapper.offsetHeight?(this.stopListening(t,e),t.display.lastWrapHeight!==t.display.wrapper.clientHeight&&t.refresh()):e.timeout=window.setTimeout(r,e.delay)}e.timeout=window.setTimeout(r,e.delay),e.hurry=function(){window.clearTimeout(e.timeout),e.timeout=window.setTimeout(r,50)},t.on(window,"mouseup",e.hurry),t.on(window,"keyup",e.hurry)}},{key:"stopListening",value:function(t,e){window.clearTimeout(e.timeout),t.off(window,"mouseup",e.hurry),t.off(window,"keyup",e.hurry)}}])&&du(n.prototype,s),l}(K);function Oo(o){return(Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function yu(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function gu(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Eo(o,n,s){return(Eo=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=In(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function So(o,n){return(So=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function vu(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=In(o);if(n){var l=In(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return bu(this,s)}}function bu(o,n){return!n||Oo(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function In(o){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Po=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&So(t,e)})(l,o);var n,s,i=vu(l);function l(){return yu(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"build",value:function(){var t=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.ratingContainer=document.createElement("div"),this.ratingContainer.classList.add("starrating"),this.schema.enum===void 0){var e=this.schema.maximum?this.schema.maximum:5;this.schema.exclusiveMaximum&&e--,this.enum_values=[];for(var r=0;r<e;r++)this.enum_values.push(r+1)}else this.enum_values=this.schema.enum;this.radioGroup=[];for(var c=function(U){U.preventDefault(),U.stopPropagation(),t.setValue(U.currentTarget.value),t.onChange(!0)},p=this.enum_values.length-1;p>-1;p--){var b=this.formname+(p+1),k=this.theme.getFormInputField("radio");k.name="".concat(this.formname,"[starrating]"),k.value=this.enum_values[p],k.id=b,k.addEventListener("change",c,!1),this.radioGroup.push(k);var P=document.createElement("label");P.htmlFor=b,P.title=this.enum_values[p],this.options.displayValue&&P.classList.add("starrating-display-enabled"),this.ratingContainer.appendChild(k),this.ratingContainer.appendChild(P)}if(this.options.displayValue&&(this.displayRating=document.createElement("div"),this.displayRating.classList.add("starrating-display"),this.displayRating.innerText=this.enum_values[0],this.ratingContainer.appendChild(this.displayRating)),this.schema.readOnly||this.schema.readonly){this.disable(!0);for(var N=0;N<this.radioGroup.length;N++)this.radioGroup[N].disabled=!0;this.ratingContainer.classList.add("readonly")}var z=this.theme.getContainer();z.appendChild(this.ratingContainer),this.input=z,this.control=this.theme.getFormControl(this.label,z,this.description,this.infoButton),this.container.appendChild(this.control),this.refreshValue()}},{key:"enable",value:function(){if(!this.always_disabled){for(var t=0;t<this.radioGroup.length;t++)this.radioGroup[t].disabled=!1;this.ratingContainer.classList.remove("readonly"),this.disabled=!1}}},{key:"disable",value:function(t){t&&(this.always_disabled=!0);for(var e=0;e<this.radioGroup.length;e++)this.radioGroup[e].disabled=!0;this.ratingContainer.classList.add("readonly"),this.disabled=!0}},{key:"destroy",value:function(){this.ratingContainer.parentNode&&this.ratingContainer.parentNode.parentNode&&this.ratingContainer.parentNode.parentNode.removeChild(this.ratingContainer.parentNode),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),Eo(In(l.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.schema.type==="integer"?this.value===""?void 0:1*this.value:this.value}},{key:"setValue",value:function(t){for(var e=0;e<this.radioGroup.length;e++)if(this.radioGroup[e].value==="".concat(t)){this.radioGroup[e].checked=!0,this.value=t,this.options.displayValue&&(this.displayRating.innerHTML=this.value),this.onChange(!0);break}}}])&&gu(n.prototype,s),l}(K);function To(o){return(To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function _u(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function wu(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function nr(o,n,s){return(nr=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=cn(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Lo(o,n){return(Lo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function ku(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=cn(o);if(n){var l=cn(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return xu(this,s)}}function xu(o,n){return!n||To(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function cn(o){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}Po.rules={".starrating":"direction:rtl;display:inline-block;white-space:nowrap",".starrating > input":"display:none",".starrating > label:before":"content:'%5C2606';margin:1px;font-size:18px;font-style:normal;font-weight:400;line-height:1;font-family:'Arial';display:inline-block",".starrating > label":"color:%23888;cursor:pointer;margin:8px%200%202px%200",".starrating > label.starrating-display-enabled":"margin:1px%200%200%200",".starrating > input:checked ~ label":"color:%23ffca08",".starrating:not(.readonly) > input:hover ~ label":"color:%23ffca08",".starrating > input:checked ~ label:before":"content:'%5C2605';text-shadow:0%200%201px%20rgba(0%2C20%2C20%2C1)",".starrating:not(.readonly) > input:hover ~ label:before":"content:'%5C2605';text-shadow:0%200%201px%20rgba(0%2C20%2C20%2C1)",".starrating .starrating-display":"position:relative;direction:rtl;text-align:center;font-size:10px;line-height:0px"};var ju=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lo(t,e)})(l,o);var n,s,i=ku(l);function l(){return _u(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"build",value:function(){nr(cn(l.prototype),"build",this).call(this),this.input.setAttribute("type","number"),this.input.getAttribute("step")||this.input.setAttribute("step","1");var t=this.theme.getStepperButtons(this.input);this.control.appendChild(t),this.stepperDown=this.control.querySelector(".stepper-down"),this.stepperUp=this.control.querySelector(".stepper-up")}},{key:"enable",value:function(){nr(cn(l.prototype),"enable",this).call(this),this.stepperDown.removeAttribute("disabled"),this.stepperUp.removeAttribute("disabled")}},{key:"disable",value:function(){nr(cn(l.prototype),"disable",this).call(this),this.stepperDown.setAttribute("disabled",!0),this.stepperUp.setAttribute("disabled",!0)}}])&&wu(n.prototype,s),l}(Xi);function Ro(o){return(Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Cu(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Ou(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function wn(o,n,s){return(wn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=xe(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Ao(o,n){return(Ao=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Eu(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=xe(o);if(n){var l=xe(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Su(this,s)}}function Su(o,n){return!n||Ro(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function xe(o){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Pu=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ao(t,e)})(l,o);var n,s,i=Eu(l);function l(){return Cu(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"register",value:function(){if(wn(xe(l.prototype),"register",this).call(this),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].register()}},{key:"unregister",value:function(){if(wn(xe(l.prototype),"unregister",this).call(this),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].unregister()}},{key:"getNumColumns",value:function(){return Math.max(Math.min(12,this.width),3)}},{key:"preBuild",value:function(){var t=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=t.title||"row",this.item_default=t.default||null,this.item_has_child_editors=t.properties||t.items,this.width=12,this.array_controls_top=this.options.array_controls_top||this.jsoneditor.options.array_controls_top,wn(xe(l.prototype),"preBuild",this).call(this)}},{key:"build",value:function(){this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);var t=this.getElementEditor(0,!0);if(this.item_default=t.getDefault(),this.width=t.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.header=document.createElement("label"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header,this.getPathDepth()),this.container.appendChild(this.title),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText)),this.container.appendChild(this.infoButton)),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.array_controls_top?this.title.appendChild(this.controls):this.panel.appendChild(this.controls),this.item_has_child_editors)for(var e=t.getChildEditors(),r=t.property_order||Object.keys(e),c=0;c<r.length;c++){var p=this.theme.getTableHeaderCell(e[r[c]].getTitle());e[r[c]].options.hidden&&(p.style.display="none"),this.header_row.appendChild(p)}else this.header_row.appendChild(this.theme.getTableHeaderCell(this.item_title));t.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=this.theme.getTableHeaderCell(" "),this.controls_header_cell.setAttribute("aria-hidden","true"),this.header_row.appendChild(this.controls_header_cell),this.addControls()}},{key:"onChildEditorChange",value:function(t){this.refreshValue(),wn(xe(l.prototype),"onChildEditorChange",this).call(this)}},{key:"getItemDefault",value:function(){return w({},{default:this.item_default}).default}},{key:"getItemTitle",value:function(){return this.item_title}},{key:"getElementEditor",value:function(t,e){var r=w({},this.schema.items),c=this.jsoneditor.getEditorClass(r,this.jsoneditor),p=this.row_holder.appendChild(this.theme.getTableRow()),b=p;this.item_has_child_editors||(b=this.theme.getTableCell(),p.appendChild(b));var k=this.jsoneditor.createEditor(c,{jsoneditor:this.jsoneditor,schema:r,container:b,path:"".concat(this.path,".").concat(t),parent:this,compact:!0,table_row:!0});return k.preBuild(),e||(k.build(),k.postBuild(),k.controls_cell=p.appendChild(this.theme.getTableCell()),k.row=p,k.table_controls=this.theme.getButtonHolder(),k.controls_cell.appendChild(k.table_controls),k.table_controls.style.margin=0,k.table_controls.style.padding=0),k}},{key:"destroy",value:function(){this.innerHTML="",this.checkParent(this.title)&&this.title.parentNode.removeChild(this.title),this.checkParent(this.description)&&this.description.parentNode.removeChild(this.description),this.checkParent(this.row_holder)&&this.row_holder.parentNode.removeChild(this.row_holder),this.checkParent(this.table)&&this.table.parentNode.removeChild(this.table),this.checkParent(this.panel)&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,wn(xe(l.prototype),"destroy",this).call(this)}},{key:"ensureArraySize",value:function(t){if(Array.isArray(t)||(t=[t]),this.schema.minItems)for(;t.length<this.schema.minItems;)t.push(this.getItemDefault());return this.schema.maxItems&&t.length>this.schema.maxItems&&(t=t.slice(0,this.schema.maxItems)),t}},{key:"setValue",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;e=this.ensureArraySize(e);var c=JSON.stringify(e);if(c!==this.serialized){var p=!1;e.forEach(function(P,N){t.rows[N]?t.rows[N].setValue(P):(t.addRow(P),p=!0)});for(var b=e.length;b<this.rows.length;b++){var k=this.rows[b].container;this.item_has_child_editors||this.rows[b].row.parentNode.removeChild(this.rows[b].row),this.rows[b].destroy(),k.parentNode&&k.parentNode.removeChild(k),this.rows[b]=null,p=!0}this.rows=this.rows.slice(0,e.length),this.refreshValue(),(p||r)&&this.refreshRowButtons(),this.onChange()}}},{key:"refreshRowButtons",value:function(){var t=this,e=this.schema.minItems&&this.schema.minItems>=this.rows.length,r=this.schema.maxItems&&this.schema.maxItems<=this.rows.length,c=[];this.rows.forEach(function(z,U){if(z.delete_button){var at=!e;t.setVisibility(z.delete_button,at),c.push(at)}if(z.copy_button){var pt=!r;t.setVisibility(z.copy_button,pt),c.push(pt)}if(z.moveup_button){var Ct=U!==0;t.setVisibility(z.moveup_button,Ct),c.push(Ct)}if(z.movedown_button){var ht=U!==t.rows.length-1;t.setVisibility(z.movedown_button,ht),c.push(ht)}});var p=c.some(function(z){return z});this.rows.forEach(function(z){return t.setVisibility(z.controls_cell,p)}),this.setVisibility(this.controls_header_cell,p),this.setVisibility(this.table,this.value.length);var b=!(r||this.hide_add_button);this.setVisibility(this.add_row_button,b);var k=!(!this.value.length||e||this.hide_delete_last_row_buttons);this.setVisibility(this.delete_last_row_button,k);var P=!(this.value.length<=1||e||this.hide_delete_all_rows_buttons);this.setVisibility(this.remove_all_rows_button,P);var N=b||k||P;this.setVisibility(this.controls,N)}},{key:"refreshValue",value:function(){var t=this;this.value=[],this.rows.forEach(function(e,r){t.value[r]=e.getValue()}),this.serialized=JSON.stringify(this.value)}},{key:"addRow",value:function(t){var e=this.rows.length;this.rows[e]=this.getElementEditor(e);var r=this.rows[e].table_controls;return this.hide_delete_buttons||(this.rows[e].delete_button=this._createDeleteButton(e,r)),this.show_copy_button&&(this.rows[e].copy_button=this._createCopyButton(e,r)),this.hide_move_buttons||(this.rows[e].moveup_button=this._createMoveUpButton(e,r)),this.hide_move_buttons||(this.rows[e].movedown_button=this._createMoveDownButton(e,r)),t!==void 0&&this.rows[e].setValue(t),this.rows[e]}},{key:"_createDeleteButton",value:function(t,e){var r=this,c=this.getButton("","delete","button_delete_row_title_short");return c.classList.add("delete","json-editor-btntype-delete"),c.setAttribute("data-i",t),c.addEventListener("click",function(p){if(p.preventDefault(),p.stopPropagation(),!r.askConfirmation())return!1;var b=1*p.currentTarget.getAttribute("data-i"),k=r.getValue(),P=r.getValue()[b];k.splice(b,1),r.setValue(k),r.onChange(!0),r.jsoneditor.trigger("deleteRow",P)}),e.appendChild(c),c}},{key:"_createCopyButton",value:function(t,e){var r=this,c=this.getButton("","copy","button_copy_row_title_short"),p=this.schema;return c.classList.add("copy","json-editor-btntype-copy"),c.setAttribute("data-i",t),c.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation();var k=1*b.currentTarget.getAttribute("data-i"),P=r.getValue(),N=P[k];p.items.type==="string"&&p.items.format==="uuid"?N=A():p.items.type==="object"&&p.items.properties&&P.forEach(function(z,U){if(k===U)for(var at=0,pt=Object.keys(z);at<pt.length;at++){var Ct=pt[at];p.items.properties&&p.items.properties[Ct]&&p.items.properties[Ct].format==="uuid"&&((N=Object.assign({},P[k]))[Ct]=A())}}),P.splice(k+1,0,N),r.setValue(P),r.onChange(!0),r.jsoneditor.trigger("copyRow",r.rows[k+1])}),e.appendChild(c),c}},{key:"_createMoveUpButton",value:function(t,e){var r=this,c=this.getButton("","moveup","button_move_up_title");return c.classList.add("moveup","json-editor-btntype-move"),c.setAttribute("data-i",t),c.addEventListener("click",function(p){p.preventDefault(),p.stopPropagation();var b=1*p.currentTarget.getAttribute("data-i"),k=r.getValue();k.splice(b-1,0,k.splice(b,1)[0]),r.setValue(k),r.onChange(!0),r.jsoneditor.trigger("moveRow",r.rows[b-1])}),e.appendChild(c),c}},{key:"_createMoveDownButton",value:function(t,e){var r=this,c=this.getButton("","movedown","button_move_down_title");return c.classList.add("movedown","json-editor-btntype-move"),c.setAttribute("data-i",t),c.addEventListener("click",function(p){p.preventDefault(),p.stopPropagation();var b=1*p.currentTarget.getAttribute("data-i"),k=r.getValue();k.splice(b+1,0,k.splice(b,1)[0]),r.setValue(k),r.onChange(!0),r.jsoneditor.trigger("moveRow",r.rows[b+1])}),e.appendChild(c),c}},{key:"addControls",value:function(){var t=this;this.collapsed=!1,this.toggle_button=this._createToggleButton(),this.title_controls&&(this.title.insertBefore(this.toggle_button,this.title.childNodes[0]),this.toggle_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.setVisibility(t.panel,t.collapsed),t.collapsed?(t.collapsed=!1,t.setButtonText(e.currentTarget,"","collapse","button_collapse")):(t.collapsed=!0,t.setButtonText(e.currentTarget,"","expand","button_expand"))}),this.options.collapsed&&x(this.toggle_button,"click"),this.schema.options&&this.schema.options.disable_collapse!==void 0?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this._createAddRowButton(),this.delete_last_row_button=this._createDeleteLastRowButton(),this.remove_all_rows_button=this._createRemoveAllRowsButton()}},{key:"_createToggleButton",value:function(){var t=this.getButton("","collapse","button_collapse");return t.classList.add("json-editor-btntype-toggle"),t}},{key:"_createAddRowButton",value:function(){var t=this,e=this.getButton(this.getItemTitle(),"add","button_add_row_title",[this.getItemTitle()]);return e.classList.add("json-editor-btntype-add"),e.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation();var c=t.addRow();t.refreshValue(),t.refreshRowButtons(),t.onChange(!0),t.jsoneditor.trigger("addRow",c)}),this.controls.appendChild(e),e}},{key:"_createDeleteLastRowButton",value:function(){var t=this,e=this.getButton("button_delete_last","subtract","button_delete_last_title",[this.getItemTitle()]);return e.classList.add("json-editor-btntype-deletelast"),e.addEventListener("click",function(r){if(r.preventDefault(),r.stopPropagation(),!t.askConfirmation())return!1;var c=t.getValue(),p=c.pop();t.setValue(c),t.onChange(!0),t.jsoneditor.trigger("deleteRow",p)}),this.controls.appendChild(e),e}},{key:"_createRemoveAllRowsButton",value:function(){var t=this,e=this.getButton("button_delete_all","delete","button_delete_all_title");return e.classList.add("json-editor-btntype-deleteall"),e.addEventListener("click",function(r){if(r.preventDefault(),r.stopPropagation(),!t.askConfirmation())return!1;var c=t.getValue();t.setValue([]),t.onChange(!0),t.jsoneditor.trigger("deleteAllRows",c)}),this.controls.appendChild(e),e}}])&&Ou(n.prototype,s),l}(At);a(112);function Io(o){return(Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Tu(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Lu(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function rr(o,n,s){return(rr=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=ln(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Bo(o,n){return(Bo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Ru(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=ln(o);if(n){var l=ln(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Au(this,s)}}function Au(o,n){return!n||Io(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function ln(o){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}function No(o){return(No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Iu(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Bu(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function ir(o,n,s){return(ir=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=un(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Fo(o,n){return(Fo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Nu(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=un(o);if(n){var l=un(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Fu(this,s)}}function Fu(o,n){return!n||No(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function un(o){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}function Do(o){return(Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Du(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Mu(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function kn(o,n,s){return(kn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=je(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Mo(o,n){return(Mo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Vu(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=je(o);if(n){var l=je(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Hu(this,s)}}function Hu(o,n){return!n||Do(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function je(o){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var or={ace:_t,array:At,arrayChoices:ot,arraySelect2:Qt,arraySelectize:oc,autocomplete:uc,base64:mc,button:Ti,checkbox:xc,choices:Fi,datetime:Nc,describedBy:Hc,enum:Wc,hidden:Xc,info:rl,integer:Xi,ip:yl,jodit:wl,multiple:Ll,multiselect:Wt,null:Nl,number:Qi,object:po,radio:ql,sceditor:Ql,select:Sn,select2:tu,selectize:ou,signature:uu,simplemde:mu,starrating:Po,stepper:ju,string:K,table:Pu,upload:function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bo(t,e)})(l,o);var n,s,i=Ru(l);function l(){return Tu(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"getNumColumns",value:function(){return 4}},{key:"build",value:function(){var t=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.hidden&&(this.container.style.display="none"),this.options=this.expandCallbacks("upload",w({},{title:"Browse",icon:"",auto_upload:!1,hide_input:!1,enable_drag_drop:!1,drop_zone_text:"Drag & Drop file here",drop_zone_top:!1,alt_drop_zone:"",mime_type:"",max_upload_size:0,upload_handler:function(c,p,b,k){window.alert('No upload_handler defined for "'.concat(c.path,'". You must create your own handler to enable upload to server'))}},this.defaults.options.upload||{},this.options.upload||{})),this.options.mime_type=this.options.mime_type?[].concat(this.options.mime_type):[],this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(typeof this.options.upload_handler!="function")throw new Error("Upload handler required for upload editor");if(this.uploader=this.theme.getFormInputField("file"),this.uploader.style.display="none",this.options.mime_type.length&&this.uploader.setAttribute("accept",this.options.mime_type),this.options.enable_drag_drop===!0&&this.options.hide_input===!0||(this.clickHandler=function(c){t.uploader.dispatchEvent(new window.MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))},this.browseButton=this.getButton(this.options.title,this.options.icon,this.options.title),this.browseButton.addEventListener("click",this.clickHandler),this.fileDisplay=this.theme.getFormInputField("input"),this.fileDisplay.setAttribute("readonly",!0),this.fileDisplay.value="No file selected.",this.fileDisplay.addEventListener("dblclick",this.clickHandler),this.fileUploadGroup=this.theme.getInputGroup(this.fileDisplay,[this.browseButton]),this.fileUploadGroup||(this.fileUploadGroup=document.createElement("div"),this.fileUploadGroup.appendChild(this.fileDisplay),this.fileUploadGroup.appendChild(this.browseButton))),this.options.enable_drag_drop===!0){if(this.options.alt_drop_zone!==""){if(this.altDropZone=document.querySelector(this.options.alt_drop_zone),!this.altDropZone)throw new Error('Error: alt_drop_zone selector "'.concat(this.options.alt_drop_zone,'" not found!'));this.dropZone=this.altDropZone}else this.dropZone=this.theme.getDropZone(this.options.drop_zone_text);this.dropZone&&(this.dropZone.classList.add("upload-dropzone"),this.dropZone.addEventListener("dblclick",this.clickHandler))}this.uploadHandler=function(c){c.preventDefault(),c.stopPropagation();var p=c.target.files||c.dataTransfer.files;if(p&&p.length)if(t.options.max_upload_size!==0&&p[0].size>t.options.max_upload_size)t.theme.addInputError(t.uploader,"".concat(t.translate("upload_max_size")," ").concat(t.options.max_upload_size));else if(t.options.mime_type.length===0||t.isValidMimeType(p[0].type,t.options.mime_type)){t.fileDisplay&&(t.fileDisplay.value=p[0].name);var b=new window.FileReader;b.onload=function(k){t.preview_value=k.target.result,t.refreshPreview(p),t.onChange(!0),b=null},b.readAsDataURL(p[0])}else t.theme.addInputError(t.uploader,"".concat(t.translate("upload_wrong_file_format")," ").concat(t.options.mime_type.toString()))},this.uploader.addEventListener("change",this.uploadHandler),this.dragHandler=function(c){var p=c.dataTransfer.items||c.dataTransfer.files,b=p&&p.length&&(t.options.mime_type.length===0||t.isValidMimeType(p[0].type,t.options.mime_type)),k=c.currentTarget.classList&&c.currentTarget.classList.contains("upload-dropzone")&&b;switch((c.currentTarget===window?"w_":"e_")+c.type){case"w_drop":case"w_dragover":k||(c.dataTransfer.dropEffect="none");break;case"e_dragenter":k?(t.dropZone.classList.add("valid-dropzone"),c.dataTransfer.dropEffect="copy"):t.dropZone.classList.add("invalid-dropzone");break;case"e_dragover":k&&(c.dataTransfer.dropEffect="copy");break;case"e_dragleave":t.dropZone.classList.remove("valid-dropzone","invalid-dropzone");break;case"e_drop":t.dropZone.classList.remove("valid-dropzone","invalid-dropzone"),k&&t.uploadHandler(c)}k||c.preventDefault()},this.options.enable_drag_drop===!0&&(["dragover","drop"].forEach(function(c){window.addEventListener(c,t.dragHandler,!0)}),["dragenter","dragover","dragleave","drop"].forEach(function(c){t.dropZone.addEventListener(c,t.dragHandler,!0)}))}this.preview=document.createElement("div"),this.control=this.input.controlgroup=this.theme.getFormControl(this.label,this.uploader||this.input,this.description,this.infoButton),this.uploader&&(this.uploader.controlgroup=this.control);var e=this.uploader||this.input,r=document.createElement("div");this.dropZone&&!this.altDropZone&&this.options.drop_zone_top===!0&&r.appendChild(this.dropZone),this.fileUploadGroup&&r.appendChild(this.fileUploadGroup),this.dropZone&&!this.altDropZone&&this.options.drop_zone_top!==!0&&r.appendChild(this.dropZone),r.appendChild(this.preview),e.parentNode.insertBefore(r,e.nextSibling),this.container.appendChild(this.control),window.requestAnimationFrame(function(){t.afterInputReady()})}},{key:"afterInputReady",value:function(){var t=this;if(this.value){var e=document.createElement("img");e.style.maxWidth="100%",e.style.maxHeight="100px",e.onload=function(r){t.preview.appendChild(e)},e.onerror=function(r){console.error("upload error",r,r.currentTarget)},e.src=this.container.querySelector("a").href}this.theme.afterInputReady(this.input)}},{key:"refreshPreview",value:function(t){var e=this;if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var r=t[0],c=this.preview_value.match(/^data:([^;,]+)[;,]/);if(r.mimeType=c?c[1]:"unknown",r.size>0){var p=Math.floor(Math.log(r.size)/Math.log(1024));r.formattedSize="".concat(parseFloat((r.size/Math.pow(1024,p)).toFixed(2))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][p])}else r.formattedSize="0 Bytes";var b=this.getButton("button_upload","upload","button_upload");b.addEventListener("click",function(k){k.preventDefault(),b.setAttribute("disabled","disabled"),e.theme.removeInputError(e.uploader),e.theme.getProgressBar&&(e.progressBar=e.theme.getProgressBar(),e.preview.appendChild(e.progressBar)),e.options.upload_handler(e.path,r,{success:function(P){e.setValue(P),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange(),e.progressBar&&e.preview.removeChild(e.progressBar),b.removeAttribute("disabled")},failure:function(P){e.theme.addInputError(e.uploader,P),e.progressBar&&e.preview.removeChild(e.progressBar),b.removeAttribute("disabled")},updateProgress:function(P){e.progressBar&&(P?e.theme.updateProgressBar(e.progressBar,P):e.theme.updateProgressBarUnknown(e.progressBar))}})}),this.preview.appendChild(this.theme.getUploadPreview(r,b,this.preview_value)),this.options.auto_upload&&(b.dispatchEvent(new window.MouseEvent("click")),b.parentNode.removeChild(b))}}},{key:"enable",value:function(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),rr(ln(l.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),rr(ln(l.prototype),"disable",this).call(this)}},{key:"setValue",value:function(t){this.value!==t&&(this.value=t,this.input.value=this.value,this.onChange())}},{key:"destroy",value:function(){var t=this;this.options.enable_drag_drop===!0&&(["dragover","drop"].forEach(function(e){window.removeEventListener(e,t.dragHandler,!0)}),["dragenter","dragover","dragleave","drop"].forEach(function(e){t.dropZone.removeEventListener(e,t.dragHandler,!0)}),this.dropZone.removeEventListener("dblclick",this.clickHandler),this.dropZone&&this.dropZone.parentNode&&this.dropZone.parentNode.removeChild(this.dropZone)),this.uploader&&this.uploader.parentNode&&(this.uploader.removeEventListener("change",this.uploadHandler),this.uploader.parentNode.removeChild(this.uploader)),this.browseButton&&this.browseButton.parentNode&&(this.browseButton.removeEventListener("click",this.clickHandler),this.browseButton.parentNode.removeChild(this.browseButton)),this.fileDisplay&&this.fileDisplay.parentNode&&(this.fileDisplay.removeEventListener("dblclick",this.clickHandler),this.fileDisplay.parentNode.removeChild(this.fileDisplay)),this.fileUploadGroup&&this.fileUploadGroup.parentNode&&this.fileUploadGroup.parentNode.removeChild(this.fileUploadGroup),this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.header&&this.header.parentNode&&this.header.parentNode.removeChild(this.header),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),rr(ln(l.prototype),"destroy",this).call(this)}},{key:"isValidMimeType",value:function(t,e){return e.reduce(function(r,c){return r||new RegExp(c.replace(/\*/g,".*"),"gi").test(t)},!1)}}])&&Lu(n.prototype,s),l}(R),uuid:function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fo(t,e)})(l,o);var n,s,i=Nu(l);function l(){return Iu(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"preBuild",value:function(){ir(un(l.prototype),"preBuild",this).call(this),this.schema.default=this.uuid=this.getUuid(),this.schema.options||(this.schema.options={}),this.schema.options.cleave||(this.schema.options.cleave={delimiters:["-"],blocks:[8,4,4,4,12]})}},{key:"build",value:function(){ir(un(l.prototype),"build",this).call(this),this.disable(!0),this.input.setAttribute("readonly","true")}},{key:"sanitize",value:function(t){return this.testUuid(t)||(t=this.uuid),t}},{key:"setValue",value:function(t,e,r){this.testUuid(t)||(t=this.uuid),this.uuid=t,ir(un(l.prototype),"setValue",this).call(this,t,e,r)}},{key:"getUuid",value:function(){return A()}},{key:"testUuid",value:function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}}])&&Bu(n.prototype,s),l}(K),colorpicker:function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mo(t,e)})(l,o);var n,s,i=Vu(l);function l(){return Du(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"postBuild",value:function(){window.Picker&&(this.input.type="text"),this.input.style.padding="3px"}},{key:"setValue",value:function(t,e,r){var c=kn(je(l.prototype),"setValue",this).call(this,t,e,r);return this.picker_instance&&this.picker_instance.domElement&&c&&c.changed&&this.picker_instance.setColor(c.value,!0),c}},{key:"getNumColumns",value:function(){return 2}},{key:"afterInputReady",value:function(){kn(je(l.prototype),"afterInputReady",this).call(this),this.createPicker(!0)}},{key:"disable",value:function(){if(kn(je(l.prototype),"disable",this).call(this),this.picker_instance&&this.picker_instance.domElement){this.picker_instance.domElement.style.pointerEvents="none";for(var t=this.picker_instance.domElement.querySelectorAll("button"),e=0;e<t.length;e++)t[e].disabled=!0}}},{key:"enable",value:function(){if(kn(je(l.prototype),"enable",this).call(this),this.picker_instance&&this.picker_instance.domElement){this.picker_instance.domElement.style.pointerEvents="auto";for(var t=this.picker_instance.domElement.querySelectorAll("button"),e=0;e<t.length;e++)t[e].disabled=!1}}},{key:"destroy",value:function(){this.createPicker(!1),kn(je(l.prototype),"destroy",this).call(this)}},{key:"createPicker",value:function(t){var e=this;if(t){if(window.Picker&&!this.picker_instance){var r=this.expandCallbacks("colorpicker",w({},{editor:!1,alpha:!1,color:this.value,popup:"bottom"},this.defaults.options.colorpicker||{},this.options.colorpicker||{},{parent:this.container})),c=function(p){var b=e.picker_instance.settings.editorFormat,k=e.picker_instance.settings.alpha;e.setValue(b==="hex"?k?p.hex:p.hex.slice(0,7):p["".concat(b+(k?"a":""),"String")])};r.popup||typeof r.onChange=="function"?r.popup&&typeof r.onDone!="function"&&(r.onDone=c):r.onChange=c,this.picker_instance=new window.Picker(r),r.popup||(this.input.style.display="none",this.theme.afterInputReady(this.picker_instance.domElement))}}else this.picker_instance&&(this.picker_instance.destroy(),this.picker_instance=null,this.input.style.display="")}}])&&Mu(n.prototype,s),l}(K)};function zu(o,n){return function(s){if(Array.isArray(s))return s}(o)||function(s,i){var l=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(l!=null){var t,e,r=[],c=!0,p=!1;try{for(l=l.call(s);!(c=(t=l.next()).done)&&(r.push(t.value),!i||r.length!==i);c=!0);}catch(b){p=!0,e=b}finally{try{c||l.return==null||l.return()}finally{if(p)throw e}}return r}}(o,n)||function(s,i){if(s){if(typeof s=="string")return Vo(s,i);var l=Object.prototype.toString.call(s).slice(8,-1);if(l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set")return Array.from(s);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Vo(s,i)}}(o,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vo(o,n){(n==null||n>o.length)&&(n=o.length);for(var s=0,i=new Array(n);s<n;s++)i[s]=o[s];return i}var Ho={};Ho.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_const:"Value must be the constant value",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_property_names_exceeds_maxlength:"Property name {{0}} exceeds maxLength",error_property_names_enum_mismatch:"Property name {{0}} does not match any enum values",error_property_names_const_mismatch:"Property name {{0}} does not match the const value",error_property_names_pattern_mismatch:"Property name {{0}} does not match pattern",error_property_names_false:"Property name {{0}} fails when propertyName is false",error_property_names_maxlength:"Property name {{0}} cannot match invalid maxLength",error_property_names_enum:"Property name {{0}} cannot match invalid enum",error_property_names_pattern:"Property name {{0}} cannot match invalid pattern",error_property_names_unsupported:"Unsupported propertyName {{0}}",error_dependency:"Must have property {{0}}",error_date:"Date must be in the format {{0}}",error_time:"Time must be in the format {{0}}",error_datetime_local:"Datetime must be in the format {{0}}",error_invalid_epoch:"Date must be greater than 1 January 1970",error_ipv4:"Value must be a valid IPv4 address in the form of 4 numbers between 0 and 255, separated by dots",error_ipv6:"Value must be a valid IPv6 address",error_hostname:"The hostname has the wrong format",upload_max_size:"Filesize too large. Max size is ",upload_wrong_file_format:"Wrong file format. Allowed format(s): ",button_save:"Save",button_copy:"Copy",button_cancel:"Cancel",button_add:"Add",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_properties:"Properties",button_object_properties:"Object Properties",button_copy_row_title:"Copy {{0}}",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_copy_row_title_short:"Copy",button_collapse:"Collapse",button_expand:"Expand",button_edit_json:"Edit JSON",button_upload:"Upload",flatpickr_toggle_button:"Toggle",flatpickr_clear_button:"Clear",choices_placeholder_text:"Start typing to add value",default_array_item_title:"item",button_delete_node_warning:"Are you sure you want to remove this node?"},Object.entries(or).forEach(function(o){var n=zu(o,2),s=n[0],i=n[1];or[s].options=i.options||{}});var hn={options:{upload:function(o,n,s){console.log("Upload handler required for upload editor")},use_name_attributes:!0,prompt_before_delete:!0,use_default_values:!0,max_depth:0},theme:"html",template:"default",themes:{},callbacks:{},templates:{},iconlibs:{},editors:or,languages:Ho,resolvers:y,custom_validators:[],default_language:"en",language:"en",translate:function(o,n,s){var i={};s&&s.options&&s.options.error_messages&&s.options.error_messages[hn.language]&&(i=s.options.error_messages[hn.language]);var l=hn.languages[hn.language];if(!l)throw new Error("Unknown language ".concat(hn.language));var t=i[o]||l[o]||hn.languages.en[o]||o;if(n)for(var e=0;e<n.length;e++)t=t.replace(new RegExp("\\{\\{".concat(e,"}}"),"g"),n[e]);return t},translateProperty:function(o,n){return o}};a(181);function zo(o,n,s,i,l,t,e){try{var r=o[t](e),c=r.value}catch(p){return void s(p)}r.done?n(c):Promise.resolve(c).then(i,l)}function $o(o){return function(){var n=this,s=arguments;return new Promise(function(i,l){var t=o.apply(n,s);function e(c){zo(t,i,l,e,r,"next",c)}function r(c){zo(t,i,l,e,r,"throw",c)}e(void 0)})}}function dn(o,n){return function(s){if(Array.isArray(s))return s}(o)||function(s,i){var l=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(l!=null){var t,e,r=[],c=!0,p=!1;try{for(l=l.call(s);!(c=(t=l.next()).done)&&(r.push(t.value),!i||r.length!==i);c=!0);}catch(b){p=!0,e=b}finally{try{c||l.return==null||l.return()}finally{if(p)throw e}}return r}}(o,n)||function(s,i){if(s){if(typeof s=="string")return qo(s,i);var l=Object.prototype.toString.call(s).slice(8,-1);if(l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set")return Array.from(s);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return qo(s,i)}}(o,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qo(o,n){(n==null||n>o.length)&&(n=o.length);for(var s=0,i=new Array(n);s<n;s++)i[s]=o[s];return i}function Zt(o){return(Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function $u(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}var qu=function(){function o(t){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,o),this.options=t||{},this.schema={},this.refs=this.options.refs||{},this.refs_with_info={},this.refs_prefix="#/counter/",this.refs_counter=1,this._subSchema1={type:function(e){Zt(e.type)==="object"&&(e.type=this._expandSubSchema(e.type))},disallow:function(e){Zt(e.disallow)==="object"&&(e.disallow=this._expandSubSchema(e.disallow))},anyOf:function(e){var r=this;Object.entries(e.anyOf).forEach(function(c){var p=dn(c,2),b=p[0],k=p[1];e.anyOf[b]=r.expandSchema(k)})},dependencies:function(e){var r=this;Object.entries(e.dependencies).forEach(function(c){var p=dn(c,2),b=p[0],k=p[1];Zt(k)!=="object"||Array.isArray(k)||(e.dependencies[b]=r.expandSchema(k))})},not:function(e){e.not=this.expandSchema(e.not)}},this._subSchema2={allOf:function(e,r){var c=this,p=w({},r);return Object.entries(e.allOf).forEach(function(b){var k=dn(b,2),P=k[0],N=k[1];e.allOf[P]=c.expandRefs(N,!0),p=c.extendSchemas(p,c.expandSchema(N))}),delete p.allOf,p},extends:function(e,r){var c,p=this;return delete(c=Array.isArray(e.extends)?e.extends.reduce(function(b,k,P){return p.extendSchemas(b,p.expandSchema(k))},r):this.extendSchemas(r,this.expandSchema(e.extends))).extends,c},oneOf:function(e,r){var c=this,p=w({},r);return delete p.oneOf,e.oneOf.reduce(function(b,k,P){return b.oneOf[P]=c.extendSchemas(c.expandSchema(k),p),b},r),r}}}var n,s,i,l;return n=o,(s=[{key:"load",value:(l=$o(regeneratorRuntime.mark(function t(e,r,c){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this.schema=e,p.next=3,this._asyncloadExternalRefs(e,r,this._getFileBase(c),!0);case 3:return p.abrupt("return",this.expandRefs(e));case 4:case"end":return p.stop()}},t,this)})),function(t,e,r){return l.apply(this,arguments)})},{key:"expandRefs",value:function(t,e){var r=this,c=w({},t);if(!c.$ref)return c;var p=c.$ref.split("#");if(p.length===2&&!this.refs_with_info[c.$ref]){var b=this.expandRecursivePointer(this.schema,p[1]);return this.extendSchemas(c,this.expandSchema(b))}var k=p.length>2?this.refs_with_info["#"+p[1]]:this.refs_with_info[c.$ref];delete c.$ref;var P=k.$ref.startsWith("#")?k.fetchUrl:"",N=this._getRef(P,k);if(this.refs[N]){if(e&&E(this.refs[N],"allOf")){var z=this.refs[N].allOf;Object.keys(z).forEach(function(U){z[U]=r.expandRefs(z[U],!0)})}}else console.warn("reference:'".concat(N,"' not found!"));return p.length>2?this.extendSchemas(c,this.expandSchema(this.expandRecursivePointer(this.refs[N],p[2]))):this.extendSchemas(c,this.expandSchema(this.refs[N]))}},{key:"expandRecursivePointer",value:function(t,e){var r=t;return e.split("/").slice(1).forEach(function(c){r[c]&&(r=r[c])}),r.$refs&&r.$refs.startsWith("#")?this.expandRecursivePointer(t,r.$refs):r}},{key:"expandSchema",value:function(t){var e=this;Object.entries(this._subSchema1).forEach(function(c){var p=dn(c,2),b=p[0],k=p[1];t[b]&&k.call(e,t)});var r=w({},t);return Object.entries(this._subSchema2).forEach(function(c){var p=dn(c,2),b=p[0],k=p[1];t[b]&&(r=k.call(e,t,r))}),this.expandRefs(r)}},{key:"_getRef",value:function(t,e){var r=t+e;return this.refs[r]?r:t+decodeURIComponent(e.$ref)}},{key:"_expandSubSchema",value:function(t){var e=this;return Array.isArray(t)?t.map(function(r){return Zt(r)==="object"?e.expandSchema(r):r}):this.expandSchema(t)}},{key:"_manageRecursivePointer",value:function(t,e){Object.keys(t).forEach(function(r){t[r].$ref&&t[r].$ref.indexOf("#")===0&&(t[r].$ref=e+t[r].$ref)})}},{key:"_getExternalRefs",value:function(t,e){var r=this,c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];c||this._manageRecursivePointer(t,e);var p={},b=function(U){return Object.keys(U).forEach(function(at){p[at]=!0})};if(t.$ref&&Zt(t.$ref)!=="object"&&(t.$ref.indexOf("#")!==0||!c)){var k=t.$ref,P="";k.indexOf("#")>0&&(k=k.substr(0,k.indexOf("#"))),k!==t.$ref&&(P=t.$ref.substr(t.$ref.indexOf("#")));var N=this.refs_prefix+this.refs_counter++,z=N+P;t.$ref.substr(0,1)==="#"||this.refs[t.$ref]||(p[k]=!0),this.refs_with_info[N]={fetchUrl:e,$ref:k},t.$ref=z}return Object.values(t).forEach(function(U){U&&Zt(U)==="object"&&(Array.isArray(U)?Object.values(U).forEach(function(at){at&&Zt(at)==="object"&&b(r._getExternalRefs(at,e,c))}):U.$ref&&typeof U.$ref=="string"&&U.$ref.startsWith("#")||b(r._getExternalRefs(U,e,c)))}),t.id&&typeof t.id=="string"&&t.id.substr(0,4)==="urn:"?this.refs[t.id]=t:t.$id&&typeof t.$id=="string"&&t.$id.substr(0,4)==="urn:"&&(this.refs[t.$id]=t),p}},{key:"_getFileBase",value:function(t){if(!t)return"/";var e=this.options.ajaxBase;return e===void 0?this._getFileBaseFromFileLocation(t):e}},{key:"_getFileBaseFromFileLocation",value:function(t){var e=t.split("/");return e.pop(),"".concat(e.join("/"),"/")}},{key:"_joinUrl",value:function(t,e){var r=t;return t.substr(0,7)!=="http://"&&t.substr(0,8)!=="https://"&&t.substr(0,5)!=="blob:"&&t.substr(0,5)!=="data:"&&t.substr(0,1)!=="#"&&t.substr(0,1)!=="/"&&(r=e+t),r.indexOf("#")>0&&(r=r.substr(0,r.indexOf("#"))),r}},{key:"_isUniformResourceName",value:function(t){return t.substr(0,4)==="urn:"}},{key:"_asyncloadExternalRefs",value:(i=$o(regeneratorRuntime.mark(function t(e,r,c){var p,b,k,P,N,z,U=this,at=arguments;return regeneratorRuntime.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:p=at.length>3&&at[3]!==void 0&&at[3],b=this._getExternalRefs(e,r,p),k=0,P=regeneratorRuntime.mark(function Ct(){var ht,Tt,Lt,Ft,nt,dt,xt,$t,ne,Ls,Rs;return regeneratorRuntime.wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if((ht=z[N])!==void 0){ft.next=3;break}return ft.abrupt("return","continue");case 3:if(!U.refs[ht]){ft.next=5;break}return ft.abrupt("return","continue");case 5:if(!U._isUniformResourceName(ht)){ft.next=40;break}if(U.refs[ht]="loading",k++,Tt=U.options.urn_resolver,Lt=ht,typeof Tt=="function"){ft.next=13;break}throw console.log('No "urn_resolver" callback defined to resolve "'.concat(Lt,'"')),new Error("Must set urn_resolver option to a callback to resolve ".concat(Lt));case 13:return Lt.indexOf("#")>0&&(Lt=Lt.substr(0,Lt.indexOf("#"))),ft.prev=14,ft.next=17,Tt(Lt);case 17:Ft=ft.sent,ft.prev=18,nt=JSON.parse(Ft),ft.next=26;break;case 22:throw ft.prev=22,ft.t0=ft.catch(18),console.log(ft.t0),new Error("Failed to parse external ref ".concat(Lt));case 26:if(!(typeof nt!="boolean"&&Zt(nt)!=="object"||nt===null||Array.isArray(nt))){ft.next=28;break}throw new Error("External ref does not contain a valid schema - ".concat(Lt));case 28:return U.refs[ht]=nt,ft.next=31,U._asyncloadExternalRefs(nt,ht,c);case 31:ft.next=37;break;case 33:throw ft.prev=33,ft.t1=ft.catch(14),console.log(ft.t1),new Error("Failed to parse external ref ".concat(Lt));case 37:if(typeof Ft!="boolean"){ft.next=39;break}throw new Error("External ref does not contain a valid schema - ".concat(Lt));case 39:return ft.abrupt("return","continue");case 40:if(U.options.ajax){ft.next=42;break}throw new Error("Must set ajax option to true to load external ref ".concat(ht));case 42:if(k++,dt=U._joinUrl(ht,c),xt=void 0,U.options.ajax_cache_responses&&($t=U.cacheGet(dt))&&(xt=$t),xt){ft.next=61;break}return ft.next=49,new Promise(function(As){var pn=new XMLHttpRequest;U.options.ajaxCredentials&&(pn.withCredentials=U.options.ajaxCredentials),pn.overrideMimeType("application/json"),pn.open("GET",dt,!0),pn.onload=function(){As(pn)},pn.onerror=function(om){As(void 0)},pn.send()});case 49:if((ne=ft.sent)!==void 0){ft.next=52;break}throw new Error("Failed to fetch ref via ajax - ".concat(ht));case 52:ft.prev=52,xt=JSON.parse(ne.responseText),U.options.ajax_cache_responses&&U.cacheSet(dt,xt),ft.next=61;break;case 57:throw ft.prev=57,ft.t2=ft.catch(52),console.log(ft.t2),new Error("Failed to parse external ref ".concat(dt));case 61:if(!(typeof xt!="boolean"&&Zt(xt)!=="object"||xt===null||Array.isArray(xt))){ft.next=63;break}throw new Error("External ref does not contain a valid schema - ".concat(dt));case 63:return U.refs[ht]=xt,Ls=U._getFileBaseFromFileLocation(dt),dt!==ht&&(Rs=dt.split("/"),dt=(ht.substr(0,1)==="/"?"/":"")+Rs.pop()),ft.next=68,U._asyncloadExternalRefs(xt,dt,Ls);case 68:case"end":return ft.stop()}},Ct,null,[[14,33],[18,22],[52,57]])}),N=0,z=Object.keys(b);case 5:if(!(N<z.length)){pt.next=13;break}return pt.delegateYield(P(),"t0",7);case 7:if(pt.t0!=="continue"){pt.next=10;break}return pt.abrupt("continue",10);case 10:N++,pt.next=5;break;case 13:if(k){pt.next=15;break}return pt.abrupt("return",!0);case 15:case"end":return pt.stop()}},t,this)})),function(t,e,r){return i.apply(this,arguments)})},{key:"extendSchemas",value:function(t,e){var r=this;t=w({},t),e=w({},e);var c={},p=function(k,P){(function(N,z){return(N==="required"||N==="defaultProperties")&&Zt(z)==="object"&&Array.isArray(z)})(k,P)?c[k]=P.concat(e[k]).reduce(function(N,z){return N.includes(z)||N.push(z),N},[]):k!=="type"||typeof P!="string"&&!Array.isArray(P)?Zt(P)!=="object"||Array.isArray(P)||P===null?c[k]=P:c[k]=r.extendSchemas(P,e[k]):b(P)},b=function(k){typeof k=="string"&&(k=[k]),typeof e.type=="string"&&(e.type=[e.type]),e.type&&e.type.length?c.type=k.filter(function(P){return e.type.includes(P)}):c.type=k,c.type.length===1&&typeof c.type[0]=="string"?c.type=c.type[0]:c.type.length===0&&delete c.type};return Object.entries(t).forEach(function(k){var P=dn(k,2),N=P[0],z=P[1];e[N]!==void 0?p(N,z):c[N]=z}),Object.entries(e).forEach(function(k){var P=dn(k,2),N=P[0],z=P[1];t[N]===void 0&&(c[N]=z)}),c}},{key:"getCacheKey",value:function(t){return["je-cache",t].join("::")}},{key:"getCacheBuster",value:function(){return this.options.ajax_cache_buster||new Date().toISOString().slice(0,10)}},{key:"cacheSet",value:function(t,e){try{window.localStorage.setItem(this.getCacheKey(t),JSON.stringify({cacheBuster:this.getCacheBuster(),schema:e}))}catch(r){console.error(r)}}},{key:"cacheGet",value:function(t){try{var e=window.localStorage.getItem(this.getCacheKey(t));if(e){var r=JSON.parse(e);if(r.cacheBuster&&r.schema&&r.cacheBuster===this.getCacheBuster())return r.schema;this.cacheDelete(t)}}catch(c){console.error(c)}}},{key:"cacheDelete",value:function(t){window.localStorage.removeItem(this.getCacheKey(t))}}])&&$u(n.prototype,s),o}(),Uu=(a(184),{default:function(){return{compile:function(o){var n=o.match(/{{\s*([a-zA-Z0-9\-_ .]+)\s*}}/g),s=n&&n.length;if(!s)return function(){return o};for(var i=[],l=function(e){var r,c,p=n[e].replace(/[{}]+/g,"").trim().split("."),b=p.length;b>1?r=function(k){for(c=k,e=0;e<b&&(c=c[p[e]]);e++);return c}:(p=p[0],r=function(k){return k[p]}),i.push({s:n[e],r})},t=0;t<s;t++)l(t);return function(e){var r,c="".concat(o);for(t=0;t<s;t++)r=i[t],c=c.replace(r.s,r.r(e));return c}}}},ejs:function(){return!!window.EJS&&{compile:function(o){var n=new window.EJS({text:o});return function(s){return n.render(s)}}}},handlebars:function(){return window.Handlebars},hogan:function(){return!!window.Hogan&&{compile:function(o){var n=window.Hogan.compile(o);return function(s){return n.render(s)}}}},lodash:function(){return!!window._&&{compile:function(o){return function(n){return window._.template(o)(n)}}}},markup:function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(o){return function(n){return window.Mark.up(o,n)}}}},mustache:function(){return!!window.Mustache&&{compile:function(o){return function(n){return window.Mustache.render(o,n)}}}},swig:function(){return window.swig},underscore:function(){return!!window._&&{compile:function(o){return function(n){return window._.template(o)(n)}}}}});function Gu(o){return function(n){if(Array.isArray(n))return Lr(n)}(o)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(o)||function(n,s){if(n){if(typeof n=="string")return Lr(n,s);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Lr(n,s)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lr(o,n){(n==null||n>o.length)&&(n=o.length);for(var s=0,i=new Array(n);s<n;s++)i[s]=o[s];return i}function Wu(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Ju(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}var Qu={collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},Be=function(){function o(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qu;Wu(this,o),this.mapping=l,this.icon_prefix=i}var n,s;return n=o,(s=[{key:"getIconClass",value:function(i){return this.mapping[i]?this.icon_prefix+this.mapping[i]:this.icon_prefix+i}},{key:"getIcon",value:function(i){var l,t=this.getIconClass(i);if(!t)return null;var e=document.createElement("i");return(l=e.classList).add.apply(l,Gu(t.split(" "))),e}}])&&Ju(n.prototype,s),o}();function Uo(o){return(Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Go(o,n){return(Go=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Yu(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Rr(o);if(n){var l=Rr(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Zu(this,s)}}function Zu(o,n){return!n||Uo(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Rr(o){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Xu={collapse:"chevron-down",expand:"chevron-right",delete:"trash",edit:"pencil",add:"plus",subtract:"minus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"copy",clear:"remove-circle",time:"time",calendar:"calendar",edit_properties:"list"};function Wo(o){return(Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Jo(o,n){return(Jo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Ku(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Ar(o);if(n){var l=Ar(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return th(this,s)}}function th(o,n){return!n||Wo(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Ar(o){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var eh={collapse:"chevron-down",expand:"chevron-right",delete:"trash",edit:"pencil",add:"plus",subtract:"minus",cancel:"ban-circle",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"copy",clear:"remove-circle",time:"time",calendar:"calendar",edit_properties:"list"};function Qo(o){return(Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Yo(o,n){return(Yo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function nh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Ir(o);if(n){var l=Ir(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return rh(this,s)}}function rh(o,n){return!n||Qo(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Ir(o){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var ih={collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",subtract:"minus",cancel:"ban",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"files-o",clear:"times-circle-o",time:"clock-o",calendar:"calendar",edit_properties:"list"};function Zo(o){return(Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Xo(o,n){return(Xo=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function oh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Br(o);if(n){var l=Br(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return sh(this,s)}}function sh(o,n){return!n||Zo(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Br(o){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var ah={collapse:"caret-down",expand:"caret-right",delete:"trash",edit:"pen",add:"plus",subtract:"minus",cancel:"ban",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"copy",clear:"times-circle",time:"clock",calendar:"calendar",edit_properties:"list"};function Ko(o){return(Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function ts(o,n){return(ts=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function ch(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Nr(o);if(n){var l=Nr(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return lh(this,s)}}function lh(o,n){return!n||Ko(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Nr(o){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var uh={collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",subtract:"minusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",moveright:"arrowthick-1-e",movedown:"arrowthick-1-s",moveleft:"arrowthick-1-w",copy:"copy",clear:"circle-close",time:"time",calendar:"calendar",edit_properties:"note"};function es(o){return(es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function ns(o,n){return(ns=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function hh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Fr(o);if(n){var l=Fr(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return dh(this,s)}}function dh(o,n){return!n||es(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Fr(o){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var ph={collapse:"collapse-down",expand:"expand-right",delete:"trash",edit:"pencil",add:"plus",subtract:"minus",cancel:"ban",save:"file",moveup:"arrow-thick-top",moveright:"arrow-thick-right",movedown:"arrow-thick-bottom",moveleft:"arrow-thick-left",copy:"clipboard",clear:"circle-x",time:"clock",calendar:"calendar",edit_properties:"list"};function rs(o){return(rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function is(o,n){return(is=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function fh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Dr(o);if(n){var l=Dr(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return mh(this,s)}}function mh(o,n){return!n||rs(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Dr(o){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var yh={collapse:"arrow-down",expand:"arrow-right",delete:"delete",edit:"edit",add:"plus",subtract:"minus",cancel:"cross",save:"check",moveup:"upward",moveright:"forward",movedown:"downward",moveleft:"back",copy:"copy",clear:"close",time:"time",calendar:"bookmark",edit_properties:"menu"},gh={bootstrap3:function(o){(function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),l&&Go(i,l)})(s,o);var n=Yu(s);function s(){return function(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}(this,s),n.call(this,"glyphicon glyphicon-",Xu)}return s}(Be),fontawesome3:function(o){(function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),l&&Jo(i,l)})(s,o);var n=Ku(s);function s(){return function(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}(this,s),n.call(this,"icon-",eh)}return s}(Be),fontawesome4:function(o){(function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),l&&Yo(i,l)})(s,o);var n=nh(s);function s(){return function(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}(this,s),n.call(this,"fa fa-",ih)}return s}(Be),fontawesome5:function(o){(function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),l&&Xo(i,l)})(s,o);var n=oh(s);function s(){return function(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}(this,s),n.call(this,"fas fa-",ah)}return s}(Be),jqueryui:function(o){(function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),l&&ts(i,l)})(s,o);var n=ch(s);function s(){return function(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}(this,s),n.call(this,"ui-icon ui-icon-",uh)}return s}(Be),openiconic:function(o){(function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),l&&ns(i,l)})(s,o);var n=hh(s);function s(){return function(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}(this,s),n.call(this,"oi oi-",ph)}return s}(Be),spectre:function(o){(function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),l&&is(i,l)})(s,o);var n=fh(s);function s(){return function(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}(this,s),n.call(this,"icon icon-",yh)}return s}(Be)};a(113);function vh(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function bh(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}var os=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(function(o){return o in document.documentElement}),Ce=function(){function o(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{disable_theme_rules:!1};vh(this,o),this.jsoneditor=i,Object.keys(l).forEach(function(t){i.options[t]!==void 0&&(l[t]=i.options[t])}),this.options=l}var n,s;return n=o,(s=[{key:"getContainer",value:function(){return document.createElement("div")}},{key:"getFloatRightLinkHolder",value:function(){var i=document.createElement("div");return i.classList.add("je-float-right-linkholder"),i}},{key:"getModal",value:function(){var i=document.createElement("div");return i.style.display="none",i.classList.add("je-modal"),i}},{key:"getGridContainer",value:function(){return document.createElement("div")}},{key:"getGridRow",value:function(){var i=document.createElement("div");return i.classList.add("row"),i}},{key:"getGridColumn",value:function(){return document.createElement("div")}},{key:"setGridColumnSize",value:function(i,l){}},{key:"getLink",value:function(i){var l=document.createElement("a");return l.setAttribute("href","#"),l.appendChild(document.createTextNode(i)),l}},{key:"disableHeader",value:function(i){i.style.color="#ccc"}},{key:"disableLabel",value:function(i){i.style.color="#ccc"}},{key:"enableHeader",value:function(i){i.style.color=""}},{key:"enableLabel",value:function(i){i.style.color=""}},{key:"getInfoButton",value:function(i){var l=document.createElement("span");l.innerText="",l.classList.add("je-infobutton-icon");var t=document.createElement("span");return t.classList.add("je-infobutton-tooltip"),t.innerText=i,l.onmouseover=function(){t.style.visibility="visible"},l.onmouseleave=function(){t.style.visibility="hidden"},l.appendChild(t),l}},{key:"getFormInputLabel",value:function(i,l){var t=document.createElement("label");return t.appendChild(document.createTextNode(i)),l&&t.classList.add("required"),t}},{key:"getHeader",value:function(i,l){var t=document.createElement("h3");return typeof i=="string"?t.textContent=i:t.appendChild(i),t.classList.add("je-header"),t}},{key:"getCheckbox",value:function(){var i=this.getFormInputField("checkbox");return i.classList.add("je-checkbox"),i}},{key:"getCheckboxLabel",value:function(i,l){var t=document.createElement("label");return t.appendChild(document.createTextNode("".concat(i))),l&&t.classList.add("required"),t}},{key:"getMultiCheckboxHolder",value:function(i,l,t,e){var r=document.createElement("div");return r.classList.add("control-group"),l&&(l.style.display="block",r.appendChild(l),e&&l.appendChild(e)),Object.values(i).forEach(function(c){c.style.display="inline-block",c.style.marginRight="20px",r.appendChild(c)}),t&&r.appendChild(t),r}},{key:"getFormCheckboxControl",value:function(i,l,t){var e=document.createElement("div");return e.appendChild(i),l.style.width="auto",i.insertBefore(l,i.firstChild),t&&e.classList.add("je-checkbox-control--compact"),e}},{key:"getFormRadio",value:function(i){var l=this.getFormInputField("radio");return Object.keys(i).forEach(function(t){return l.setAttribute(t,i[t])}),l.classList.add("je-radio"),l}},{key:"getFormRadioLabel",value:function(i,l){var t=document.createElement("label");return t.appendChild(document.createTextNode("".concat(i))),l&&t.classList.add("required"),t}},{key:"getFormRadioControl",value:function(i,l,t){var e=document.createElement("div");return e.appendChild(i),l.style.width="auto",i.insertBefore(l,i.firstChild),t&&e.classList.add("je-radio-control--compact"),e}},{key:"getSelectInput",value:function(i,l){var t=document.createElement("select");return i&&this.setSelectOptions(t,i),t}},{key:"getSwitcher",value:function(i){var l=this.getSelectInput(i,!1);return l.classList.add("je-switcher"),l}},{key:"getSwitcherOptions",value:function(i){return i.getElementsByTagName("option")}},{key:"setSwitcherOptions",value:function(i,l,t){this.setSelectOptions(i,l,t)}},{key:"setSelectOptions",value:function(i,l){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];i.innerHTML="";for(var e=0;e<l.length;e++){var r=document.createElement("option");r.setAttribute("value",l[e]),r.textContent=t[e]||l[e],i.appendChild(r)}}},{key:"getTextareaInput",value:function(){var i=document.createElement("textarea");return i.classList.add("je-textarea"),i}},{key:"getRangeInput",value:function(i,l,t){var e=this.getFormInputField("range");return e.setAttribute("min",i),e.setAttribute("max",l),e.setAttribute("step",t),e}},{key:"getStepperButtons",value:function(i){var l=document.createElement("div"),t=document.createElement("button");t.setAttribute("type","button"),t.classList.add("stepper-down");var e=document.createElement("button");e.setAttribute("type","button"),e.classList.add("stepper-up"),i.getAttribute("readonly")&&(t.setAttribute("disabled",!0),e.setAttribute("disabled",!0)),t.textContent="-",e.textContent="+";var r=function(b,k){b.value=Number(k||b.value),b.setAttribute("initialized","1")},c=i.getAttribute("min"),p=i.getAttribute("max");return t.addEventListener("click",function(){i.getAttribute("initialized")?c?Number(i.value)>Number(c)&&i.stepDown():i.stepDown():r(i,c),x(i,"change")}),e.addEventListener("click",function(){i.getAttribute("initialized")?p?Number(i.value)<Number(p)&&i.stepUp():i.stepUp():r(i,c),x(i,"change")}),l.appendChild(t),l.appendChild(e),l}},{key:"getRangeOutput",value:function(i,l){var t=document.createElement("output"),e=function(r){t.value=r.currentTarget.value};return i.addEventListener("change",e,!1),i.addEventListener("input",e,!1),t}},{key:"getRangeControl",value:function(i,l){var t=document.createElement("div");return t.classList.add("je-range-control"),l&&t.appendChild(l),t.appendChild(i),t}},{key:"getFormInputField",value:function(i){var l=document.createElement("input");return l.setAttribute("type",i),l}},{key:"afterInputReady",value:function(i){}},{key:"getFormControl",value:function(i,l,t,e,r){var c=document.createElement("div");return c.classList.add("form-control"),i&&(c.appendChild(i),r&&i.setAttribute("for",r)),l.type!=="checkbox"&&l.type!=="radio"||!i?(e&&i&&i.appendChild(e),c.appendChild(l)):(l.style.width="auto",i.insertBefore(l,i.firstChild),e&&i.appendChild(e)),t&&c.appendChild(t),c}},{key:"getIndentedPanel",value:function(){var i=document.createElement("div");return i.classList.add("je-indented-panel"),i}},{key:"getTopIndentedPanel",value:function(){var i=document.createElement("div");return i.classList.add("je-indented-panel--top"),i}},{key:"getChildEditorHolder",value:function(){return document.createElement("div")}},{key:"getDescription",value:function(i){var l=document.createElement("p");return window.DOMPurify?l.innerHTML=window.DOMPurify.sanitize(i):l.textContent=this.cleanText(i),l}},{key:"getCheckboxDescription",value:function(i){return this.getDescription(i)}},{key:"getFormInputDescription",value:function(i){return this.getDescription(i)}},{key:"getButtonHolder",value:function(){return document.createElement("span")}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getFormButtonHolder",value:function(i){return this.getButtonHolder()}},{key:"getButton",value:function(i,l,t){var e=document.createElement("button");return e.type="button",this.setButtonText(e,i,l,t),e}},{key:"getFormButton",value:function(i,l,t){return this.getButton(i,l,t)}},{key:"setButtonText",value:function(i,l,t,e){for(;i.firstChild;)i.removeChild(i.firstChild);if(t&&(i.appendChild(t),l=" ".concat(l)),!this.jsoneditor.options.iconlib||!this.jsoneditor.options.remove_button_labels||!t){var r=document.createElement("span");r.appendChild(document.createTextNode(l)),i.appendChild(r)}e&&i.setAttribute("title",e)}},{key:"getTable",value:function(){return document.createElement("table")}},{key:"getTableRow",value:function(){return document.createElement("tr")}},{key:"getTableHead",value:function(){return document.createElement("thead")}},{key:"getTableBody",value:function(){return document.createElement("tbody")}},{key:"getTableHeaderCell",value:function(i){var l=document.createElement("th");return l.textContent=i,l}},{key:"getTableCell",value:function(){return document.createElement("td")}},{key:"getErrorMessage",value:function(i){var l=document.createElement("p");return l.style=l.style||{},l.style.color="red",l.appendChild(document.createTextNode(i)),l}},{key:"addInputError",value:function(i,l){}},{key:"removeInputError",value:function(i){}},{key:"addTableRowError",value:function(i){}},{key:"removeTableRowError",value:function(i){}},{key:"getTabHolder",value:function(i){var l=i===void 0?"":i,t=document.createElement("div");return t.innerHTML="<div class='je-tabholder tabs'></div><div class='content' id='".concat(l,"'></div><div class='je-tabholder--clear'></div>"),t}},{key:"getTopTabHolder",value:function(i){var l=i===void 0?"":i,t=document.createElement("div");return t.innerHTML="<div class='tabs je-tabholder--top'></div><div class='je-tabholder--clear'></div><div class='content' id='".concat(l,"'></div>"),t}},{key:"applyStyles",value:function(i,l){Object.keys(l).forEach(function(t){return i.style[t]=l[t]})}},{key:"closest",value:function(i,l){for(;i&&i!==document;){if(!i[os])return!1;if(i[os](l))return i;i=i.parentNode}return!1}},{key:"insertBasicTopTab",value:function(i,l){l.firstChild.insertBefore(i,l.firstChild.firstChild)}},{key:"getTab",value:function(i,l){var t=document.createElement("div");return t.appendChild(i),t.id=l,t.classList.add("je-tab"),t}},{key:"getTopTab",value:function(i,l){var t=document.createElement("div");return t.appendChild(i),t.id=l,t.classList.add("je-tab--top"),t}},{key:"getTabContentHolder",value:function(i){return i.children[1]}},{key:"getTopTabContentHolder",value:function(i){return i.children[1]}},{key:"getTabContent",value:function(){return this.getIndentedPanel()}},{key:"getTopTabContent",value:function(){return this.getTopIndentedPanel()}},{key:"markTabActive",value:function(i){this.applyStyles(i.tab,{opacity:1,background:"white"}),i.rowPane!==void 0?i.rowPane.style.display="":i.container.style.display=""}},{key:"markTabInactive",value:function(i){this.applyStyles(i.tab,{opacity:.5,background:""}),i.rowPane!==void 0?i.rowPane.style.display="none":i.container.style.display="none"}},{key:"addTab",value:function(i,l){i.children[0].appendChild(l)}},{key:"addTopTab",value:function(i,l){i.children[0].appendChild(l)}},{key:"getBlockLink",value:function(){var i=document.createElement("a");return i.classList.add("je-block-link"),i}},{key:"getBlockLinkHolder",value:function(){return document.createElement("div")}},{key:"getLinksHolder",value:function(){return document.createElement("div")}},{key:"createMediaLink",value:function(i,l,t){i.appendChild(l),t.classList.add("je-media"),i.appendChild(t)}},{key:"createImageLink",value:function(i,l,t){i.appendChild(l),l.appendChild(t)}},{key:"getFirstTab",value:function(i){return i.firstChild.firstChild}},{key:"getInputGroup",value:function(i,l){}},{key:"cleanText",value:function(i){var l=document.createElement("div");return l.innerHTML=i,l.textContent||l.innerText}},{key:"getDropZone",value:function(i){var l=document.createElement("div");return l.setAttribute("data-text",i),l.classList.add("je-dropzone"),l}},{key:"getUploadPreview",value:function(i,l,t){var e=document.createElement("div");if(e.classList.add("je-upload-preview"),i.mimeType.substr(0,5)==="image"){var r=document.createElement("img");r.src=t,e.appendChild(r)}var c=document.createElement("div");c.innerHTML+="<strong>Name:</strong> ".concat(i.name,"<br><strong>Type:</strong> ").concat(i.type,"<br><strong>Size:</strong> ").concat(i.formattedSize),e.appendChild(c),e.appendChild(l);var p=document.createElement("div");return p.style.clear="left",e.appendChild(p),e}},{key:"getProgressBar",value:function(){var i=document.createElement("progress");return i.setAttribute("max",100),i.setAttribute("value",0),i}},{key:"updateProgressBar",value:function(i,l){i&&i.setAttribute("value",l)}},{key:"updateProgressBarUnknown",value:function(i){i&&i.removeAttribute("value")}}])&&bh(n.prototype,s),o}();function ss(o){return(ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function _h(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function wh(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function xn(o,n,s){return(xn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Oe(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function as(o,n){return(as=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function kh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Oe(o);if(n){var l=Oe(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return xh(this,s)}}function xh(o,n){return!n||ss(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Oe(o){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var cs=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&as(t,e)})(l,o);var n,s,i=kh(l);function l(){return _h(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"getFormInputLabel",value:function(t,e){var r=xn(Oe(l.prototype),"getFormInputLabel",this).call(this,t,e);return r.classList.add("je-form-input-label"),r}},{key:"getFormInputDescription",value:function(t){var e=xn(Oe(l.prototype),"getFormInputDescription",this).call(this,t);return e.classList.add("je-form-input-label"),e}},{key:"getIndentedPanel",value:function(){var t=xn(Oe(l.prototype),"getIndentedPanel",this).call(this);return t.classList.add("je-indented-panel"),t}},{key:"getTopIndentedPanel",value:function(){return this.getIndentedPanel()}},{key:"getChildEditorHolder",value:function(){var t=xn(Oe(l.prototype),"getChildEditorHolder",this).call(this);return t.classList.add("je-child-editor-holder"),t}},{key:"getHeaderButtonHolder",value:function(){var t=this.getButtonHolder();return t.classList.add("je-header-button-holder"),t}},{key:"getTable",value:function(){var t=xn(Oe(l.prototype),"getTable",this).call(this);return t.classList.add("je-table"),t}},{key:"addInputError",value:function(t,e){var r=this.closest(t,".form-control")||t.controlgroup;t.errmsg?t.errmsg.style.display="block":(t.errmsg=document.createElement("div"),t.errmsg.setAttribute("class","errmsg"),t.errmsg.style=t.errmsg.style||{},t.errmsg.style.color="red",r.appendChild(t.errmsg)),t.errmsg.innerHTML="",t.errmsg.appendChild(document.createTextNode(e))}},{key:"removeInputError",value:function(t){t.style&&(t.style.borderColor=""),t.errmsg&&(t.errmsg.style.display="none")}}])&&wh(n.prototype,s),l}(Ce);cs.rules={".je-form-input-label":"display:block;margin-bottom:3px;font-weight:bold",".je-form-input-description":"display:inline-block;margin:0;font-size:0.8em;font-style:italic",".je-indented-panel":"padding:5px;margin:10px;border-radius:3px;border:1px%20solid%20%23ddd",".je-child-editor-holder":"margin-bottom:8px",".je-header-button-holder":"display:inline-block;margin-left:10px;font-size:0.8em;vertical-align:middle",".je-table":"margin-bottom:5px;border-bottom:1px%20solid%20%23ccc",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};var jh=a(154),Ch=a.n(jh);function ls(o){return(ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Oh(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Eh(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Bn(o,n,s){return(Bn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Ne(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function us(o,n){return(us=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Sh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Ne(o);if(n){var l=Ne(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Ph(this,s)}}function Ph(o,n){return!n||ls(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Ne(o){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var hs=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&us(t,e)})(l,o);var n,s,i=Sh(l);function l(){return Oh(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"getSelectInput",value:function(t,e){var r=Bn(Ne(l.prototype),"getSelectInput",this).call(this,t);return r.classList.add("form-control"),r}},{key:"setGridColumnSize",value:function(t,e,r){t.classList.add("col-md-".concat(e)),r&&t.classList.add("col-md-offset-".concat(r))}},{key:"afterInputReady",value:function(t){if(!t.controlgroup&&(t.controlgroup=this.closest(t,".form-group"),this.closest(t,".compact")&&(t.controlgroup.style.marginBottom=0),this.queuedInputErrorText)){var e=this.queuedInputErrorText;delete this.queuedInputErrorText,this.addInputError(t,e)}}},{key:"getTextareaInput",value:function(){var t=document.createElement("textarea");return t.classList.add("form-control"),t}},{key:"getRangeInput",value:function(t,e,r){return Bn(Ne(l.prototype),"getRangeInput",this).call(this,t,e,r)}},{key:"getFormInputField",value:function(t){var e=Bn(Ne(l.prototype),"getFormInputField",this).call(this,t);return t!=="checkbox"&&t!=="radio"&&e.classList.add("form-control"),e}},{key:"getFormControl",value:function(t,e,r,c){var p=document.createElement("div");return!t||e.type!=="checkbox"&&e.type!=="radio"?(p.classList.add("form-group"),t&&(t.classList.add("control-label"),p.appendChild(t),c&&t.appendChild(c)),p.appendChild(e)):(p.classList.add(e.type),c&&t.appendChild(c),t.insertBefore(e,t.firstChild),p.appendChild(t)),r&&p.appendChild(r),p}},{key:"getIndentedPanel",value:function(){var t=document.createElement("div");return t.classList.add("well","well-sm"),t.style.paddingBottom=0,t}},{key:"getInfoButton",value:function(t){var e=document.createElement("span");e.classList.add("glyphicon","glyphicon-info-sign","pull-right"),e.style.padding=".25rem",e.style.position="relative",e.style.display="inline-block";var r=document.createElement("span");return r.style["font-family"]="sans-serif",r.style.visibility="hidden",r.style["background-color"]="rgba(50, 50, 50, .75)",r.style.margin="0 .25rem",r.style.color="#FAFAFA",r.style.padding=".5rem 1rem",r.style["border-radius"]=".25rem",r.style.width="25rem",r.style.position="absolute",r.innerText=t,e.onmouseover=function(){r.style.visibility="visible"},e.onmouseleave=function(){r.style.visibility="hidden"},e.appendChild(r),e}},{key:"getFormInputDescription",value:function(t){var e=document.createElement("p");return e.classList.add("help-block"),window.DOMPurify?e.innerHTML=window.DOMPurify.sanitize(t):e.textContent=this.cleanText(t),e}},{key:"getHeaderButtonHolder",value:function(){var t=this.getButtonHolder();return t.style.marginLeft="10px",t}},{key:"getButtonHolder",value:function(){var t=document.createElement("span");return t.classList.add("btn-group"),t}},{key:"getButton",value:function(t,e,r){var c=Bn(Ne(l.prototype),"getButton",this).call(this,t,e,r);return c.classList.add("btn","btn-default"),c}},{key:"getTable",value:function(){var t=document.createElement("table");return t.classList.add("table","table-bordered"),t.style.width="auto",t.style.maxWidth="none",t}},{key:"addInputError",value:function(t,e){t.controlgroup?(t.controlgroup.classList.add("has-error"),t.errmsg?t.errmsg.style.display="":(t.errmsg=document.createElement("p"),t.errmsg.classList.add("help-block","errormsg"),t.controlgroup.appendChild(t.errmsg)),t.errmsg.textContent=e):this.queuedInputErrorText=e}},{key:"removeInputError",value:function(t){t.controlgroup||delete this.queuedInputErrorText,t.errmsg&&(t.errmsg.style.display="none",t.controlgroup.classList.remove("has-error"))}},{key:"getTabHolder",value:function(t){var e=t===void 0?"":t,r=document.createElement("div");return r.innerHTML="<ul class='col-md-2 nav nav-pills nav-stacked' id='".concat(e,"' role='tablist'></ul><div class='col-md-10 tab-content active well well-small'  id='").concat(e,"'></div>"),r}},{key:"getTopTabHolder",value:function(t){var e=t===void 0?"":t,r=document.createElement("div");return r.innerHTML="<ul class='nav nav-tabs' id='".concat(e,"' role='tablist'></ul><div class='tab-content active well well-small'  id='").concat(e,"'></div>"),r}},{key:"getTab",value:function(t,e){var r=document.createElement("li");r.setAttribute("role","presentation");var c=document.createElement("a");return c.setAttribute("href","#".concat(e)),c.appendChild(t),c.setAttribute("aria-controls",e),c.setAttribute("role","tab"),c.setAttribute("data-toggle","tab"),r.appendChild(c),r}},{key:"getTopTab",value:function(t,e){var r=document.createElement("li");r.setAttribute("role","presentation");var c=document.createElement("a");return c.setAttribute("href","#".concat(e)),c.appendChild(t),c.setAttribute("aria-controls",e),c.setAttribute("role","tab"),c.setAttribute("data-toggle","tab"),r.appendChild(c),r}},{key:"getTabContent",value:function(){var t=document.createElement("div");return t.classList.add("tab-pane"),t.setAttribute("role","tabpanel"),t}},{key:"getTopTabContent",value:function(){var t=document.createElement("div");return t.classList.add("tab-pane"),t.setAttribute("role","tabpanel"),t}},{key:"markTabActive",value:function(t){t.tab.classList.add("active"),t.rowPane!==void 0?t.rowPane.classList.add("active"):t.container.classList.add("active")}},{key:"markTabInactive",value:function(t){t.tab.classList.remove("active"),t.rowPane!==void 0?t.rowPane.classList.remove("active"):t.container.classList.remove("active")}},{key:"getProgressBar",value:function(){var t=document.createElement("div");t.classList.add("progress");var e=document.createElement("div");return e.classList.add("progress-bar"),e.setAttribute("role","progressbar"),e.setAttribute("aria-valuenow",0),e.setAttribute("aria-valuemin",0),e.setAttribute("aria-valuenax",100),e.innerHTML="".concat(0,"%"),t.appendChild(e),t}},{key:"updateProgressBar",value:function(t,e){if(t){var r=t.firstChild,c="".concat(e,"%");r.setAttribute("aria-valuenow",e),r.style.width=c,r.innerHTML=c}}},{key:"updateProgressBarUnknown",value:function(t){if(t){var e=t.firstChild;t.classList.add("progress","progress-striped","active"),e.removeAttribute("aria-valuenow"),e.style.width="100%",e.innerHTML=""}}},{key:"getInputGroup",value:function(t,e){if(t){var r=document.createElement("div");r.classList.add("input-group"),r.appendChild(t);var c=document.createElement("div");c.classList.add("input-group-btn"),r.appendChild(c);for(var p=0;p<e.length;p++)c.appendChild(e[p]);return r}}}])&&Eh(n.prototype,s),l}(Ce);hs.rules=Ch.a,a(153);function ds(o){return(ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Th(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Nn(o,n,s){return(Nn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Fe(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function ps(o,n){return(ps=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Lh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Fe(o);if(n){var l=Fe(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Rh(this,s)}}function Rh(o,n){return!n||ds(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Fe(o){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Ah={disable_theme_rules:!1,input_size:"normal",custom_forms:!1,object_indent:!0,object_background:"bg-light",object_text:"",table_border:!1,table_zebrastyle:!1,tooltip:"bootstrap"},fs=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ps(t,e)})(l,o);var n,s,i=Lh(l);function l(t){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,t,Ah)}return n=l,(s=[{key:"getSelectInput",value:function(t,e){var r=Nn(Fe(l.prototype),"getSelectInput",this).call(this,t);return r.classList.add("form-control"),this.options.custom_forms===!1?(this.options.input_size==="small"&&r.classList.add("form-control-sm"),this.options.input_size==="large"&&r.classList.add("form-control-lg")):(r.classList.remove("form-control"),r.classList.add("custom-select"),this.options.input_size==="small"&&r.classList.add("custom-select-sm"),this.options.input_size==="large"&&r.classList.add("custom-select-lg")),r}},{key:"getContainer",value:function(){var t=document.createElement("div");return this.options.object_indent||t.classList.add("je-noindent"),t}},{key:"setGridColumnSize",value:function(t,e,r){t.classList.add("col-md-".concat(e)),r&&t.classList.add("offset-md-".concat(r))}},{key:"afterInputReady",value:function(t){if(!t.controlgroup){var e=t.name;t.id=e;var r=t.parentNode.parentNode.getElementsByTagName("label")[0];r&&(r.htmlFor=e),t.controlgroup=this.closest(t,".form-group")}}},{key:"getTextareaInput",value:function(){var t=document.createElement("textarea");return t.classList.add("form-control"),this.options.input_size==="small"&&t.classList.add("form-control-sm"),this.options.input_size==="large"&&t.classList.add("form-control-lg"),t}},{key:"getRangeInput",value:function(t,e,r){var c=Nn(Fe(l.prototype),"getRangeInput",this).call(this,t,e,r);return this.options.custom_forms===!0&&(c.classList.remove("form-control"),c.classList.add("custom-range")),c}},{key:"getStepperButtons",value:function(t){var e=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),p=document.createElement("button");p.setAttribute("type","button");var b=document.createElement("button");b.setAttribute("type","button"),e.appendChild(r),e.appendChild(t),e.appendChild(c),r.appendChild(p),c.appendChild(b),e.classList.add("input-group"),r.classList.add("input-group-prepend"),c.classList.add("input-group-append"),p.classList.add("btn"),p.classList.add("btn-secondary"),p.classList.add("stepper-down"),b.classList.add("btn"),b.classList.add("btn-secondary"),b.classList.add("stepper-up"),t.getAttribute("readonly")&&(p.setAttribute("disabled",!0),b.setAttribute("disabled",!0)),p.textContent="-",b.textContent="+";var k=function(z,U){z.value=Number(U||z.value),z.setAttribute("initialized","1")},P=t.getAttribute("min"),N=t.getAttribute("max");return t.addEventListener("change",function(){t.getAttribute("initialized")||t.setAttribute("initialized","1")}),p.addEventListener("click",function(){t.getAttribute("initialized")?P?Number(t.value)>Number(P)&&t.stepDown():t.stepDown():k(t,P),x(t,"change")}),b.addEventListener("click",function(){t.getAttribute("initialized")?N?Number(t.value)<Number(N)&&t.stepUp():t.stepUp():k(t,P),x(t,"change")}),e}},{key:"getFormInputField",value:function(t){var e=Nn(Fe(l.prototype),"getFormInputField",this).call(this,t);return t!=="checkbox"&&t!=="radio"&&t!=="file"&&(e.classList.add("form-control"),this.options.input_size==="small"&&e.classList.add("form-control-sm"),this.options.input_size==="large"&&e.classList.add("form-control-lg")),t==="file"&&e.classList.add("form-control-file"),e}},{key:"getFormControl",value:function(t,e,r,c){var p=document.createElement("div");if(p.classList.add("form-group"),!t||e.type!=="checkbox"&&e.type!=="radio")t&&(p.appendChild(t),c&&p.appendChild(c)),p.appendChild(e);else{var b=document.createElement("div");this.options.custom_forms===!1?(b.classList.add("form-check"),e.classList.add("form-check-input"),t.classList.add("form-check-label")):(b.classList.add("custom-control"),e.classList.add("custom-control-input"),t.classList.add("custom-control-label"),e.type==="checkbox"?b.classList.add("custom-checkbox"):b.classList.add("custom-radio"));var k=(Date.now()*Math.random()).toFixed(0);e.setAttribute("id",k),t.setAttribute("for",k),b.appendChild(e),b.appendChild(t),c&&b.appendChild(c),p.appendChild(b)}return r&&p.appendChild(r),p}},{key:"getInfoButton",value:function(t){var e=document.createElement("button");e.type="button",e.classList.add("ml-3","jsoneditor-twbs4-text-button"),e.setAttribute("data-toggle","tooltip"),e.setAttribute("data-placement","auto"),e.title=t;var r=document.createTextNode("");return e.appendChild(r),this.options.tooltip==="bootstrap"?window.jQuery&&window.jQuery().tooltip?window.jQuery(e).tooltip():console.warn("Could not find popper jQuery plugin of Bootstrap."):this.options.tooltip==="css"&&e.classList.add("je-tooltip"),e}},{key:"getCheckbox",value:function(){return this.getFormInputField("checkbox")}},{key:"getMultiCheckboxHolder",value:function(t,e,r,c){var p=document.createElement("div");p.classList.add("form-group"),e&&(p.appendChild(e),c&&e.appendChild(c));var b=document.createElement("div");return Object.values(t).forEach(function(k){var P=k.firstChild;b.appendChild(P)}),p.appendChild(b),r&&p.appendChild(r),p}},{key:"getFormRadio",value:function(t){var e=this.getFormInputField("radio");for(var r in t)e.setAttribute(r,t[r]);return this.options.custom_forms===!1?e.classList.add("form-check-input"):e.classList.add("custom-control-input"),e}},{key:"getFormRadioLabel",value:function(t,e){var r=document.createElement("label");return this.options.custom_forms===!1?r.classList.add("form-check-label"):r.classList.add("custom-control-label"),r.appendChild(document.createTextNode(t)),r}},{key:"getFormRadioControl",value:function(t,e,r){var c=document.createElement("div");return this.options.custom_forms===!1?c.classList.add("form-check"):c.classList.add("custom-control","custom-radio"),c.appendChild(e),c.appendChild(t),r&&(this.options.custom_forms===!1?c.classList.add("form-check-inline"):c.classList.add("custom-control-inline")),c}},{key:"getIndentedPanel",value:function(){var t=document.createElement("div");return t.classList.add("card","card-body","mb-3"),this.options.object_background&&t.classList.add(this.options.object_background),this.options.object_text&&t.classList.add(this.options.object_text),t}},{key:"getFormInputDescription",value:function(t){var e=document.createElement("small");return e.classList.add("form-text"),window.DOMPurify?e.innerHTML=window.DOMPurify.sanitize(t):e.textContent=this.cleanText(t),e}},{key:"getHeader",value:function(t,e){var r=document.createElement("h3");return r.classList.add("card-title"),r.classList.add("level-"+e),typeof t=="string"?r.textContent=t:r.appendChild(t),r.style.display="inline-block",r}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getButtonHolder",value:function(){var t=document.createElement("span");return t.classList.add("btn-group"),t}},{key:"getFormButtonHolder",value:function(t){var e=this.getButtonHolder();return e.classList.add("d-block"),t==="center"?e.classList.add("text-center"):t==="right"&&e.classList.add("text-right"),e}},{key:"getButton",value:function(t,e,r){var c=Nn(Fe(l.prototype),"getButton",this).call(this,t,e,r);return c.classList.add("btn","btn-secondary","btn-sm"),c}},{key:"getTable",value:function(){var t=document.createElement("table");return t.classList.add("table","table-sm"),this.options.table_border&&t.classList.add("table-bordered"),this.options.table_zebrastyle&&t.classList.add("table-striped"),t}},{key:"getErrorMessage",value:function(t){var e=document.createElement("div");return e.classList.add("alert","alert-danger"),e.setAttribute("role","alert"),e.appendChild(document.createTextNode(t)),e}},{key:"addInputError",value:function(t,e){t.controlgroup&&(t.controlgroup.classList.add("is-invalid"),t.errmsg||(t.errmsg=document.createElement("p"),t.errmsg.classList.add("invalid-feedback"),t.controlgroup.appendChild(t.errmsg),t.errmsg.style.display="block"),t.errmsg.style.display="block",t.errmsg.textContent=e)}},{key:"removeInputError",value:function(t){t.errmsg&&(t.errmsg.style.display="none",t.controlgroup.classList.remove("is-invalid"))}},{key:"getTabHolder",value:function(t){var e=document.createElement("div"),r=t===void 0?"":t;return e.innerHTML="<div class='col-md-2' id='".concat(r,"'><ul class='nav flex-column nav-pills'></ul></div><div class='col-md-10'><div class='tab-content' id='").concat(r,"'></div></div>"),e.classList.add("row"),e}},{key:"addTab",value:function(t,e){t.children[0].children[0].appendChild(e)}},{key:"getTabContentHolder",value:function(t){return t.children[1].children[0]}},{key:"getTopTabHolder",value:function(t){var e=t===void 0?"":t,r=document.createElement("div");return r.classList.add("card"),r.innerHTML="<div class='card-header'><ul class='nav nav-tabs card-header-tabs' id='".concat(e,"'></ul></div><div class='card-body'><div class='tab-content' id='").concat(e,"'></div></div>"),r}},{key:"getTab",value:function(t,e){var r=document.createElement("li");r.classList.add("nav-item");var c=document.createElement("a");return c.classList.add("nav-link"),c.setAttribute("href","#".concat(e)),c.setAttribute("data-toggle","tab"),c.appendChild(t),r.appendChild(c),r}},{key:"getTopTab",value:function(t,e){var r=document.createElement("li");r.classList.add("nav-item");var c=document.createElement("a");return c.classList.add("nav-link"),c.setAttribute("href","#".concat(e)),c.setAttribute("data-toggle","tab"),c.appendChild(t),r.appendChild(c),r}},{key:"getTabContent",value:function(){var t=document.createElement("div");return t.classList.add("tab-pane"),t.setAttribute("role","tabpanel"),t}},{key:"getTopTabContent",value:function(){var t=document.createElement("div");return t.classList.add("tab-pane"),t.setAttribute("role","tabpanel"),t}},{key:"markTabActive",value:function(t){t.tab.firstChild.classList.add("active"),t.rowPane!==void 0?t.rowPane.classList.add("active"):t.container.classList.add("active")}},{key:"markTabInactive",value:function(t){t.tab.firstChild.classList.remove("active"),t.rowPane!==void 0?t.rowPane.classList.remove("active"):t.container.classList.remove("active")}},{key:"insertBasicTopTab",value:function(t,e){e.children[0].children[0].insertBefore(t,e.children[0].children[0].firstChild)}},{key:"addTopTab",value:function(t,e){t.children[0].children[0].appendChild(e)}},{key:"getTopTabContentHolder",value:function(t){return t.children[1].children[0]}},{key:"getFirstTab",value:function(t){return t.firstChild.firstChild.firstChild}},{key:"getProgressBar",value:function(){var t=document.createElement("div");t.classList.add("progress");var e=document.createElement("div");return e.classList.add("progress-bar"),e.setAttribute("role","progressbar"),e.setAttribute("aria-valuenow",0),e.setAttribute("aria-valuemin",0),e.setAttribute("aria-valuenax",100),e.innerHTML="".concat(0,"%"),t.appendChild(e),t}},{key:"updateProgressBar",value:function(t,e){if(t){var r=t.firstChild,c="".concat(e,"%");r.setAttribute("aria-valuenow",e),r.style.width=c,r.innerHTML=c}}},{key:"updateProgressBarUnknown",value:function(t){if(t){var e=t.firstChild;t.classList.add("progress","progress-striped","active"),e.removeAttribute("aria-valuenow"),e.style.width="100%",e.innerHTML=""}}},{key:"getBlockLink",value:function(){var t=document.createElement("a");return t.classList.add("mb-3","d-inline-block"),t}},{key:"getLinksHolder",value:function(){return document.createElement("div")}},{key:"getInputGroup",value:function(t,e){if(t){var r=document.createElement("div");r.classList.add("input-group"),r.appendChild(t);var c=document.createElement("div");c.classList.add("input-group-append"),r.appendChild(c);for(var p=0;p<e.length;p++)e[p].classList.remove("mr-2","btn-secondary"),e[p].classList.add("btn-outline-secondary"),c.appendChild(e[p]);return r}}}])&&Th(n.prototype,s),l}(Ce);fs.rules={".jsoneditor-twbs4-text-button":"background:none;padding:0;border:0;color:currentColor","td > .form-group":"margin-bottom:0",".json-editor-btn-upload":"margin-top:1rem",".je-noindent .card":"padding:0;border:0",".je-tooltip:hover::before":"display:block;position:absolute;font-size:0.8em;color:%23fff;border-radius:0.2em;content:attr(title);background-color:%23000;margin-top:-2.5em;padding:0.3em",".je-tooltip:hover::after":"display:block;position:absolute;font-size:0.8em;color:%23fff",".select2-container--default .select2-selection--single":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__arrow":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__rendered":"line-height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".selectize-control.form-control":"padding:0",".selectize-dropdown.form-control":"padding:0;height:auto",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};function ms(o){return(ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Ih(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Fn(o,n,s){return(Fn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=De(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function ys(o,n){return(ys=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Bh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=De(o);if(n){var l=De(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Nh(this,s)}}function Nh(o,n){return!n||ms(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function De(o){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Fh={disable_theme_rules:!1,input_size:"normal",object_indent:!0,object_background:"bg-light",object_text:"",table_border:!1,table_zebrastyle:!1,tooltip:"bootstrap"},gs=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ys(t,e)})(l,o);var n,s,i=Bh(l);function l(t){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,t,Fh)}return n=l,(s=[{key:"getSelectInput",value:function(t,e){var r=Fn(De(l.prototype),"getSelectInput",this).call(this,t);return r.classList.add("form-control"),r.classList.add("form-select"),this.options.input_size==="small"&&r.classList.add("form-control-sm"),this.options.input_size==="large"&&r.classList.add("form-control-lg"),r}},{key:"getContainer",value:function(){var t=document.createElement("div");return this.options.object_indent||t.classList.add("je-noindent"),t}},{key:"setGridColumnSize",value:function(t,e,r){t.classList.add("col-md-".concat(e)),r&&t.classList.add("offset-md-".concat(r))}},{key:"afterInputReady",value:function(t){if(!t.controlgroup){var e=t.name;t.id=e;var r=t.parentNode.parentNode.getElementsByTagName("label")[0];r&&(r.classList.add("form-label"),r.htmlFor=e),t.controlgroup=this.closest(t,".form-group")}}},{key:"getTextareaInput",value:function(){var t=document.createElement("textarea");return t.classList.add("form-control"),this.options.input_size==="small"&&t.classList.add("form-control-sm"),this.options.input_size==="large"&&t.classList.add("form-control-lg"),t}},{key:"getRangeInput",value:function(t,e,r){var c=Fn(De(l.prototype),"getRangeInput",this).call(this,t,e,r);return c.classList.remove("form-control"),c.classList.add("form-range"),c}},{key:"getStepperButtons",value:function(t){var e=document.createElement("div"),r=document.createElement("button");r.setAttribute("type","button");var c=document.createElement("button");c.setAttribute("type","button"),e.appendChild(r),e.appendChild(t),e.appendChild(c),e.classList.add("input-group"),r.classList.add("btn"),r.classList.add("btn-secondary"),r.classList.add("stepper-down"),c.classList.add("btn"),c.classList.add("btn-secondary"),c.classList.add("stepper-up"),t.getAttribute("readonly")&&(r.setAttribute("disabled",!0),c.setAttribute("disabled",!0)),r.textContent="-",c.textContent="+";var p=function(P,N){P.value=Number(N||P.value),P.setAttribute("initialized","1")},b=t.getAttribute("min"),k=t.getAttribute("max");return t.addEventListener("change",function(){t.getAttribute("initialized")||t.setAttribute("initialized","1")}),r.addEventListener("click",function(){t.getAttribute("initialized")?b?Number(t.value)>Number(b)&&t.stepDown():t.stepDown():p(t,b),x(t,"change")}),c.addEventListener("click",function(){t.getAttribute("initialized")?k?Number(t.value)<Number(k)&&t.stepUp():t.stepUp():p(t,b),x(t,"change")}),e}},{key:"getFormInputField",value:function(t){var e=Fn(De(l.prototype),"getFormInputField",this).call(this,t);return t!=="checkbox"&&t!=="radio"&&(e.classList.add("form-control"),this.options.input_size==="small"&&e.classList.add("form-control-sm"),this.options.input_size==="large"&&e.classList.add("form-control-lg")),e}},{key:"getFormControl",value:function(t,e,r,c){var p=document.createElement("div");if(p.classList.add("form-group"),!t||e.type!=="checkbox"&&e.type!=="radio")t&&(t.classList.add("form-label"),p.appendChild(t),c&&p.appendChild(c)),p.appendChild(e);else{var b=document.createElement("div");b.classList.add("form-check"),e.classList.add("form-check-input"),t.classList.add("form-check-label");var k=(Date.now()*Math.random()).toFixed(0);e.setAttribute("id",k),t.setAttribute("for",k),b.appendChild(e),b.appendChild(t),c&&b.appendChild(c),p.appendChild(b)}return r&&p.appendChild(r),p}},{key:"getInfoButton",value:function(t){var e=document.createElement("button");e.type="button",e.classList.add("ms-3","jsoneditor-twbs5-text-button"),e.setAttribute("data-toggle","tooltip"),e.setAttribute("data-placement","auto"),e.title=t;var r=document.createTextNode("");return e.appendChild(r),this.options.tooltip==="bootstrap"?window.jQuery&&window.jQuery().tooltip?window.jQuery(e).tooltip():console.warn("Could not find popper jQuery plugin of Bootstrap."):this.options.tooltip==="css"&&e.classList.add("je-tooltip"),e}},{key:"getCheckbox",value:function(){return this.getFormInputField("checkbox")}},{key:"getMultiCheckboxHolder",value:function(t,e,r,c){var p=document.createElement("div");p.classList.add("form-group"),e&&(p.appendChild(e),c&&e.appendChild(c));var b=document.createElement("div");return Object.values(t).forEach(function(k){var P=k.firstChild;b.appendChild(P)}),p.appendChild(b),r&&p.appendChild(r),p}},{key:"getFormRadio",value:function(t){var e=this.getFormInputField("radio");for(var r in t)e.setAttribute(r,t[r]);return e.classList.add("form-check-input"),e}},{key:"getFormRadioLabel",value:function(t,e){var r=document.createElement("label");return r.classList.add("form-check-label"),r.appendChild(document.createTextNode(t)),r}},{key:"getFormRadioControl",value:function(t,e,r){var c=document.createElement("div");return c.classList.add("form-check"),c.appendChild(e),c.appendChild(t),r&&c.classList.add("form-check-inline"),c}},{key:"getIndentedPanel",value:function(){var t=document.createElement("div");return t.classList.add("card","card-body","my-3"),this.options.object_background&&t.classList.add(this.options.object_background),this.options.object_text&&t.classList.add(this.options.object_text),t}},{key:"getFormInputDescription",value:function(t){var e=document.createElement("small");return e.classList.add("form-text"),e.classList.add("d-block"),window.DOMPurify?e.innerHTML=window.DOMPurify.sanitize(t):e.textContent=this.cleanText(t),e}},{key:"getHeader",value:function(t,e){var r=document.createElement("h3");return r.classList.add("card-title"),r.classList.add("level-"+e),typeof t=="string"?r.textContent=t:r.appendChild(t),r.style.display="inline-block",r}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getButtonHolder",value:function(){var t=document.createElement("span");return t.classList.add("btn-group"),t}},{key:"getFormButtonHolder",value:function(t){var e=this.getButtonHolder();return e.classList.add("d-block"),t==="center"?e.classList.add("text-center"):t==="right"&&e.classList.add("text-end"),e}},{key:"getButton",value:function(t,e,r){var c=Fn(De(l.prototype),"getButton",this).call(this,t,e,r);return c.classList.add("btn","btn-secondary","btn-sm"),c}},{key:"getTable",value:function(){var t=document.createElement("table");return t.classList.add("table","table-sm"),this.options.table_border&&t.classList.add("table-bordered"),this.options.table_zebrastyle&&t.classList.add("table-striped"),t}},{key:"getErrorMessage",value:function(t){var e=document.createElement("div");return e.classList.add("alert","alert-danger"),e.setAttribute("role","alert"),e.appendChild(document.createTextNode(t)),e}},{key:"addInputError",value:function(t,e){t.controlgroup&&(t.controlgroup.classList.add("is-invalid"),t.errmsg||(t.errmsg=document.createElement("p"),t.errmsg.classList.add("invalid-feedback"),t.controlgroup.appendChild(t.errmsg),t.errmsg.style.display="block"),t.errmsg.style.display="block",t.errmsg.textContent=e)}},{key:"removeInputError",value:function(t){t.errmsg&&(t.errmsg.style.display="none",t.controlgroup.classList.remove("is-invalid"))}},{key:"getTabHolder",value:function(t){var e=document.createElement("div"),r=t===void 0?"":t;return e.innerHTML="<div class='col-md-2' id='".concat(r,"'><ul class='nav flex-column nav-pills'></ul></div><div class='col-md-10'><div class='tab-content' id='").concat(r,"'></div></div>"),e.classList.add("row"),e}},{key:"addTab",value:function(t,e){t.children[0].children[0].appendChild(e)}},{key:"getTabContentHolder",value:function(t){return t.children[1].children[0]}},{key:"getTopTabHolder",value:function(t){var e=t===void 0?"":t,r=document.createElement("div");return r.classList.add("card"),r.innerHTML="<div class='card-header'><ul class='nav nav-tabs card-header-tabs' id='".concat(e,"'></ul></div><div class='card-body'><div class='tab-content' id='").concat(e,"'></div></div>"),r}},{key:"getTab",value:function(t,e){var r=document.createElement("li");r.classList.add("nav-item");var c=document.createElement("a");return c.classList.add("nav-link"),c.setAttribute("href","#".concat(e)),c.setAttribute("data-toggle","tab"),c.appendChild(t),r.appendChild(c),r}},{key:"getTopTab",value:function(t,e){var r=document.createElement("li");r.classList.add("nav-item");var c=document.createElement("a");return c.classList.add("nav-link"),c.setAttribute("href","#".concat(e)),c.setAttribute("data-toggle","tab"),c.appendChild(t),r.appendChild(c),r}},{key:"getTabContent",value:function(){var t=document.createElement("div");return t.classList.add("tab-pane"),t.setAttribute("role","tabpanel"),t}},{key:"getTopTabContent",value:function(){var t=document.createElement("div");return t.classList.add("tab-pane"),t.setAttribute("role","tabpanel"),t}},{key:"markTabActive",value:function(t){t.tab.firstChild.classList.add("active"),t.rowPane!==void 0?t.rowPane.classList.add("active"):t.container.classList.add("active")}},{key:"markTabInactive",value:function(t){t.tab.firstChild.classList.remove("active"),t.rowPane!==void 0?t.rowPane.classList.remove("active"):t.container.classList.remove("active")}},{key:"insertBasicTopTab",value:function(t,e){e.children[0].children[0].insertBefore(t,e.children[0].children[0].firstChild)}},{key:"addTopTab",value:function(t,e){t.children[0].children[0].appendChild(e)}},{key:"getTopTabContentHolder",value:function(t){return t.children[1].children[0]}},{key:"getFirstTab",value:function(t){return t.firstChild.firstChild.firstChild}},{key:"getProgressBar",value:function(){var t=document.createElement("div");t.classList.add("progress");var e=document.createElement("div");return e.classList.add("progress-bar"),e.setAttribute("role","progressbar"),e.setAttribute("aria-valuenow",0),e.setAttribute("aria-valuemin",0),e.setAttribute("aria-valuenax",100),e.innerHTML="".concat(0,"%"),t.appendChild(e),t}},{key:"updateProgressBar",value:function(t,e){if(t){var r=t.firstChild,c="".concat(e,"%");r.setAttribute("aria-valuenow",e),r.style.width=c,r.innerHTML=c}}},{key:"updateProgressBarUnknown",value:function(t){if(t){var e=t.firstChild;t.classList.add("progress","progress-striped","active"),e.removeAttribute("aria-valuenow"),e.style.width="100%",e.innerHTML=""}}},{key:"getBlockLink",value:function(){var t=document.createElement("a");return t.classList.add("mb-3","d-inline-block"),t}},{key:"getLinksHolder",value:function(){return document.createElement("div")}},{key:"getInputGroup",value:function(t,e){if(t){var r=document.createElement("div");r.classList.add("input-group"),r.appendChild(t);for(var c=0;c<e.length;c++)e[c].classList.remove("me-2","btn-secondary"),e[c].classList.add("btn-outline-secondary"),r.appendChild(e[c]);return r}}}])&&Ih(n.prototype,s),l}(Ce);function vs(o){return(vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Dh(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function Mh(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Dn(o,n,s){return(Dn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Me(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function bs(o,n){return(bs=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Vh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Me(o);if(n){var l=Me(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Hh(this,s)}}function Hh(o,n){return!n||vs(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Me(o){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}gs.rules={".form-group":"margin-bottom:1rem",".form-text":"display:block",".jsoneditor-twbs5-text-button":"background:none;padding:0;border:0;color:currentColor","td > .form-group":"margin-bottom:0",".json-editor-btn-upload":"margin-top:1rem",".je-noindent .card":"padding:0;border:0",".je-tooltip:hover::before":"display:block;position:absolute;font-size:0.8em;color:%23fff;border-radius:0.2em;content:attr(title);background-color:%23000;margin-top:-2.5em;padding:0.3em",".je-tooltip:hover::after":"display:block;position:absolute;font-size:0.8em;color:%23fff",".select2-container--default .select2-selection--single":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__arrow":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__rendered":"line-height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".selectize-control.form-control":"padding:0",".selectize-dropdown.form-control":"padding:0;height:auto",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};var _s=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bs(t,e)})(l,o);var n,s,i=Vh(l);function l(){return Dh(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"getTable",value:function(){var t=Dn(Me(l.prototype),"getTable",this).call(this);return t.setAttribute("cellpadding",5),t.setAttribute("cellspacing",0),t}},{key:"getTableHeaderCell",value:function(t){var e=Dn(Me(l.prototype),"getTableHeaderCell",this).call(this,t);return e.classList.add("ui-state-active"),e.style.fontWeight="bold",e}},{key:"getTableCell",value:function(){var t=Dn(Me(l.prototype),"getTableCell",this).call(this);return t.classList.add("ui-widget-content"),t}},{key:"getHeaderButtonHolder",value:function(){var t=this.getButtonHolder();return t.style.marginLeft="10px",t.style.fontSize=".6em",t.style.display="inline-block",t}},{key:"getFormInputDescription",value:function(t){var e=this.getDescription(t);return e.style.marginLeft="10px",e.style.display="inline-block",e}},{key:"getFormControl",value:function(t,e,r,c){var p=Dn(Me(l.prototype),"getFormControl",this).call(this,t,e,r,c);return e.type==="checkbox"?(p.style.lineHeight="25px",p.style.padding="3px 0"):p.style.padding="4px 0 8px 0",p}},{key:"getDescription",value:function(t){var e=document.createElement("span");return e.style.fontSize=".8em",e.style.fontStyle="italic",window.DOMPurify?e.innerHTML=window.DOMPurify.sanitize(t):e.textContent=this.cleanText(t),e}},{key:"getButtonHolder",value:function(){var t=document.createElement("div");return t.classList.add("ui-buttonset"),t.style.fontSize=".7em",t}},{key:"getFormInputLabel",value:function(t,e){var r=document.createElement("label");return r.style.fontWeight="bold",r.style.display="block",r.textContent=t,e&&r.classList.add("required"),r}},{key:"getButton",value:function(t,e,r){var c=document.createElement("button");c.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all"),e&&!t?(c.classList.add("ui-button-icon-only"),e.classList.add("ui-button-icon-primary","ui-icon-primary"),c.appendChild(e)):e?(c.classList.add("ui-button-text-icon-primary"),e.classList.add("ui-button-icon-primary","ui-icon-primary"),c.appendChild(e)):c.classList.add("ui-button-text-only");var p=document.createElement("span");return p.classList.add("ui-button-text"),p.textContent=t||r||".",c.appendChild(p),c.setAttribute("title",r),c}},{key:"setButtonText",value:function(t,e,r,c){t.innerHTML="",t.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all"),r&&!e?(t.classList.add("ui-button-icon-only"),r.classList.add("ui-button-icon-primary","ui-icon-primary"),t.appendChild(r)):r?(t.classList.add("ui-button-text-icon-primary"),r.classList.add("ui-button-icon-primary","ui-icon-primary"),t.appendChild(r)):t.classList.add("ui-button-text-only");var p=document.createElement("span");p.classList.add("ui-button-text"),p.textContent=e||c||".",t.appendChild(p),t.setAttribute("title",c)}},{key:"getIndentedPanel",value:function(){var t=document.createElement("div");return t.classList.add("ui-widget-content","ui-corner-all"),t.style.padding="1em 1.4em",t.style.marginBottom="20px",t}},{key:"afterInputReady",value:function(t){if(!t.controls&&(t.controls=this.closest(t,".form-control"),this.queuedInputErrorText)){var e=this.queuedInputErrorText;delete this.queuedInputErrorText,this.addInputError(t,e)}}},{key:"addInputError",value:function(t,e){t.controls?(t.errmsg?t.errmsg.style.display="":(t.errmsg=document.createElement("div"),t.errmsg.classList.add("ui-state-error"),t.controls.appendChild(t.errmsg)),t.errmsg.textContent=e):this.queuedInputErrorText=e}},{key:"removeInputError",value:function(t){t.controls||delete this.queuedInputErrorText,t.errmsg&&(t.errmsg.style.display="none")}},{key:"markTabActive",value:function(t){t.tab.classList.remove("ui-widget-header"),t.tab.classList.add("ui-state-active"),t.rowPane!==void 0?t.rowPane.style.display="":t.container.style.display=""}},{key:"markTabInactive",value:function(t){t.tab.classList.add("ui-widget-header"),t.tab.classList.remove("ui-state-active"),t.rowPane!==void 0?t.rowPane.style.display="none":t.container.style.display="none"}}])&&Mh(n.prototype,s),l}(Ce);_s.rules={'div[data-schemaid="root"]:after':'position:relative;color:red;margin:10px 0;font-weight:600;display:block;width:100%;text-align:center;content:"This is an old JSON-Editor 1.x Theme and might not display elements correctly when used with the 2.x version"'};function ws(o){return(ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function zh(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function $h(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function ks(o,n){return(ks=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function qh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Mr(o);if(n){var l=Mr(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Uh(this,s)}}function Uh(o,n){return!n||ws(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Mr(o){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var xs=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ks(t,e)})(l,o);var n,s,i=qh(l);function l(){return zh(this,l),i.apply(this,arguments)}return n=l,(s=[{key:"addInputError",value:function(t,e){if(t.errmsg)t.errmsg.style.display="block";else{var r=this.closest(t,".form-control");t.errmsg=document.createElement("div"),t.errmsg.setAttribute("class","errmsg"),r.nodeName&&r.appendChild(t.errmsg)}t.errmsg.innerHTML="",t.errmsg.appendChild(document.createTextNode(e))}},{key:"removeInputError",value:function(t){t.style&&(t.style.borderColor=""),t.errmsg&&(t.errmsg.style.display="none")}}])&&$h(n.prototype,s),l}(Ce);xs.rules={".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};function js(o){return(js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Gh(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function Ht(o,n,s){return(Ht=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Bt(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Cs(o,n){return(Cs=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Wh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Bt(o);if(n){var l=Bt(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Jh(this,s)}}function Jh(o,n){return!n||js(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Bt(o){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Qh={disable_theme_rules:!1,label_bold:!0,align_bottom:!1,object_indent:!1,object_border:!1,table_border:!1,table_zebrastyle:!1,input_size:"normal"},Os=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cs(t,e)})(l,o);var n,s,i=Wh(l);function l(t){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,t,Qh)}return n=l,(s=[{key:"setGridColumnSize",value:function(t,e,r){t.classList.add("col-".concat(e)),r&&t.classList.add("col-mx-auto")}},{key:"getGridContainer",value:function(){var t=document.createElement("div");return t.classList.add("container"),this.options.object_indent||t.classList.add("je-noindent"),t}},{key:"getGridRow",value:function(){var t=document.createElement("div");return t.classList.add("columns"),t}},{key:"getGridColumn",value:function(){var t=document.createElement("div");return t.classList.add("column"),this.options.align_bottom&&t.classList.add("je-align-bottom"),t}},{key:"getIndentedPanel",value:function(){var t=document.createElement("div");return t.classList.add("je-panel"),this.options.object_border&&t.classList.add("je-border"),t}},{key:"getTopIndentedPanel",value:function(){var t=document.createElement("div");return t.classList.add("je-panel-top"),this.options.object_border&&t.classList.add("je-border"),t}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getButtonHolder",value:function(){var t=Ht(Bt(l.prototype),"getButtonHolder",this).call(this);return t.classList.add("btn-group"),t}},{key:"getFormButtonHolder",value:function(t){var e=Ht(Bt(l.prototype),"getFormButtonHolder",this).call(this);return e.classList.remove("btn-group"),e.classList.add("d-block"),t==="center"?e.classList.add("text-center"):t==="right"?e.classList.add("text-right"):e.classList.add("text-left"),e}},{key:"getFormButton",value:function(t,e,r){var c=Ht(Bt(l.prototype),"getFormButton",this).call(this,t,e,r);return c.classList.add("btn","btn-primary","mx-2","my-1"),this.options.input_size!=="small"&&c.classList.remove("btn-sm"),this.options.input_size==="large"&&c.classList.add("btn-lg"),c}},{key:"getButton",value:function(t,e,r){var c=Ht(Bt(l.prototype),"getButton",this).call(this,t,e,r);return c.classList.add("btn","btn-sm","btn-primary","mr-2","my-1"),c}},{key:"getHeader",value:function(t,e){var r=document.createElement("h4");return typeof t=="string"?r.textContent=t:r.appendChild(t),r.style.display="inline-block",r}},{key:"getFormInputDescription",value:function(t){var e=Ht(Bt(l.prototype),"getFormInputDescription",this).call(this,t);return e.classList.add("je-desc","hide-sm"),e}},{key:"getFormInputLabel",value:function(t,e){var r=Ht(Bt(l.prototype),"getFormInputLabel",this).call(this,t,e);return this.options.label_bold&&r.classList.add("je-label"),r}},{key:"getCheckbox",value:function(){return this.getFormInputField("checkbox")}},{key:"getCheckboxLabel",value:function(t,e){var r=Ht(Bt(l.prototype),"getCheckboxLabel",this).call(this,t,e),c=document.createElement("i");return c.classList.add("form-icon"),r.classList.add("form-checkbox","pr-0"),r.insertBefore(c,r.firstChild),r}},{key:"getFormCheckboxControl",value:function(t,e,r){return t.insertBefore(e,t.firstChild),r&&t.classList.add("form-inline"),t}},{key:"getMultiCheckboxHolder",value:function(t,e,r,c){return Ht(Bt(l.prototype),"getMultiCheckboxHolder",this).call(this,t,e,r,c)}},{key:"getFormRadio",value:function(t){var e=this.getFormInputField("radio");for(var r in t)e.setAttribute(r,t[r]);return e}},{key:"getFormRadioLabel",value:function(t,e){var r=Ht(Bt(l.prototype),"getFormRadioLabel",this).call(this,t,e),c=document.createElement("i");return c.classList.add("form-icon"),r.classList.add("form-radio"),r.insertBefore(c,r.firstChild),r}},{key:"getFormRadioControl",value:function(t,e,r){return t.insertBefore(e,t.firstChild),r&&t.classList.add("form-inline"),t}},{key:"getFormInputField",value:function(t){var e=Ht(Bt(l.prototype),"getFormInputField",this).call(this,t);return["checkbox","radio"].includes(t)||e.classList.add("form-input"),e}},{key:"getRangeInput",value:function(t,e,r){var c=this.getFormInputField("range");return c.classList.add("slider"),c.classList.remove("form-input"),c.setAttribute("oninput",'this.setAttribute("value", this.value)'),c.setAttribute("min",t),c.setAttribute("max",e),c.setAttribute("step",r),c}},{key:"getRangeControl",value:function(t,e){var r=Ht(Bt(l.prototype),"getRangeControl",this).call(this,t,e);return r.classList.add("text-center"),r}},{key:"getSelectInput",value:function(t,e){var r=Ht(Bt(l.prototype),"getSelectInput",this).call(this,t);return r.classList.add("form-select"),r}},{key:"getTextareaInput",value:function(){var t=document.createElement("textarea");return t.classList.add("form-input"),t}},{key:"getFormControl",value:function(t,e,r,c){var p=document.createElement("div");return p.classList.add("form-group"),!t||e.type!=="checkbox"&&e.type!=="radio"?(t&&(t.classList.add("form-label"),p.appendChild(t),c&&t.appendChild(c)),p.appendChild(e)):(p.classList.add(e.type),c&&t.appendChild(c),t.insertBefore(e,t.firstChild),p.appendChild(t)),this.options.input_size==="small"?e.classList.add("input-sm","select-sm"):this.options.input_size==="large"&&e.classList.add("input-lg","select-lg"),e.type!=="checkbox"&&p.appendChild(e),r&&p.appendChild(r),p}},{key:"getInputGroup",value:function(t,e){if(t){var r=document.createElement("div");r.classList.add("input-group"),r.appendChild(t);for(var c=0;c<e.length;c++)e[c].classList.add("input-group-btn"),e[c].classList.remove("btn-sm","mr-2","my-1"),r.appendChild(e[c]);return r}}},{key:"getInfoButton",value:function(t){var e=document.createElement("div");e.classList.add("popover","popover-left","float-right");var r=document.createElement("button");r.classList.add("btn","btn-secondary","btn-info","btn-action","s-circle"),r.setAttribute("tabindex","-1"),e.appendChild(r);var c=document.createTextNode("I");r.appendChild(c);var p=document.createElement("div");p.classList.add("popover-container"),e.appendChild(p);var b=document.createElement("div");b.classList.add("card"),p.appendChild(b);var k=document.createElement("div");return k.classList.add("card-body"),k.innerHTML=t,b.appendChild(k),e}},{key:"getTable",value:function(){var t=Ht(Bt(l.prototype),"getTable",this).call(this);return t.classList.add("table","table-scroll"),this.options.table_border&&t.classList.add("je-table-border"),this.options.table_zebrastyle&&t.classList.add("table-striped"),t}},{key:"getProgressBar",value:function(){var t=Ht(Bt(l.prototype),"getProgressBar",this).call(this);return t.classList.add("progress"),t}},{key:"getTabHolder",value:function(t){var e=t===void 0?"":t,r=document.createElement("div");return r.classList.add("columns"),r.innerHTML='<div class="column col-2"></div><div class="column col-10 content" id="'.concat(e,'"></div>'),r}},{key:"getTopTabHolder",value:function(t){var e=t===void 0?"":t,r=document.createElement("div");return r.innerHTML='<ul class="tab"></ul><div class="content" id="'.concat(e,'"></div>'),r}},{key:"getTab",value:function(t,e){var r=document.createElement("a");return r.classList.add("btn","btn-secondary","btn-block"),r.setAttribute("href","#".concat(e)),r.appendChild(t),r}},{key:"getTopTab",value:function(t,e){var r=document.createElement("li");r.id=e,r.classList.add("tab-item");var c=document.createElement("a");return c.setAttribute("href","#".concat(e)),c.appendChild(t),r.appendChild(c),r}},{key:"markTabActive",value:function(t){t.tab.classList.add("active"),t.rowPane!==void 0?t.rowPane.style.display="":t.container.style.display=""}},{key:"markTabInactive",value:function(t){t.tab.classList.remove("active"),t.rowPane!==void 0?t.rowPane.style.display="none":t.container.style.display="none"}},{key:"afterInputReady",value:function(t){if(t.localName==="select"){if(t.classList.contains("selectized")){var e=t.nextSibling;e&&(e.classList.remove("form-select"),Array.from(e.querySelectorAll(".form-select")).forEach(function(c){c.classList.remove("form-select")}))}else if(t.classList.contains("select2-hidden-accessible")){var r=t.nextSibling;r&&r.querySelector(".select2-selection--single")&&r.classList.add("form-select")}}t.controlgroup||(t.controlgroup=this.closest(t,".form-group"),this.closest(t,".compact")&&(t.controlgroup.style.marginBottom=0))}},{key:"addInputError",value:function(t,e){t.controlgroup&&(t.controlgroup.classList.add("has-error"),t.errmsg||(t.errmsg=document.createElement("p"),t.errmsg.classList.add("form-input-hint"),t.controlgroup.appendChild(t.errmsg)),t.errmsg.classList.remove("d-hide"),t.errmsg.textContent=e)}},{key:"removeInputError",value:function(t){t.errmsg&&(t.errmsg.classList.add("d-hide"),t.controlgroup.classList.remove("has-error"))}}])&&Gh(n.prototype,s),l}(Ce);Os.rules={"*":"--primary-color:%235755d9;--gray-color:%23bcc3ce;--light-color:%23fff",".slider:focus":"box-shadow:none","h4 > label + .btn-group":"margin-left:1rem",".text-right > button":"margin-right:0%20!important",".text-left > button":"margin-left:0%20!important",".property-selector":"font-size:0.7rem;font-weight:normal;max-height:260px%20!important;width:395px%20!important",".property-selector .form-checkbox":"margin:0",textarea:"width:100%25;min-height:2rem;resize:vertical",table:"border-collapse:collapse",".table td":"padding:0.4rem%200.4rem",".mr-5":"margin-right:1rem%20!important","div[data-schematype]:not([data-schematype='object'])":"transition:0.5s","div[data-schematype]:not([data-schematype='object']):hover":"background-color:%23eee",".je-table-border td":"border:0.05rem%20solid%20%23dadee4%20!important",".btn-info":"font-size:0.5rem;font-weight:bold;height:0.8rem;padding:0.15rem%200;line-height:0.8;margin:0.3rem%200%200.3rem%200.1rem",".je-label + select":"min-width:5rem",".je-label":"font-weight:600",".btn-action.btn-info":"width:0.8rem",".je-border":"border:0.05rem%20solid%20%23dadee4",".je-panel":"padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".je-panel-top":"padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".required:after":"content:%22%20*%22;color:red;font:inherit",".je-align-bottom":"margin-top:auto",".je-desc":"font-size:smaller;margin:0.2rem%200",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem;border:3px%20solid%20white;box-shadow:0px%200px%208px%20rgba(0%2C%200%2C%200%2C%200.3);box-sizing:border-box",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red",".columns .container.je-noindent":"padding-left:0;padding-right:0",".selectize-control.multi .item":"background:var(--primary-color)%20!important",".select2-container--default   .select2-selection--single   .select2-selection__arrow":"display:none",".select2-container--default .select2-selection--single":"border:none",".select2-container .select2-selection--single .select2-selection__rendered":"padding:0",".select2-container .select2-search--inline .select2-search__field":"margin-top:0",".select2-container--default.select2-container--focus   .select2-selection--multiple":"border:0.05rem%20solid%20var(--gray-color)",".select2-container--default   .select2-selection--multiple   .select2-selection__choice":"margin:0.4rem%200.2rem%200.2rem%200;padding:2px%205px;background-color:var(--primary-color);color:var(--light-color)",".select2-container--default .select2-search--inline .select2-search__field":"line-height:normal",".choices":"margin-bottom:auto",".choices__list--multiple .choices__item":"border:none;background-color:var(--primary-color);color:var(--light-color)",".choices[data-type*='select-multiple'] .choices__button":"border-left:0.05rem%20solid%20%232826a6",".choices__inner":"font-size:inherit;min-height:20px;padding:4px%207.5px%204px%203.75px",".choices[data-type*='select-one'] .choices__inner":"padding-bottom:4px",".choices__list--dropdown .choices__item":"font-size:inherit"};function Es(o){return(Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function Yh(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function zt(o,n,s){return(zt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,l,t){var e=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=Nt(c))!==null;);return c}(i,l);if(e){var r=Object.getOwnPropertyDescriptor(e,l);return r.get?r.get.call(t):r.value}})(o,n,s||o)}function Ss(o,n){return(Ss=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s})(o,n)}function Zh(o){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,i=Nt(o);if(n){var l=Nt(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Xh(this,s)}}function Xh(o,n){return!n||Es(n)!=="object"&&typeof n!="function"?function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o):n}function Nt(o){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var Kh={disable_theme_rules:!1,label_bold:!1,object_panel_default:!0,object_indent:!0,object_border:!1,table_border:!1,table_hdiv:!1,table_zebrastyle:!1,input_size:"small",enable_compact:!1},Ps=function(o){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ss(t,e)})(l,o);var n,s,i=Zh(l);function l(t){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,t,Kh)}return n=l,(s=[{key:"getGridContainer",value:function(){var t=document.createElement("div");return t.classList.add("flex","flex-col","w-full"),this.options.object_indent||t.classList.add("je-noindent"),t}},{key:"getGridRow",value:function(){var t=document.createElement("div");return t.classList.add("flex","flex-wrap","w-full"),t}},{key:"getGridColumn",value:function(){var t=document.createElement("div");return t.classList.add("flex","flex-col"),t}},{key:"setGridColumnSize",value:function(t,e,r){e>0&&e<12?t.classList.add("w-".concat(e,"/12"),"px-1"):t.classList.add("w-full","px-1"),r&&(t.style.marginLeft="".concat(100/12*r,"%"))}},{key:"getIndentedPanel",value:function(){var t=document.createElement("div");return this.options.object_panel_default?t.classList.add("w-full","p-1"):t.classList.add("relative","flex","flex-col","rounded","break-words","border","bg-white","border-0","border-blue-400","p-1","shadow-md"),this.options.object_border&&t.classList.add("je-border"),t}},{key:"getTopIndentedPanel",value:function(){var t=document.createElement("div");return this.options.object_panel_default?t.classList.add("w-full","m-2"):t.classList.add("relative","flex","flex-col","rounded","break-words","border","bg-white","border-0","border-blue-400","p-1","shadow-md"),this.options.object_border&&t.classList.add("je-border"),t}},{key:"getTitle",value:function(){return this.translateProperty(this.schema.title)}},{key:"getSelectInput",value:function(t,e){var r=zt(Nt(l.prototype),"getSelectInput",this).call(this,t);return e?r.classList.add("form-multiselect","block","py-0","h-auto","w-full","px-1","text-sm","text-black","leading-normal","bg-white","border","border-grey","rounded"):r.classList.add("form-select","block","py-0","h-6","w-full","px-1","text-sm","text-black","leading-normal","bg-white","border","border-grey","rounded"),this.options.enable_compact&&r.classList.add("compact"),r}},{key:"afterInputReady",value:function(t){t.controlgroup||(t.controlgroup=this.closest(t,".form-group"),this.closest(t,".compact")&&(t.controlgroup.style.marginBottom=0))}},{key:"getTextareaInput",value:function(){var t=zt(Nt(l.prototype),"getTextareaInput",this).call(this);return t.classList.add("block","w-full","px-1","text-sm","leading-normal","bg-white","text-black","border","border-grey","rounded"),this.options.enable_compact&&t.classList.add("compact"),t.style.height=0,t}},{key:"getRangeInput",value:function(t,e,r){var c=this.getFormInputField("range");return c.classList.add("slider"),this.options.enable_compact&&c.classList.add("compact"),c.setAttribute("oninput",'this.setAttribute("value", this.value)'),c.setAttribute("min",t),c.setAttribute("max",e),c.setAttribute("step",r),c}},{key:"getRangeControl",value:function(t,e){var r=zt(Nt(l.prototype),"getRangeControl",this).call(this,t,e);return r.classList.add("text-center","text-black"),r}},{key:"getCheckbox",value:function(){var t=this.getFormInputField("checkbox");return t.classList.add("form-checkbox","text-red-600"),t}},{key:"getCheckboxLabel",value:function(t,e){var r=zt(Nt(l.prototype),"getCheckboxLabel",this).call(this,t,e);return r.classList.add("inline-flex","items-center"),r}},{key:"getFormCheckboxControl",value:function(t,e,r){return t.insertBefore(e,t.firstChild),r&&t.classList.add("inline-flex flex-row"),t}},{key:"getMultiCheckboxHolder",value:function(t,e,r,c){var p=zt(Nt(l.prototype),"getMultiCheckboxHolder",this).call(this,t,e,r,c);return p.classList.add("inline-flex","flex-col"),p}},{key:"getFormRadio",value:function(t){var e=this.getFormInputField("radio");for(var r in e.classList.add("form-radio","text-red-600"),t)e.setAttribute(r,t[r]);return e}},{key:"getFormRadioLabel",value:function(t,e){var r=zt(Nt(l.prototype),"getFormRadioLabel",this).call(this,t,e);return r.classList.add("inline-flex","items-center","mr-2"),r}},{key:"getFormRadioControl",value:function(t,e,r){return t.insertBefore(e,t.firstChild),r&&t.classList.add("form-radio"),t}},{key:"getRadioHolder",value:function(t,e,r,c,p){var b=zt(Nt(l.prototype),"getRadioHolder",this).call(this,e,r,c,p);return t.options.layout==="h"?b.classList.add("inline-flex","flex-row"):b.classList.add("inline-flex","flex-col"),b}},{key:"getFormInputLabel",value:function(t,e){var r=zt(Nt(l.prototype),"getFormInputLabel",this).call(this,t,e);return this.options.label_bold?r.classList.add("font-bold"):r.classList.add("required"),r}},{key:"getFormInputField",value:function(t){var e=zt(Nt(l.prototype),"getFormInputField",this).call(this,t);return["checkbox","radio"].includes(t)||e.classList.add("block","w-full","px-1","text-black","text-sm","leading-normal","bg-white","border","border-grey","rounded"),this.options.enable_compact&&e.classList.add("compact"),e}},{key:"getFormInputDescription",value:function(t){var e=document.createElement("p");return e.classList.add("block","mt-1","text-xs"),window.DOMPurify?e.innerHTML=window.DOMPurify.sanitize(t):e.textContent=this.cleanText(t),e}},{key:"getFormControl",value:function(t,e,r,c){var p=document.createElement("div");return p.classList.add("form-group","mb-1","w-full"),t&&(t.classList.add("text-xs"),e.type==="checkbox"&&(e.classList.add("form-checkbox","text-xs","text-red-600","mr-1"),t.classList.add("items-center","flex"),t=this.getFormCheckboxControl(t,e,!1,c)),e.type==="radio"&&(e.classList.add("form-radio","text-red-600","mr-1"),t.classList.add("items-center","flex"),t=this.getFormRadioControl(t,e,!1,c)),p.appendChild(t),!["checkbox","radio"].includes(e.type)&&c&&p.appendChild(c)),["checkbox","radio"].includes(e.type)||(this.options.input_size==="small"?e.classList.add("text-xs"):this.options.input_size==="normal"?e.classList.add("text-base"):this.options.input_size==="large"&&e.classList.add("text-xl"),p.appendChild(e)),r&&p.appendChild(r),p}},{key:"getHeaderButtonHolder",value:function(){var t=this.getButtonHolder();return t.classList.add("text-sm"),t}},{key:"getButtonHolder",value:function(){var t=document.createElement("div");return t.classList.add("flex","relative","inline-flex","align-middle"),t}},{key:"getButton",value:function(t,e,r){var c=zt(Nt(l.prototype),"getButton",this).call(this,t,e,r);return c.classList.add("inline-block","align-middle","text-center","text-sm","bg-blue-700","text-white","py-1","pr-1","m-2","shadow","select-none","whitespace-no-wrap","rounded"),c}},{key:"getInfoButton",value:function(t){var e=document.createElement("a");e.classList.add("tooltips","float-right"),e.innerHTML="";var r=document.createElement("span");return r.innerHTML=t,e.appendChild(r),e}},{key:"getTable",value:function(){var t=zt(Nt(l.prototype),"getTable",this).call(this);return this.options.table_border?t.classList.add("je-table-border"):t.classList.add("table","border","p-0"),t}},{key:"getTableRow",value:function(){var t=zt(Nt(l.prototype),"getTableRow",this).call(this);return this.options.table_border&&t.classList.add("je-table-border"),this.options.table_zebrastyle&&t.classList.add("je-table-zebra"),t}},{key:"getTableHeaderCell",value:function(t){var e=zt(Nt(l.prototype),"getTableHeaderCell",this).call(this,t);return this.options.table_border?e.classList.add("je-table-border"):this.options.table_hdiv?e.classList.add("je-table-hdiv"):e.classList.add("text-xs","border","p-0","m-0"),e}},{key:"getTableCell",value:function(){var t=zt(Nt(l.prototype),"getTableCell",this).call(this);return this.options.table_border?t.classList.add("je-table-border"):this.options.table_hdiv?t.classList.add("je-table-hdiv"):t.classList.add("border-0","p-0","m-0"),t}},{key:"addInputError",value:function(t,e){t.controlgroup&&(t.controlgroup.classList.add("has-error"),t.controlgroup.classList.add("text-red-600"),t.errmsg?t.errmsg.style.display="":(t.errmsg=document.createElement("p"),t.errmsg.classList.add("block","mt-1","text-xs","text-red"),t.controlgroup.appendChild(t.errmsg)),t.errmsg.textContent=e)}},{key:"removeInputError",value:function(t){t.errmsg&&(t.errmsg.style.display="none",t.controlgroup.classList.remove("text-red-600"),t.controlgroup.classList.remove("has-error"))}},{key:"getTabHolder",value:function(t){var e=document.createElement("div"),r=t===void 0?"":t;return e.innerHTML="<div class='w-2/12' id='".concat(r,"'><ul class='list-reset pl-0 mb-0'></ul></div><div class='w-10/12' id='").concat(r,"'></div>"),e.classList.add("flex"),e}},{key:"addTab",value:function(t,e){t.children[0].children[0].appendChild(e)}},{key:"getTopTabHolder",value:function(t){var e=t===void 0?"":t,r=document.createElement("div");return r.innerHTML="<ul class='nav-tabs flex list-reset pl-0 mb-0 border-b border-grey-light' id='".concat(e,"'></ul><div class='p-6 block' id='").concat(e,"'></div>"),r}},{key:"getTab",value:function(t,e){var r=document.createElement("li");r.classList.add("nav-item","flex-col","text-center","text-white","bg-blue-500","shadow-md","border","p-2","mb-2","mr-2","hover:bg-blue-400","rounded");var c=document.createElement("a");return c.classList.add("nav-link","text-center"),c.setAttribute("href","#".concat(e)),c.setAttribute("data-toggle","tab"),c.appendChild(t),r.appendChild(c),r}},{key:"getTopTab",value:function(t,e){var r=document.createElement("li");r.classList.add("nav-item","flex","border-l","border-t","border-r");var c=document.createElement("a");return c.classList.add("nav-link","-mb-px","flex-row","text-center","bg-white","p-2","hover:bg-blue-400","rounded-t"),c.setAttribute("href","#".concat(e)),c.setAttribute("data-toggle","tab"),c.appendChild(t),r.appendChild(c),r}},{key:"getTabContent",value:function(){var t=document.createElement("div");return t.setAttribute("role","tabpanel"),t}},{key:"getTopTabContent",value:function(){var t=document.createElement("div");return t.setAttribute("role","tabpanel"),t}},{key:"markTabActive",value:function(t){t.tab.firstChild.classList.add("block"),t.tab.firstChild.classList.contains("border-b")===!0?(t.tab.firstChild.classList.add("border-b-0"),t.tab.firstChild.classList.remove("border-b")):t.tab.firstChild.classList.add("border-b-0"),t.container.classList.contains("hidden")===!0&&t.container.classList.remove("hidden"),t.container.classList.add("block")}},{key:"markTabInactive",value:function(t){t.tab.firstChild.classList.contains("border-b-0")===!0?(t.tab.firstChild.classList.add("border-b"),t.tab.firstChild.classList.remove("border-b-0")):t.tab.firstChild.classList.add("border-b"),t.container.classList.contains("block")===!0&&(t.container.classList.remove("block"),t.container.classList.add("hidden"))}},{key:"getProgressBar",value:function(){var t=document.createElement("div");t.classList.add("progress");var e=document.createElement("div");return e.classList.add("bg-blue","leading-none","py-1","text-xs","text-center","text-white"),e.setAttribute("role","progressbar"),e.setAttribute("aria-valuenow",0),e.setAttribute("aria-valuemin",0),e.setAttribute("aria-valuenax",100),e.innerHTML="".concat(0,"%"),t.appendChild(e),t}},{key:"updateProgressBar",value:function(t,e){if(t){var r=t.firstChild,c="".concat(e,"%");r.setAttribute("aria-valuenow",e),r.style.width=c,r.innerHTML=c}}},{key:"updateProgressBarUnknown",value:function(t){if(t){var e=t.firstChild;t.classList.add("progress","bg-blue","leading-none","py-1","text-xs","text-center","text-white","block"),e.removeAttribute("aria-valuenow"),e.classList.add("w-full"),e.innerHTML=""}}},{key:"getInputGroup",value:function(t,e){if(t){var r=document.createElement("div");r.classList.add("relative","items-stretch","w-full"),r.appendChild(t);var c=document.createElement("div");c.classList.add("-mr-1"),r.appendChild(c);for(var p=0;p<e.length;p++)c.appendChild(e[p]);return r}}}])&&Yh(n.prototype,s),l}(Ce);Ps.rules={".slider":"-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;display:block;border:none;height:1.2rem;width:100%25",".slider:focus":"box-shadow:0%200%200%200%20rgba(87%2C%2085%2C%20217%2C%200.2);outline:none",".slider.tooltip:not([data-tooltip])::after":"content:attr(value)",".slider::-webkit-slider-thumb":"-webkit-appearance:none;background:%23f17405;border-radius:100%25;height:0.6rem;margin-top:-0.25rem;transition:transform%200.2s;width:0.6rem",".slider:active::-webkit-slider-thumb":"transform:scale(1.25);outline:none",".slider::-webkit-slider-runnable-track":"background:%23b2b4b6;border-radius:0.1rem;height:0.1rem;width:100%25","a.tooltips":"position:relative;display:inline","a.tooltips span":"position:absolute;white-space:nowrap;width:auto;padding-left:1rem;padding-right:1rem;color:%23ffffff;background:rgba(56%2C%2056%2C%2056%2C%200.85);height:1.5rem;line-height:1.5rem;text-align:center;visibility:hidden;border-radius:3px","a.tooltips span:after":"content:%22%22;position:absolute;top:50%25;left:100%25;margin-top:-5px;width:0;height:0;border-left:5px%20solid%20rgba(56%2C%2056%2C%2056%2C%200.85);border-top:5px%20solid%20transparent;border-bottom:5px%20solid%20transparent","a:hover.tooltips span":"visibility:visible;opacity:0.9;font-size:0.8rem;right:100%25;top:50%25;margin-top:-12px;margin-right:10px;z-index:999",".json-editor-btntype-properties + div":"font-size:0.8rem;font-weight:normal",textarea:"width:100%25;min-height:2rem;resize:vertical",table:"width:100%25;border-collapse:collapse",".table td":"padding:0rem%200rem","div[data-schematype]:not([data-schematype='object'])":"transition:0.5s","div[data-schematype]:not([data-schematype='object']):hover":"background-color:%23e6f4fe","div[data-schemaid='root']":"position:relative;width:inherit;display:inherit;overflow-x:hidden;z-index:10","select[multiple]":"height:auto","select[multiple].from-select":"height:auto",".je-table-zebra:nth-child(even)":"background-color:%23f2f2f2",".je-table-border":"border:0.5px%20solid%20black",".je-table-hdiv":"border-bottom:1px%20solid%20black",".je-border":"border:0.05rem%20solid%20%233182ce",".je-panel":"width:inherit;padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".je-panel-top":"width:100%25;padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".required:after":"content:%22%20*%22;color:red;font:inherit;font-weight:bold",".je-desc":"font-size:smaller;margin:0.2rem%200",".container-xl.je-noindent":"padding-left:0;padding-right:0",".json-editor-btntype-add":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%234299e1;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btntype-deletelast":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%23e53e3e;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btntype-deleteall":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%23000000;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btn-save":"float:right;color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%232b6cb0;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btn-back":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%232b6cb0;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btntype-delete":"color:%23e53e3e;background-color:rgba(218%2C%20222%2C%20228%2C%200.1);margin:0.03rem;padding:0.1rem",".json-editor-btntype-move":"color:%23000000;background-color:rgba(218%2C%20222%2C%20228%2C%200.1);margin:0.03rem;padding:0.1rem",".json-editor-btn-collapse":"padding:0em%200.8rem;font-size:1.3rem;color:%23e53e3e;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};var td={html:cs,bootstrap3:hs,bootstrap4:fs,bootstrap5:gs,jqueryui:_s,barebones:xs,spectre:Os,tailwind:Ps},ed={".je-float-right-linkholder":"float:right;margin-left:10px",".je-modal":"background-color:white;border:1px%20solid%20black;box-shadow:3px%203px%20black;position:absolute;z-index:10",".je-infobutton-icon":"font-size:16px;font-weight:bold;padding:0.25rem;position:relative;display:inline-block",".je-infobutton-tooltip":"font-size:12px;font-weight:normal;font-family:sans-serif;visibility:hidden;background-color:rgba(50%2C%2050%2C%2050%2C%200.75);margin:0%200.25rem;color:%23fafafa;padding:0.5rem%201rem;border-radius:0.25rem;width:20rem;position:absolute",".je-not-loaded":"pointer-events:none",".je-header":"display:inline-block",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-checkbox":"display:inline-block;width:auto",".je-checkbox-control--compact":"display:inline-block;margin-right:1rem",".je-radio":"display:inline-block;width:auto",".je-radio-control--compact":"display:inline-block;margin-right:1rem",".je-switcher":"background-color:transparent;display:inline-block;font-style:italic;font-weight:normal;height:auto;width:auto;margin-bottom:0;margin-left:5px;padding:0%200%200%203px",".je-textarea":"width:100%25;height:300px;box-sizing:border-box",".je-range-control":"text-align:center",".je-indented-panel":"padding-left:10px;margin-left:10px;border-left:1px%20solid%20%23ccc",".je-indented-panel--top":"padding-left:10px;margin-left:10px",".je-tabholder":"float:left;width:130px",".je-tabholder .content":"margin-left:120px",".je-tabholder--top":"margin-left:10px",".je-tabholder--clear":"clear:both",".je-tab":"border:1px%20solid%20%23ccc;border-width:1px%200%201px%201px;text-align:center;line-height:30px;border-radius:5px;border-bottom-right-radius:0;border-top-right-radius:0;font-weight:bold;cursor:pointer",".je-tab--top":"float:left;border:1px%20solid%20%23ccc;border-width:1px%201px%200px%201px;text-align:center;line-height:30px;border-radius:5px;padding-left:5px;padding-right:5px;border-bottom-right-radius:0;border-bottom-left-radius:0;font-weight:bold;cursor:pointer",".je-block-link":"display:block",".je-media":"width:100%25"};function nd(o){return function(n){if(Array.isArray(n))return Vr(n)}(o)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(o)||function(n,s){if(n){if(typeof n=="string")return Vr(n,s);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vr(n,s)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vr(o,n){(n==null||n>o.length)&&(n=o.length);for(var s=0,i=new Array(n);s<n;s++)i[s]=o[s];return i}function Ts(o,n,s,i,l,t,e){try{var r=o[t](e),c=r.value}catch(p){return void s(p)}r.done?n(c):Promise.resolve(c).then(i,l)}function rd(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function id(o,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}var Ee=function(){function o(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(rd(this,o),!(t instanceof Element))throw new Error("element should be an instance of Element");this.element=t,this.options=w({},o.defaults.options,r),this.ready=!1,this.copyClipboard=null,this.schema=this.options.schema,this.template=this.options.template,this.translate=this.options.translate||o.defaults.translate,this.translateProperty=this.options.translateProperty||o.defaults.translateProperty,this.uuid=0,this.__data={};var c=this.options.theme||o.defaults.theme,p=o.defaults.themes[c];if(!p)throw new Error("Unknown theme ".concat(c));this.element.setAttribute("data-theme",c),this.element.classList.add("je-not-loaded"),this.element.classList.remove("je-ready"),this.theme=new p(this);var b=w(ed,this.getEditorsRules()),k=function(z,U,at){return at?e.addNewStyleRulesToShadowRoot(z,U,at):e.addNewStyleRules(z,U)};if(!this.theme.options.disable_theme_rules){var P=j(this.element);k("default",b,P),p.rules!==void 0&&k(c,p.rules,P)}var N=o.defaults.iconlibs[this.options.iconlib||o.defaults.iconlib];N&&(this.iconlib=new N),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.promise=this.load()}var n,s,i,l;return n=o,(s=[{key:"load",value:(i=regeneratorRuntime.mark(function t(){var e,r,c,p,b,k,P=this;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return e=document.location.origin+document.location.pathname.toString(),r=new qu(this.options),this.expandSchema=function(z){return r.expandSchema(z)},this.expandRefs=function(z,U){return r.expandRefs(z,U)},c=document.location.toString(),N.next=7,r.load(this.schema,e,c);case 7:p=N.sent,b=this.options.custom_validators?{custom_validators:this.options.custom_validators}:{},this.validator=new oo(this,null,b,o.defaults),k=this.getEditorClass(p),this.root=this.createEditor(k,{jsoneditor:this,schema:p,required:!0,container:this.root_container}),this.root.preBuild(),this.root.build(),this.root.postBuild(),E(this.options,"startval")&&this.root.setValue(this.options.startval),this.validation_results=this.validator.validate(this.root.getValue()),this.root.showValidationErrors(this.validation_results),this.ready=!0,this.element.classList.remove("je-not-loaded"),this.element.classList.add("je-ready"),window.requestAnimationFrame(function(){P.ready&&(P.validation_results=P.validator.validate(P.root.getValue()),P.root.showValidationErrors(P.validation_results),P.trigger("ready"),P.trigger("change"))});case 22:case"end":return N.stop()}},t,this)}),l=function(){var t=this,e=arguments;return new Promise(function(r,c){var p=i.apply(t,e);function b(P){Ts(p,r,c,b,k,"next",P)}function k(P){Ts(p,r,c,b,k,"throw",P)}b(void 0)})},function(){return l.apply(this,arguments)})},{key:"getValue",value:function(){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return this.root.getValue()}},{key:"setValue",value:function(t){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return this.root.setValue(t),this}},{key:"validate",value:function(t){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return arguments.length===1?this.validator.validate(t):this.validation_results}},{key:"destroy",value:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.element.removeAttribute("data-theme"),this.destroyed=!0)}},{key:"on",value:function(t,e){return this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[],this.callbacks[t].push(e),this}},{key:"off",value:function(t,e){if(t&&e){this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[];for(var r=[],c=0;c<this.callbacks[t].length;c++)this.callbacks[t][c]!==e&&r.push(this.callbacks[t][c]);this.callbacks[t]=r}else t?(this.callbacks=this.callbacks||{},this.callbacks[t]=[]):this.callbacks={};return this}},{key:"trigger",value:function(t,e){if(this.callbacks&&this.callbacks[t]&&this.callbacks[t].length)for(var r=0;r<this.callbacks[t].length;r++)this.callbacks[t][r].apply(this,[e]);return this}},{key:"setOption",value:function(t,e){if(t!=="show_errors")throw new Error("Option ".concat(t," must be set during instantiation and cannot be changed later"));return this.options.show_errors=e,this.onChange(),this}},{key:"getEditorsRules",value:function(){return Object.values(o.defaults.editors).reduce(function(t,e){return e.rules?w(t,e.rules):t},{})}},{key:"getEditorClass",value:function(t){var e;if(t=this.expandSchema(t),o.defaults.resolvers.find(function(r){return(e=r(t))&&o.defaults.editors[e]}),!e)throw new Error("Unknown editor for schema ".concat(JSON.stringify(t)));if(!o.defaults.editors[e])throw new Error("Unknown editor ".concat(e));return o.defaults.editors[e]}},{key:"createEditor",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return new t(e=w({},t.options||{},e),o.defaults,r)}},{key:"onChange",value:function(){var t=this;if(this.ready&&!this.firing_change)return this.firing_change=!0,window.requestAnimationFrame(function(){t.firing_change=!1,t.ready&&(t.validation_results=t.validator.validate(t.root.getValue()),t.options.show_errors!=="never"?t.root.showValidationErrors(t.validation_results):t.root.showValidationErrors([]),t.trigger("change"))}),this}},{key:"compileTemplate",value:function(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.defaults.template;if(typeof r=="string"){if(!o.defaults.templates[r])throw new Error("Unknown template engine ".concat(r));if(!(e=o.defaults.templates[r]()))throw new Error("Template engine ".concat(r," missing required library."))}else e=r;if(!e)throw new Error("No template engine set");if(!e.compile)throw new Error("Invalid template engine set");return e.compile(t)}},{key:"_data",value:function(t,e,r){if(arguments.length!==3)return t.hasAttribute("data-jsoneditor-".concat(e))?this.__data[t.getAttribute("data-jsoneditor-".concat(e))]:null;var c;t.hasAttribute("data-jsoneditor-".concat(e))?c=t.getAttribute("data-jsoneditor-".concat(e)):(c=this.uuid++,t.setAttribute("data-jsoneditor-".concat(e),c)),this.__data[c]=r}},{key:"registerEditor",value:function(t){return this.editors=this.editors||{},this.editors[t.path]=t,this}},{key:"unregisterEditor",value:function(t){return this.editors=this.editors||{},this.editors[t.path]=null,this}},{key:"getEditor",value:function(t){if(this.editors)return this.editors[t]}},{key:"watch",value:function(t,e){return this.watchlist=this.watchlist||{},this.watchlist[t]=this.watchlist[t]||[],this.watchlist[t].push(e),this}},{key:"unwatch",value:function(t,e){if(!this.watchlist||!this.watchlist[t])return this;if(!e)return this.watchlist[t]=null,this;for(var r=[],c=0;c<this.watchlist[t].length;c++)this.watchlist[t][c]!==e&&r.push(this.watchlist[t][c]);return this.watchlist[t]=r.length?r:null,this}},{key:"notifyWatchers",value:function(t){if(!this.watchlist||!this.watchlist[t])return this;for(var e=0;e<this.watchlist[t].length;e++)this.watchlist[t][e]()}},{key:"isEnabled",value:function(){return!this.root||this.root.isEnabled()}},{key:"enable",value:function(){this.root.enable()}},{key:"disable",value:function(){this.root.disable()}},{key:"setCopyClipboardContents",value:function(t){this.copyClipboard=t}},{key:"getCopyClipboardContents",value:function(){return this.copyClipboard}},{key:"addNewStyleRules",value:function(t,e){var r=document.querySelector("#theme-".concat(t));r||((r=document.createElement("style")).setAttribute("id","theme-".concat(t)),r.appendChild(document.createTextNode("")),document.head.appendChild(r));for(var c=r.sheet?r.sheet:r.styleSheet,p=this.element.nodeName.toLowerCase();c.cssRules.length>0;)c.deleteRule(0);Object.keys(e).forEach(function(b){var k=t==="default"?b:"".concat(p,'[data-theme="').concat(t,'"] ').concat(b);c.insertRule?c.insertRule(k+" {"+decodeURIComponent(e[b])+"}",0):c.addRule&&c.addRule(k,decodeURIComponent(e[b]),0)})}},{key:"addNewStyleRulesToShadowRoot",value:function(t,e,r){var c=this.element.nodeName.toLowerCase(),p="";Object.keys(e).forEach(function(k){var P=t==="default"?k:"".concat(c,'[data-theme="').concat(t,'"] ').concat(k);p+=P+" {"+decodeURIComponent(e[k])+`}
`});var b=new CSSStyleSheet;b.replaceSync(p),r.adoptedStyleSheets=[].concat(nd(r.adoptedStyleSheets),[b])}}])&&id(n.prototype,s),o}();Ee.defaults=hn,Ee.AbstractEditor=R,Ee.AbstractTheme=Ce,Ee.AbstractIconLib=Be,Object.assign(Ee.defaults.themes,td),Object.assign(Ee.defaults.editors,or),Object.assign(Ee.defaults.templates,Uu),Object.assign(Ee.defaults.iconlibs,gh)}])})})(sf);const af="https://raw.githubusercontent.com/cuihantao/jsoncv/refs/heads/master/schema/jsoncv.schema.prof.json",cf={name:"Jane Smith",label:"Associate Professor",image:"",email:"jane.smith@university.edu",phone:"(555) 123-4567",url:"https://janesmith.edu",summary:"Research focuses on advanced computing methods, machine learning applications, and innovative teaching approaches in engineering",location:{address:"123 University Drive",postalCode:"12345",city:"College Town",region:"ST",countryCode:"US"},profiles:[{network:"Google Scholar",username:"Jane Smith",url:"https://scholar.google.com/citations?user=example"},{network:"LinkedIn",username:"Jane Smith",url:"https://www.linkedin.com/in/janesmith/"}]},lf=[{name:"State University",location:"College Town, ST",description:"Department of Engineering",position:"Associate Professor",url:"https://www.stateuniversity.edu",startDate:"2020-08-16",summary:"Research in advanced computing and applications"},{name:"Tech University",location:"Tech City, ST",description:"School of Engineering",position:"Assistant Professor",url:"https://www.techuniversity.edu",startDate:"2015-08-01",endDate:"2020-08-15",summary:"Research and teaching in engineering fundamentals"}],uf=[{organization:"Professional Society Conference",location:"Conference City, ST",position:"Co-Chair",url:"",startDate:"2024",endDate:"2025",summary:"Co-chairing the organization of annual conference",highlights:[]}],hf=[{institution:"Research University",location:"Research City, USA",url:"https://www.researchuniversity.edu",area:"Engineering",studyType:"Ph.D.",startDate:"2010-08-20",endDate:"2015-05-15",score:"",dissertation:"Advanced Methods in Engineering Applications",courses:[]},{institution:"Tech Institute",location:"Tech City, USA",url:"https://www.techinstitute.edu",area:"Engineering",studyType:"M.S.",startDate:"2008-09-01",endDate:"2010-05-30",score:"",courses:[]}],df=[{title:"Outstanding Research Award",date:"2023-01-01",awarder:"Professional Society"},{title:"Teaching Excellence Award",date:"2022-05-01",awarder:"State University"}],pf=[{name:"Professional Certification",date:"2020-12-20",issuer:"Professional Organization",url:""}],ff=[{name:"Novel Methods in Engineering Applications",publisher:"Journal of Engineering",releaseDate:"2023",url:"https://doi.org/example",summary:"Innovative approach to engineering problems"}],mf=[{name:"Research",level:"Expert",summary:"Expert in research methodology and advanced computing",keywords:["Research Methods","Data Analysis","Computing","Machine Learning"]}],yf=[{language:"English",fluency:"Native",summary:"Native speaker"}],gf=[{name:"Research Project Alpha",description:"Advanced Research in Engineering Applications",summary:"Investigation of novel methods in engineering",highlights:["Successful implementation","Published results"],keywords:["Research","Engineering"],startDate:"2022",endDate:"Present",url:"",roles:["Principal Investigator"],entity:"Funding Agency",type:"Research"}],vf={current_students:[{name:"Graduate Student",level:"Ph.D.",startDate:"2022-01",url:"",dissertation:"Research Topic in Engineering"}],past_students:[{name:"Former Student",level:"Ph.D.",period:"2020-2022",institution:"State University",url:""}]},bf=[{courseCode:"ENG 101",courseName:"Introduction to Engineering",description:"Fundamental concepts in engineering",institution:"State University",terms:["F'23","S'24"]}],_f=[{name:"Advanced Engineering Methods",contributions:["Development of novel approaches","Implementation of new techniques"]}],wf={editorialBoards:[{role:"Associate Editor",journal:"Journal of Engineering",period:"2020-Present",details:null}],societyServices:[{role:"Committee Member",organization:"Professional Society",period:"2021-Present"}],reviewServices:[{type:"Journal Review",organization:"Engineering Journal",year:"2023",details:"Reviewed technical papers"}],departmental:[{role:"Committee Member",committee:"Graduate Studies Committee",period:"2022-Present"}]},kf={invitedTalks:[{venue:"Research University",type:"Seminar",date:"2024-01",title:"Advances in Engineering Research"}],outreach:[{activity:"STEM Outreach Program",date:"2023-07",description:"Mentored high school students in engineering projects"}]},xf={canonical:"https://raw.githubusercontent.com/cuihantao/jsoncv/refs/heads/master/schema/jsoncv.schema.prof.json",lastModified:"2024-01-01T00:00:00Z",colorPrimary:"#000080",citationStyles:{owner:"bold",mentee:"plus"}},Xa={$schema:af,basics:cf,work:lf,volunteer:uf,education:hf,awards:df,certificates:pf,publications:ff,skills:mf,languages:yf,projects:gf,mentoring:vf,teaching:bf,researchAreas:_f,services:wf,presentations:kf,meta:xf},jf="http://json-schema.org/draft-07/schema",Cf=!1,Of={iso8601:{type:"string",description:"e.g. 2014-06-29",format:"date",pattern:"^([1-2][0-9]{3}-[0-1][0-9]-[0-3][0-9]|[1-2][0-9]{3}-[0-1][0-9]|[1-2][0-9]{3})$"}},Ef={$schema:{type:"string",description:"link to the version of the schema that can validate the CV",format:"uri"},basics:{type:"object",additionalProperties:!0,properties:{name:{type:"string"},label:{type:"string",description:"e.g. Web Developer"},image:{type:"string",description:"URL (as per RFC 3986) to a image in JPEG or PNG format"},email:{type:"string",description:"e.g. thomas@gmail.com",format:"email"},phone:{type:"string",description:"Phone numbers are stored as strings so use any format you like, e.g. 712-117-2923"},url:{type:"string",description:"URL (as per RFC 3986) to your website, e.g. personal homepage",format:"uri"},summary:{type:"string",description:"Write a short 2-3 sentence biography about yourself"},location:{type:"object",additionalProperties:!0,properties:{address:{type:"string",description:`To add multiple address lines, use 
. For example, 1234 Glcklichkeit Strae
Hinterhaus 5. Etage li.`},postalCode:{type:"string"},city:{type:"string"},countryCode:{type:"string",description:"code as per ISO-3166-1 ALPHA-2, e.g. US, AU, IN"},region:{type:"string",description:"The general region where you live. Can be a US state, or a province, for instance."}}},profiles:{type:"array",description:"Specify any number of social networks that you participate in",items:{type:"object",properties:{network:{type:"string",description:"The name of the social network (e.g. LinkedIn, Google Scholar, Scopus)",enum:["LinkedIn","Google Scholar","Scopus"]},username:{type:"string",description:"e.g. your-profile-name"},url:{type:"string",description:"Your profile URL on this network",format:"uri"}},required:["network","url"]}}}},work:{type:"array",items:{type:"object",additionalProperties:!0,properties:{name:{type:"string",description:"e.g. Facebook"},location:{type:"string",description:"e.g. Menlo Park, CA"},description:{type:"string",description:"e.g. Social Media Company"},position:{type:"string",description:"e.g. Software Engineer"},url:{type:"string",description:"e.g. http://facebook.example.com",format:"uri"},startDate:{$ref:"#/definitions/iso8601"},endDate:{$ref:"#/definitions/iso8601"},summary:{type:"string",description:"Give an overview of your responsibilities at the company"},highlights:{type:"array",description:"Specify multiple accomplishments",items:{type:"string",description:"e.g. Increased profits by 20% from 2011-2012 through viral advertising"}}}}},volunteer:{type:"array",items:{type:"object",additionalProperties:!0,properties:{organization:{type:"string",description:"e.g. Facebook"},position:{type:"string",description:"e.g. Software Engineer"},url:{type:"string",description:"e.g. http://facebook.example.com",format:"uri"},startDate:{$ref:"#/definitions/iso8601"},endDate:{$ref:"#/definitions/iso8601"},summary:{type:"string",description:"Give an overview of your responsibilities at the company"},highlights:{type:"array",description:"Specify accomplishments and achievements",items:{type:"string",description:"e.g. Increased profits by 20% from 2011-2012 through viral advertising"}}}}},education:{type:"array",items:{type:"object",additionalProperties:!0,properties:{institution:{type:"string",description:"e.g. Massachusetts Institute of Technology"},url:{type:"string",description:"e.g. http://facebook.example.com",format:"uri"},area:{type:"string",description:"e.g. Arts"},studyType:{type:"string",description:"e.g. Bachelor"},startDate:{$ref:"#/definitions/iso8601"},endDate:{$ref:"#/definitions/iso8601"},score:{type:"string",description:"grade point average, e.g. 3.67/4.0"},thesis:{type:"string",description:"Title of the thesis for Master's degree"},dissertation:{type:"string",description:"Title of the dissertation for Doctoral degree"},courses:{type:"array",description:"List notable courses/subjects",items:{type:"string",description:"e.g. H1302 - Introduction to American history"}}}}},awards:{type:"array",description:"Specify any awards you have received throughout your professional career",items:{type:"object",additionalProperties:!0,properties:{title:{type:"string",description:"e.g. One of the 100 greatest minds of the century"},date:{$ref:"#/definitions/iso8601"},awarder:{type:"string",description:"e.g. Time Magazine"},summary:{type:"string",description:"e.g. Received for my work with Quantum Physics"}}}},certificates:{type:"array",description:"Specify any certificates you have received throughout your professional career",items:{type:"object",additionalProperties:!0,properties:{name:{type:"string",description:"e.g. Certified Kubernetes Administrator"},date:{type:"string",description:"e.g. 1989-06-12",format:"date"},url:{type:"string",description:"e.g. http://example.com",format:"uri"},issuer:{type:"string",description:"e.g. CNCF"}}}},publications:{type:"array",description:"Specify your publications through your career",items:{type:"object",additionalProperties:!0,properties:{name:{type:"string",description:"e.g. The World Wide Web"},publisher:{type:"string",description:"e.g. IEEE, Computer Magazine"},releaseDate:{type:"string",description:"e.g. 2024-02-01"},url:{type:"string",description:"e.g. http://www.computer.org.example.com/csdl/mags/co/1996/10/rx069-abs.html",format:"uri"},summary:{type:"string",description:"Short summary of publication. e.g. Discussion of the World Wide Web, HTTP, HTML."}}}},skills:{type:"array",description:"List out your professional skill-set",items:{type:"object",additionalProperties:!0,properties:{name:{type:"string",description:"e.g. Web Development"},level:{type:"string",description:"e.g. Master"},summary:{type:"string",description:"e.g. Expert level proficiency in web development with extensive knowledge and experience in multiple programming languages, frameworks and web technologies."},keywords:{type:"array",description:"List some keywords pertaining to this skill",items:{type:"string",description:"e.g. HTML"}}}}},languages:{type:"array",description:"List any other languages you speak",items:{type:"object",additionalProperties:!0,properties:{language:{type:"string",description:"e.g. English, Spanish"},fluency:{type:"string",description:"e.g. Fluent, Beginner"},summary:{type:"string",description:"e.g. Proficient in English with a pretty good level of speaking, writing and comprehension abilities."}}}},interests:{type:"array",items:{type:"object",additionalProperties:!0,properties:{name:{type:"string",description:"e.g. Philosophy"},keywords:{type:"array",items:{type:"string",description:"e.g. Friedrich Nietzsche"}}}}},references:{type:"array",description:"List references you have received",items:{type:"object",additionalProperties:!0,properties:{name:{type:"string",description:"e.g. Timothy Cook"},reference:{type:"string",description:"e.g. Joe blogs was a great employee, who turned up to work at least once a week. He exceeded my expectations when it came to doing nothing."}}}},projects:{type:"array",description:"Specify career projects and research grants",items:{type:"object",additionalProperties:!0,properties:{name:{type:"string",description:"e.g. The World Wide Web"},description:{type:"string",description:"Short summary of project. e.g. Collated works of 2017."},highlights:{type:"array",description:"Specify multiple features",items:{type:"string",description:"e.g. Directs you close but not quite there"}},keywords:{type:"array",description:"Specify special elements involved",items:{type:"string",description:"e.g. AngularJS"}},startDate:{type:"string",description:"e.g. 2024-02-01"},endDate:{type:"string",description:"e.g. 2024-02-01"},url:{type:"string",format:"uri",description:"e.g. http://www.computer.org/csdl/mags/co/1996/10/rx069-abs.html"},roles:{type:"array",description:"Specify your role on this project or in company",items:{type:"string",description:"e.g. Team Lead, Speaker, Writer"}},entity:{type:"string",description:"Specify the relevant company/entity affiliations e.g. 'greenpeace', 'corporationXYZ'"},type:{type:"string",description:" e.g. 'volunteering', 'presentation', 'talk', 'application', 'conference'"},projectType:{type:"string",description:"Type of project",enum:["research","software","education","grant","other"]},fundingDetails:{type:"object",description:"Funding information if project is a grant",properties:{role:{type:"string",description:"e.g. PI, co-PI"},fundingAgency:{type:"string",description:"e.g. National Science Foundation"},amount:{type:"string",description:"e.g. $500,000"},status:{type:"string",enum:["active","completed","pending"]}}}}}},sideProjects:{type:"array",description:"Specify side projects",items:{type:"object",additionalProperties:!0,properties:{name:{type:"string",description:"e.g. The World Wide Web"},url:{type:"string",format:"uri",description:"e.g. http://www.computer.org/csdl/mags/co/1996/10/rx069-abs.html"},description:{type:"string",description:"Short summary of project. e.g. Collated works of 2017."},keywords:{type:"array",description:"Specify special elements involved",items:{type:"string",description:"e.g. AngularJS"}},startDate:{type:"string",description:"e.g. 2024-02-01"},endDate:{type:"string",description:"e.g. 2024-02-01"}}}},meta:{type:"object",description:"The schema version and any other tooling configuration lives here",additionalProperties:!0,properties:{name:{type:"string",description:"The name of this JSONCV data, will be used as part of the filename when downloading."},canonical:{type:"string",description:"URL (as per RFC 3986) to latest version of this document",format:"uri"},version:{type:"string",description:"A version field which follows semver - e.g. v1.0.0"},lastModified:{type:"string",description:"Using ISO 8601 with YYYY-MM-DDThh:mm:ss"},colorPrimary:{type:"string",description:"Primary color in hex format (e.g. #2A3FFB) to be used for styling the CV",pattern:"^#[0-9A-Fa-f]{6}$"},colorSecondary:{type:"string",description:"Secondary color in hex format (e.g. #777777) to be used for dimmed text in the CV",pattern:"^#[0-9A-Fa-f]{6}$"},citationStyles:{type:"object",description:"Styles for highlighting names in citations",properties:{owner:{type:"string",description:"Style for owner's name in citations",enum:["bold","asterisk","plus"]},mentee:{type:"string",description:"Style for mentee names in citations",enum:["bold","asterisk","plus"]}},default:{owner:"bold",mentee:"plus"}}}},teaching:{type:"array",description:"Courses taught and teaching experience",items:{type:"object",properties:{courseCode:{type:"string",description:"e.g. ECE 4153"},courseName:{type:"string",description:"e.g. Power System Analysis and Design"},description:{type:"string",description:"Course description and topics covered"},institution:{type:"string"},terms:{type:"array",items:{type:"string",description:"e.g. F'22, S'24"}}}}},mentoring:{type:"object",description:"Students mentored/advised by category",properties:{current_students:{type:"array",description:"Current students at my institution",items:{type:"object",properties:{name:{type:"string"},level:{type:"string",enum:["Ph.D.","M.S.","Undergraduate"],description:"Academic level"},startDate:{type:"string",description:"Start date in any format"},url:{type:"string",description:"URL to student's website or profile",format:"uri"},dissertation:{type:"string",description:"Dissertation topic or title (for PhD students)"},type:{type:"string",enum:["Thesis","Course-based"],description:"Type of Master's program (for MS students)"},thesis_title:{type:"string",description:"Thesis title (for thesis-based MS students)"},program:{type:"string",description:"Program name (for undergraduate students)"},period:{type:"string",description:"Academic period (for undergraduate students)"}},required:["name","level"]}},committee_service:{type:"array",description:"PhD committee service at other institutions",items:{type:"object",properties:{name:{type:"string"},institution:{type:"string",description:"Institution where the student is/was enrolled"},dissertation:{type:"string",description:"Dissertation title"},status:{type:"string",enum:["Current","Completed"],description:"Current status of the student"},completionDate:{type:"string",description:"Date of completion in any format"}},required:["name","institution","dissertation","status"]}},past_students:{type:"array",description:"Past students who have completed their degrees",items:{type:"object",properties:{name:{type:"string"},level:{type:"string",enum:["Ph.D.","M.S.","Undergraduate"],description:"Academic level"},institution:{type:"string",description:"Institution where the student was enrolled"},startDate:{type:"string",description:"Start date in any format"},endDate:{type:"string",description:"End date in any format"},url:{type:"string",description:"URL to student's website or profile",format:"uri"},dissertation:{type:"string",description:"Dissertation title (for PhD students)"},type:{type:"string",enum:["Thesis","Course-based"],description:"Type of Master's program (for MS students)"},thesis_title:{type:"string",description:"Thesis title (for thesis-based MS students)"},program:{type:"string",description:"Program name (for undergraduate students)"},period:{type:"string",description:"Academic period (for undergraduate students)"},placement:{type:"object",properties:{position:{type:"string",description:"Job title or position"},organization:{type:"string",description:"Company or institution name"},location:{type:"string",description:"Location of the position"}}}},required:["name","level","institution"]}}}},software:{type:"array",description:"Software projects and tools developed",items:{type:"object",properties:{name:{type:"string"},description:{type:"string"},url:{type:"string",format:"uri"},metrics:{type:"object",properties:{stars:{type:"integer"},forks:{type:"integer"}}}}}},researchAreas:{type:"array",description:"Research areas and contributions",items:{type:"object",properties:{name:{type:"string",description:"Name of the research area"},contributions:{type:"array",description:"List of contributions in this area",items:{type:"string"}}}}},services:{type:"object",description:"Professional service activities",properties:{editorialBoards:{type:"array",items:{type:"object",properties:{role:{type:"string",description:"e.g. Associate Editor, Guest Editor"},journal:{type:"string"},period:{type:"string",description:"e.g. 2012-Present"},details:{type:"string",description:"Additional details about the role"}}}},societyServices:{type:"array",items:{type:"object",properties:{role:{type:"string"},organization:{type:"string"},period:{type:"string"}}}},reviewServices:{type:"array",items:{type:"object",properties:{type:{type:"string",description:"e.g. Proposal Review, Journal Review"},organization:{type:"string"},year:{type:"string"},details:{type:"string"}}}},departmental:{type:"array",items:{type:"object",properties:{role:{type:"string"},committee:{type:"string"},period:{type:"string"}}}}}},presentations:{type:"object",description:"Presentations and talks",properties:{invitedTalks:{type:"array",items:{type:"object",properties:{venue:{type:"string"},type:{type:"string",description:"e.g. Webinar, Seminar"},date:{type:"string"},title:{type:"string"},url:{type:"string",description:"URL to presentation materials",format:"uri"}}}},conferences:{type:"array",items:{type:"object",properties:{title:{type:"string"},venue:{type:"string"},location:{type:"string"},date:{type:"string"},type:{type:"string"},description:{type:"string",description:"Description of the presentation content and significance"},url:{type:"string",description:"URL to presentation materials",format:"uri"}}}},outreach:{type:"array",items:{type:"object",properties:{activity:{type:"string"},date:{type:"string"},description:{type:"string",description:"Detailed description of the outreach activity and its impact"},url:{type:"string",description:"URL to related materials",format:"uri"}}}}}}},Sf="CV Schema",Pf="object",Tf={$schema:jf,additionalProperties:Cf,definitions:Of,properties:Ef,title:Sf,type:Pf},Lf={collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""};class Rf{constructor(d="",u=Lf){this.mapping=u,this.icon_prefix=d}getIconClass(d){return this.mapping[d]?this.icon_prefix+this.mapping[d]:this.icon_prefix+d}getIcon(d){const u=this.getIconClass(d);if(!u)return null;const m=document.createElement("i");return m.classList.add(...u.split(" ")),m}}const Af={collapse:"mdi:chevron-down",expand:"mdi:chevron-right",delete:"mdi:delete",edit:"mdi:pen",add:"mdi:plus",subtract:"mdi:minus",cancel:"mdi:cancel",save:"mdi:content-save",moveup:"mdi:arrow-up",moveright:"mdi:arrow-right",movedown:"mdi:arrow-down",moveleft:"mdi:arrow-left",copy:"mdi:content-copy",clear:"mdi:close-circle",time:"mdi:clock",calendar:"mdi:calendar",edit_properties:"mdi:format-list-bulleted"};class If extends Rf{getIcon(d){return sd(Af[d],{dom:!0})}}function Bf(h){h.defaults.iconlibs.myiconlib=If}function ia(h,d){const u=document.createEvent("HTMLEvents");u.initEvent(d,!0,!0),h.dispatchEvent(u)}const oa=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(h=>h in document.documentElement);class Nf{constructor(d,u={disable_theme_rules:!1}){this.jsoneditor=d,Object.keys(u).forEach(m=>{typeof d.options[m]<"u"&&(u[m]=d.options[m])}),this.options=u}getContainer(){return document.createElement("div")}getFloatRightLinkHolder(){const d=document.createElement("div");return d.classList.add("je-float-right-linkholder"),d}getModal(){const d=document.createElement("div");return d.style.display="none",d.classList.add("je-modal"),d}getGridContainer(){return document.createElement("div")}getGridRow(){const d=document.createElement("div");return d.classList.add("row"),d}getGridColumn(){return document.createElement("div")}setGridColumnSize(d,u){}getLink(d){const u=document.createElement("a");return u.setAttribute("href","#"),u.appendChild(document.createTextNode(d)),u}disableHeader(d){d.style.color="#ccc"}disableLabel(d){d.style.color="#ccc"}enableHeader(d){d.style.color=""}enableLabel(d){d.style.color=""}getInfoButton(d){const u=document.createElement("span");u.innerText="",u.classList.add("je-infobutton-icon");const m=document.createElement("span");return m.classList.add("je-infobutton-tooltip"),m.innerText=d,u.onmouseover=()=>{m.style.visibility="visible"},u.onmouseleave=()=>{m.style.visibility="hidden"},u.appendChild(m),u}getFormInputLabel(d,u){const m=document.createElement("label");return m.appendChild(document.createTextNode(d)),u&&m.classList.add("required"),m}getHeader(d,u){const m=document.createElement("h3");return typeof d=="string"?m.textContent=d:m.appendChild(d),m.classList.add("je-header"),m}getCheckbox(){const d=this.getFormInputField("checkbox");return d.classList.add("je-checkbox"),d}getCheckboxLabel(d,u){const m=document.createElement("label");return m.appendChild(document.createTextNode(`${d}`)),u&&m.classList.add("required"),m}getMultiCheckboxHolder(d,u,m,a){const f=document.createElement("div");return f.classList.add("control-group"),u&&(u.style.display="block",f.appendChild(u),a&&u.appendChild(a)),Object.values(d).forEach(y=>{y.style.display="inline-block",y.style.marginRight="20px",f.appendChild(y)}),m&&f.appendChild(m),f}getFormCheckboxControl(d,u,m){const a=document.createElement("div");return a.appendChild(d),u.style.width="auto",d.insertBefore(u,d.firstChild),m&&a.classList.add("je-checkbox-control--compact"),a}getFormRadio(d){const u=this.getFormInputField("radio");return Object.keys(d).forEach(m=>u.setAttribute(m,d[m])),u.classList.add("je-radio"),u}getFormRadioLabel(d,u){const m=document.createElement("label");return m.appendChild(document.createTextNode(`${d}`)),u&&m.classList.add("required"),m}getFormRadioControl(d,u,m){const a=document.createElement("div");return a.appendChild(d),u.style.width="auto",d.insertBefore(u,d.firstChild),m&&a.classList.add("je-radio-control--compact"),a}getSelectInput(d,u){const m=document.createElement("select");return d&&this.setSelectOptions(m,d),m}getSwitcher(d){const u=this.getSelectInput(d,!1);return u.classList.add("je-switcher"),u}getSwitcherOptions(d){return d.getElementsByTagName("option")}setSwitcherOptions(d,u,m){this.setSelectOptions(d,u,m)}setSelectOptions(d,u,m=[]){d.innerHTML="";for(let a=0;a<u.length;a++){const f=document.createElement("option");f.setAttribute("value",u[a]),f.textContent=m[a]||u[a],d.appendChild(f)}}getTextareaInput(){const d=document.createElement("textarea");return d.classList.add("je-textarea"),d}getRangeInput(d,u,m){const a=this.getFormInputField("range");return a.setAttribute("min",d),a.setAttribute("max",u),a.setAttribute("step",m),a}getStepperButtons(d){const u=document.createElement("div"),m=document.createElement("button");m.setAttribute("type","button"),m.classList.add("stepper-down");const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("stepper-up"),d.getAttribute("readonly")&&(m.setAttribute("disabled",!0),a.setAttribute("disabled",!0)),m.textContent="-",a.textContent="+";const y=(_,w)=>{w?_.value=Number(w):_.value=Number(_.value),_.setAttribute("initialized","1")},g=d.getAttribute("min"),v=d.getAttribute("max");return m.addEventListener("click",()=>{d.getAttribute("initialized")?g?Number(d.value)>Number(g)&&d.stepDown():d.stepDown():y(d,g),ia(d,"change")}),a.addEventListener("click",()=>{d.getAttribute("initialized")?v?Number(d.value)<Number(v)&&d.stepUp():d.stepUp():y(d,g),ia(d,"change")}),u.appendChild(m),u.appendChild(a),u}getRangeOutput(d,u){const m=document.createElement("output"),a=f=>{m.value=f.currentTarget.value};return d.addEventListener("change",a,!1),d.addEventListener("input",a,!1),m}getRangeControl(d,u){const m=document.createElement("div");return m.classList.add("je-range-control"),u&&m.appendChild(u),m.appendChild(d),m}getFormInputField(d){const u=document.createElement("input");return u.setAttribute("type",d),u}afterInputReady(d){}getFormControl(d,u,m,a,f){const y=document.createElement("div");return y.classList.add("form-control"),d&&(y.appendChild(d),f&&d.setAttribute("for",f)),(u.type==="checkbox"||u.type==="radio")&&d?(u.style.width="auto",d.insertBefore(u,d.firstChild),a&&d.appendChild(a)):(a&&d&&d.appendChild(a),y.appendChild(u)),m&&y.appendChild(m),y}getIndentedPanel(){const d=document.createElement("div");return d.classList.add("je-indented-panel"),d}getTopIndentedPanel(){const d=document.createElement("div");return d.classList.add("je-indented-panel--top"),d}getChildEditorHolder(){return document.createElement("div")}getDescription(d){const u=document.createElement("p");return window.DOMPurify?u.innerHTML=window.DOMPurify.sanitize(d):u.textContent=this.cleanText(d),u}getCheckboxDescription(d){return this.getDescription(d)}getFormInputDescription(d){return this.getDescription(d)}getButtonHolder(){return document.createElement("span")}getHeaderButtonHolder(){return this.getButtonHolder()}getFormButtonHolder(d){return this.getButtonHolder()}getButton(d,u,m){const a=document.createElement("button");return a.type="button",this.setButtonText(a,d,u,m),a}getFormButton(d,u,m){return this.getButton(d,u,m)}setButtonText(d,u,m,a){for(;d.firstChild;)d.removeChild(d.firstChild);if(m&&(d.appendChild(m),u=` ${u}`),!this.jsoneditor.options.iconlib||!this.jsoneditor.options.remove_button_labels||!m){const f=document.createElement("span");f.appendChild(document.createTextNode(u)),d.appendChild(f)}a&&d.setAttribute("title",a)}getTable(){return document.createElement("table")}getTableRow(){return document.createElement("tr")}getTableHead(){return document.createElement("thead")}getTableBody(){return document.createElement("tbody")}getTableHeaderCell(d){const u=document.createElement("th");return u.textContent=d,u}getTableCell(){return document.createElement("td")}getErrorMessage(d){const u=document.createElement("p");return u.style=u.style||{},u.style.color="red",u.appendChild(document.createTextNode(d)),u}addInputError(d,u){}removeInputError(d){}addTableRowError(d){}removeTableRowError(d){}getTabHolder(d){const u=typeof d>"u"?"":d,m=document.createElement("div");return m.innerHTML=`<div class='je-tabholder tabs'></div><div class='content' id='${u}'></div><div class='je-tabholder--clear'></div>`,m}getTopTabHolder(d){const u=typeof d>"u"?"":d,m=document.createElement("div");return m.innerHTML=`<div class='tabs je-tabholder--top'></div><div class='je-tabholder--clear'></div><div class='content' id='${u}'></div>`,m}applyStyles(d,u){Object.keys(u).forEach(m=>d.style[m]=u[m])}closest(d,u){for(;d&&d!==document;)if(d[oa]){if(d[oa](u))return d;d=d.parentNode}else return!1;return!1}insertBasicTopTab(d,u){u.firstChild.insertBefore(d,u.firstChild.firstChild)}getTab(d,u){const m=document.createElement("div");return m.appendChild(d),m.id=u,m.classList.add("je-tab"),m}getTopTab(d,u){const m=document.createElement("div");return m.appendChild(d),m.id=u,m.classList.add("je-tab--top"),m}getTabContentHolder(d){return d.children[1]}getTopTabContentHolder(d){return d.children[1]}getTabContent(){return this.getIndentedPanel()}getTopTabContent(){return this.getTopIndentedPanel()}markTabActive(d){this.applyStyles(d.tab,{opacity:1,background:"white"}),typeof d.rowPane<"u"?d.rowPane.style.display="":d.container.style.display=""}markTabInactive(d){this.applyStyles(d.tab,{opacity:.5,background:""}),typeof d.rowPane<"u"?d.rowPane.style.display="none":d.container.style.display="none"}addTab(d,u){d.children[0].appendChild(u)}addTopTab(d,u){d.children[0].appendChild(u)}getBlockLink(){const d=document.createElement("a");return d.classList.add("je-block-link"),d}getBlockLinkHolder(){return document.createElement("div")}getLinksHolder(){return document.createElement("div")}createMediaLink(d,u,m){d.appendChild(u),m.classList.add("je-media"),d.appendChild(m)}createImageLink(d,u,m){d.appendChild(u),u.appendChild(m)}getFirstTab(d){return d.firstChild.firstChild}getInputGroup(d,u){}cleanText(d){const u=document.createElement("div");return u.innerHTML=d,u.textContent||u.innerText}getDropZone(d){const u=document.createElement("div");return u.setAttribute("data-text",d),u.classList.add("je-dropzone"),u}getUploadPreview(d,u,m){const a=document.createElement("div");if(a.classList.add("je-upload-preview"),d.mimeType.substr(0,5)==="image"){const g=document.createElement("img");g.src=m,a.appendChild(g)}const f=document.createElement("div");f.innerHTML+=`<strong>Name:</strong> ${d.name}<br><strong>Type:</strong> ${d.type}<br><strong>Size:</strong> ${d.formattedSize}`,a.appendChild(f),a.appendChild(u);const y=document.createElement("div");return y.style.clear="left",a.appendChild(y),a}getProgressBar(){const m=document.createElement("progress");return m.setAttribute("max",100),m.setAttribute("value",0),m}updateProgressBar(d,u){d&&d.setAttribute("value",u)}updateProgressBarUnknown(d){d&&d.removeAttribute("value")}}class Ff extends Nf{getFormInputLabel(d,u){const m=super.getFormInputLabel(d,u);return m.classList.add("je-form-input-label"),m}getFormInputDescription(d){const u=super.getFormInputDescription(d);return u.classList.add("je-form-input-description"),u}getIndentedPanel(){const d=super.getIndentedPanel();return d.classList.add("je-indented-panel"),d}getTopIndentedPanel(){return this.getIndentedPanel()}getChildEditorHolder(){const d=super.getChildEditorHolder();return d.classList.add("je-child-editor-holder"),d}getHeaderButtonHolder(){const d=this.getButtonHolder();return d.classList.add("je-header-button-holder"),d}getTable(){const d=super.getTable();return d.classList.add("je-table"),d}addInputError(d,u){const m=this.closest(d,".form-control")||d.controlgroup;d.errmsg?d.errmsg.style.display="block":(d.errmsg=document.createElement("div"),d.errmsg.setAttribute("class","errmsg"),d.errmsg.style=d.errmsg.style||{},d.errmsg.style.color="red",m.appendChild(d.errmsg)),d.errmsg.innerHTML="",d.errmsg.appendChild(document.createTextNode(u))}removeInputError(d){d.style&&(d.style.borderColor=""),d.errmsg&&(d.errmsg.style.display="none")}}function Df(h){h.defaults.themes.mytheme=Ff}const Mf=["basics","education","work","researchAreas","publications","projects","teaching","presentations","awards","services","certificates","software","skills","languages","meta"],sa={basics:["location","profiles"],presentations:["invitedTalks","conferences","outreach"],services:["editorialBoards","societyServices","reviewServices","departmental"],mentoring:["current_students","past_students","committee_service"]},Vf=document.querySelector(".editor-toc"),aa=jn("ul",{parent:Vf});function Hf(h,d,u){const m=jn("ul",{parent:h.lastElementChild});return u.forEach(a=>{const f=jn("li",{parent:m});jn("a",{text:a,attrs:{href:`#root.${d}.${a}`},parent:f})}),m}const He={...Tf};Mf.forEach((h,d)=>{if(!He.properties[h]){console.warn(`Property ${h} not found in schema`);return}He.properties[h].propertyOrder=d;const u=jn("li",{parent:aa});jn("a",{text:h,attrs:{href:`#root.${h}`},parent:u}),sa[h]&&Hf(aa,h,sa[h])});ad(He,(h,d)=>{let u=h;u.endsWith("s")&&(u=u.slice(0,-1)),d.type==="array"&&d.items&&(d.items.headerTemplate=`${u} {{i1}}`)});const zf={"basics.properties.summary":"textarea","education.items.properties.area":"textarea","education.items.properties.dissertation":"textarea","education.items.properties.thesis":"textarea","work.items.properties.summary":"textarea","work.items.properties.highlights.items":"textarea","researchAreas.items.properties.contributions.items":"textarea","publications.items.properties.summary":"textarea","projects.items.properties.description":"textarea","projects.items.properties.highlights.items":"textarea","teaching.items.properties.courseName":"textarea","teaching.items.properties.description":"textarea","presentations.properties.invitedTalks.items.properties.title":"textarea","presentations.properties.conferences.items.properties.title":"textarea","presentations.properties.conferences.items.properties.description":"textarea","presentations.properties.outreach.items.properties.activity":"textarea","presentations.properties.outreach.items.properties.description":"textarea","awards.items.properties.summary":"textarea","services.properties.editorialBoards.items.properties.details":"textarea","services.properties.reviewServices.items.properties.details":"textarea","software.items.properties.description":"textarea","skills.items.properties.summary":"textarea","languages.items.properties.summary":"textarea"};for(const[h,d]of Object.entries(zf)){const u=of.get(He.properties,h);if(!u){console.warn(`Path ${h} not found in schema`);continue}u.format=d}He.title="CV Schema";He.properties.meta.properties.lastModified.description+=". This will be automatically updated when downloading.";ca();Df(Un.JSONEditor);Bf(Un.JSONEditor);const $f=document.querySelector(".editor-container");async function qf(){try{let h=ca();h||(h=Xa);const d=new Un.JSONEditor($f,{schema:He,theme:"mytheme",iconlib:"myiconlib",disable_array_delete_all_rows:!0,no_additional_properties:!0,startval:h});pd(m=>{const a=d.getValue();d.setValue({...a,publications:m})});const u=fd();if(u)try{await la(u)}catch(m){console.warn("Failed to process cached BibTeX:",m)}return d.on("ready",()=>{document.querySelectorAll("[data-schemapath]").forEach(m=>{const a=m.getAttribute("data-schemapath");m.id=a})}),d}catch(h){throw console.error("Error initializing editor:",h),h}}let Xt;qf().then(h=>{Xt=h,Xt.on("change",()=>{console.log("on editor change");const{data:d,json:u}=Uf();ii.text(u),cd(u),Gn.contentWindow&&Gn.contentWindow.postMessage({type:"update",data:d},"*")})}).catch(h=>{console.error("Failed to initialize editor:",h)});function Uf(){const h=Xt.getValue();return{data:h,json:JSON.stringify(h,null,2)}}const ii=rt(".output-json"),oi=rt(".output-html"),Gn=oi.get(0),Gf=rt("#fn-toggle-preview"),Wf=rt("#fn-new-data"),Jf=rt("#fn-upload-data"),si=rt("input[name=upload-data]"),Qf=rt("#fn-download-json"),Yf=rt("#fn-download-html"),Zf=rt("#fn-load-sample"),Xf=rt("#fn-print-preview"),Ka=rt("#fn-color-picker"),Kf=rt(".color-picker .value"),tm=h=>!(h.offsetWidth||h.offsetHeight||h.getClientRects().length);Gf.on("click",()=>{tm(Gn)?(ii.hide(),oi.show()):(oi.hide(),ii.show())});Wf.on("click",()=>{if(!confirm("Are you sure to create an empty CV? Your current data will be lost."))return;const h=ld(He.properties);console.log("new value",h),Xt.setValue(h)});Jf.on("click",()=>{confirm("Are you sure to upload an existing CV data? Your current data will be replaced.")&&si.trigger("click")});function ki(h){Kf.text(h),Ka.val(h),md(h)}function em(h){const d=Xt.getValue();d.meta||(d.meta={}),d.meta.colorPrimary=h,Xt.setValue(d)}Ka.on("change",h=>{const d=h.target.value;ki(d),Xt&&em(d)});const nm=ud();ki(nm);function tc(h){h.meta?.colorPrimary&&ki(h.meta.colorPrimary)}si.on("change",()=>{const h=si.get(0).files;if(h.length===0)return;const d=new FileReader;d.onload=u=>{let m;try{m=JSON.parse(u.target.result),Xt.setValue(m),tc(m)}catch(a){const f="Invalid JSON file: "+new String(a).toString();throw console.log(f),a}},d.readAsText(h[0])});function ec(h){const d=Xt.getValue(),u=d.meta||(d.meta={}),m=ua(d);if(u.lastModified=yd().format("YYYY-MM-DDTHH:mm:ssZ[Z]"),h==="json"){let a=`${m}.json`;ha(a,JSON.stringify(d,null,2))}else if(h==="html"){let a=`${m}.html`;gd(a,Gn)}Xt.getEditor("root.meta").setValue(u)}Qf.on("click",()=>{ec("json")});Yf.on("click",()=>{ec("html")});Zf.on("click",async()=>{if(confirm("Are you sure to load sample data? Your current data will be replaced."))try{const h=Xa;Xt.setValue(h),tc(h),await hd()}catch(h){console.error("Error loading sample data:",h),alert("Failed to load sample data: "+h.message)}});Xf.on("click",()=>{Gn.contentWindow.print()});const rm=rt("#fn-upload-bibtex"),im=rt("#fn-download-bibtex"),nc=rt("input[name=upload-bibtex]");nc.on("change",async h=>{const d=h.target.files[0];if(d){try{const u=await d.text();await la(u)}catch(u){console.error("Error processing BibTeX file:",u),alert("Failed to process BibTeX file: "+u.message)}h.target.value=""}});rm.on("click",()=>{nc.get(0).click()});im.on("click",()=>{const h=dd();if(!h){alert("No BibTeX data available to download");return}const d=Xt.getValue(),u=ua(d);ha(`${u}.bib`,h)});
